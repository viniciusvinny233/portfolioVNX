function SO(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Z1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function jP(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){if(this instanceof i){var r=[null];r.push.apply(r,arguments);var s=Function.bind.apply(e,r);return new s}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var If={},wO={get exports(){return If},set exports(n){If=n}},Lg={},G={},MO={get exports(){return G},set exports(n){G=n}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad=Symbol.for("react.element"),CO=Symbol.for("react.portal"),bO=Symbol.for("react.fragment"),EO=Symbol.for("react.strict_mode"),TO=Symbol.for("react.profiler"),PO=Symbol.for("react.provider"),BO=Symbol.for("react.context"),RO=Symbol.for("react.forward_ref"),LO=Symbol.for("react.suspense"),IO=Symbol.for("react.memo"),DO=Symbol.for("react.lazy"),iC=Symbol.iterator;function OO(n){return n===null||typeof n!="object"?null:(n=iC&&n[iC]||n["@@iterator"],typeof n=="function"?n:null)}var JP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XP=Object.assign,KP={};function $u(n,e,t){this.props=n,this.context=e,this.refs=KP,this.updater=t||JP}$u.prototype.isReactComponent={};$u.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};$u.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function YP(){}YP.prototype=$u.prototype;function $1(n,e,t){this.props=n,this.context=e,this.refs=KP,this.updater=t||JP}var eA=$1.prototype=new YP;eA.constructor=$1;XP(eA,$u.prototype);eA.isPureReactComponent=!0;var rC=Array.isArray,QP=Object.prototype.hasOwnProperty,tA={current:null},qP={key:!0,ref:!0,__self:!0,__source:!0};function ZP(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)QP.call(e,i)&&!qP.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Ad,type:n,key:s,ref:o,props:r,_owner:tA.current}}function FO(n,e){return{$$typeof:Ad,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function nA(n){return typeof n=="object"&&n!==null&&n.$$typeof===Ad}function kO(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var sC=/\/+/g;function Fv(n,e){return typeof n=="object"&&n!==null&&n.key!=null?kO(""+n.key):e.toString(36)}function fm(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Ad:case CO:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+Fv(o,0):i,rC(r)?(t="",n!=null&&(t=n.replace(sC,"$&/")+"/"),fm(r,e,t,"",function(c){return c})):r!=null&&(nA(r)&&(r=FO(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(sC,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",rC(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+Fv(s,a);o+=fm(s,e,t,l,r)}else if(l=OO(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+Fv(s,a++),o+=fm(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function $h(n,e,t){if(n==null)return n;var i=[],r=0;return fm(n,i,"","",function(s){return e.call(t,s,r++)}),i}function NO(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var _i={current:null},dm={transition:null},zO={ReactCurrentDispatcher:_i,ReactCurrentBatchConfig:dm,ReactCurrentOwner:tA};bt.Children={map:$h,forEach:function(n,e,t){$h(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return $h(n,function(){e++}),e},toArray:function(n){return $h(n,function(e){return e})||[]},only:function(n){if(!nA(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};bt.Component=$u;bt.Fragment=bO;bt.Profiler=TO;bt.PureComponent=$1;bt.StrictMode=EO;bt.Suspense=LO;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zO;bt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=XP({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=tA.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)QP.call(e,l)&&!qP.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Ad,type:n.type,key:r,ref:s,props:i,_owner:o}};bt.createContext=function(n){return n={$$typeof:BO,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:PO,_context:n},n.Consumer=n};bt.createElement=ZP;bt.createFactory=function(n){var e=ZP.bind(null,n);return e.type=n,e};bt.createRef=function(){return{current:null}};bt.forwardRef=function(n){return{$$typeof:RO,render:n}};bt.isValidElement=nA;bt.lazy=function(n){return{$$typeof:DO,_payload:{_status:-1,_result:n},_init:NO}};bt.memo=function(n,e){return{$$typeof:IO,type:n,compare:e===void 0?null:e}};bt.startTransition=function(n){var e=dm.transition;dm.transition={};try{n()}finally{dm.transition=e}};bt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};bt.useCallback=function(n,e){return _i.current.useCallback(n,e)};bt.useContext=function(n){return _i.current.useContext(n)};bt.useDebugValue=function(){};bt.useDeferredValue=function(n){return _i.current.useDeferredValue(n)};bt.useEffect=function(n,e){return _i.current.useEffect(n,e)};bt.useId=function(){return _i.current.useId()};bt.useImperativeHandle=function(n,e,t){return _i.current.useImperativeHandle(n,e,t)};bt.useInsertionEffect=function(n,e){return _i.current.useInsertionEffect(n,e)};bt.useLayoutEffect=function(n,e){return _i.current.useLayoutEffect(n,e)};bt.useMemo=function(n,e){return _i.current.useMemo(n,e)};bt.useReducer=function(n,e,t){return _i.current.useReducer(n,e,t)};bt.useRef=function(n){return _i.current.useRef(n)};bt.useState=function(n){return _i.current.useState(n)};bt.useSyncExternalStore=function(n,e,t){return _i.current.useSyncExternalStore(n,e,t)};bt.useTransition=function(){return _i.current.useTransition()};bt.version="18.2.0";(function(n){n.exports=bt})(MO);const Ig=Z1(G),Mx=SO({__proto__:null,default:Ig},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UO=G,GO=Symbol.for("react.element"),HO=Symbol.for("react.fragment"),VO=Object.prototype.hasOwnProperty,WO=UO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jO={key:!0,ref:!0,__self:!0,__source:!0};function $P(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)VO.call(e,i)&&!jO.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:GO,type:n,key:s,ref:o,props:r,_owner:WO.current}}Lg.Fragment=HO;Lg.jsx=$P;Lg.jsxs=$P;(function(n){n.exports=Lg})(wO);const Dg=If.Fragment,re=If.jsx,et=If.jsxs;var Cx={},Dm={},JO={get exports(){return Dm},set exports(n){Dm=n}},qi={},bx={},XO={get exports(){return bx},set exports(n){bx=n}},e2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(k,X){var K=k.length;k.push(X);e:for(;0<K;){var ae=K-1>>>1,V=k[ae];if(0<r(V,X))k[ae]=X,k[K]=V,K=ae;else break e}}function t(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var X=k[0],K=k.pop();if(K!==X){k[0]=K;e:for(var ae=0,V=k.length,se=V>>>1;ae<se;){var pe=2*(ae+1)-1,_e=k[pe],Z=pe+1,Ne=k[Z];if(0>r(_e,K))Z<V&&0>r(Ne,_e)?(k[ae]=Ne,k[Z]=K,ae=Z):(k[ae]=_e,k[pe]=K,ae=pe);else if(Z<V&&0>r(Ne,K))k[ae]=Ne,k[Z]=K,ae=Z;else break e}}return X}function r(k,X){var K=k.sortIndex-X.sortIndex;return K!==0?K:k.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(k){for(var X=t(c);X!==null;){if(X.callback===null)i(c);else if(X.startTime<=k)i(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(c)}}function M(k){if(v=!1,w(k),!y)if(t(l)!==null)y=!0,ee(E);else{var X=t(c);X!==null&&ie(M,X.startTime-k)}}function E(k,X){y=!1,v&&(v=!1,A(b),b=-1),m=!0;var K=p;try{for(w(X),h=t(l);h!==null&&(!(h.expirationTime>X)||k&&!O());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,p=h.priorityLevel;var V=ae(h.expirationTime<=X);X=n.unstable_now(),typeof V=="function"?h.callback=V:h===t(l)&&i(l),w(X)}else i(l);h=t(l)}if(h!==null)var se=!0;else{var pe=t(c);pe!==null&&ie(M,pe.startTime-X),se=!1}return se}finally{h=null,p=K,m=!1}}var P=!1,R=null,b=-1,B=5,L=-1;function O(){return!(n.unstable_now()-L<B)}function H(){if(R!==null){var k=n.unstable_now();L=k;var X=!0;try{X=R(!0,k)}finally{X?U():(P=!1,R=null)}}else P=!1}var U;if(typeof _=="function")U=function(){_(H)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,J=W.port2;W.port1.onmessage=H,U=function(){J.postMessage(null)}}else U=function(){x(H,0)};function ee(k){R=k,P||(P=!0,U())}function ie(k,X){b=x(function(){k(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,ee(E))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(k){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var K=p;p=X;try{return k()}finally{p=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,X){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var K=p;p=k;try{return X()}finally{p=K}},n.unstable_scheduleCallback=function(k,X,K){var ae=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ae+K:ae):K=ae,k){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=K+V,k={id:d++,callback:X,priorityLevel:k,startTime:K,expirationTime:V,sortIndex:-1},K>ae?(k.sortIndex=K,e(c,k),t(l)===null&&k===t(c)&&(v?(A(b),b=-1):v=!0,ie(M,K-ae))):(k.sortIndex=V,e(l,k),y||m||(y=!0,ee(E))),k},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(k){var X=p;return function(){var K=p;p=X;try{return k.apply(this,arguments)}finally{p=K}}}})(e2);(function(n){n.exports=e2})(XO);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t2=G,Ki=bx;function Me(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n2=new Set,Df={};function pl(n,e){Lu(n,e),Lu(n+"Capture",e)}function Lu(n,e){for(Df[n]=e,n=0;n<e.length;n++)n2.add(e[n])}var Js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ex=Object.prototype.hasOwnProperty,KO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oC={},aC={};function YO(n){return Ex.call(aC,n)?!0:Ex.call(oC,n)?!1:KO.test(n)?aC[n]=!0:(oC[n]=!0,!1)}function QO(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function qO(n,e,t,i){if(e===null||typeof e>"u"||QO(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ai(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){qn[n]=new Ai(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];qn[e]=new Ai(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){qn[n]=new Ai(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){qn[n]=new Ai(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){qn[n]=new Ai(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){qn[n]=new Ai(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){qn[n]=new Ai(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){qn[n]=new Ai(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){qn[n]=new Ai(n,5,!1,n.toLowerCase(),null,!1,!1)});var iA=/[\-:]([a-z])/g;function rA(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(iA,rA);qn[e]=new Ai(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(iA,rA);qn[e]=new Ai(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(iA,rA);qn[e]=new Ai(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){qn[n]=new Ai(n,1,!1,n.toLowerCase(),null,!1,!1)});qn.xlinkHref=new Ai("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){qn[n]=new Ai(n,1,!1,n.toLowerCase(),null,!0,!0)});function sA(n,e,t,i){var r=qn.hasOwnProperty(e)?qn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qO(e,t,r,i)&&(t=null),i||r===null?YO(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var $s=t2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ep=Symbol.for("react.element"),iu=Symbol.for("react.portal"),ru=Symbol.for("react.fragment"),oA=Symbol.for("react.strict_mode"),Tx=Symbol.for("react.profiler"),i2=Symbol.for("react.provider"),r2=Symbol.for("react.context"),aA=Symbol.for("react.forward_ref"),Px=Symbol.for("react.suspense"),Bx=Symbol.for("react.suspense_list"),lA=Symbol.for("react.memo"),So=Symbol.for("react.lazy"),s2=Symbol.for("react.offscreen"),lC=Symbol.iterator;function Bc(n){return n===null||typeof n!="object"?null:(n=lC&&n[lC]||n["@@iterator"],typeof n=="function"?n:null)}var dn=Object.assign,kv;function af(n){if(kv===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);kv=e&&e[1]||""}return`
`+kv+n}var Nv=!1;function zv(n,e){if(!n||Nv)return"";Nv=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Nv=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?af(n):""}function ZO(n){switch(n.tag){case 5:return af(n.type);case 16:return af("Lazy");case 13:return af("Suspense");case 19:return af("SuspenseList");case 0:case 2:case 15:return n=zv(n.type,!1),n;case 11:return n=zv(n.type.render,!1),n;case 1:return n=zv(n.type,!0),n;default:return""}}function Rx(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ru:return"Fragment";case iu:return"Portal";case Tx:return"Profiler";case oA:return"StrictMode";case Px:return"Suspense";case Bx:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case r2:return(n.displayName||"Context")+".Consumer";case i2:return(n._context.displayName||"Context")+".Provider";case aA:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case lA:return e=n.displayName||null,e!==null?e:Rx(n.type)||"Memo";case So:e=n._payload,n=n._init;try{return Rx(n(e))}catch{}}return null}function $O(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rx(e);case 8:return e===oA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jo(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function o2(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eF(n){var e=o2(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function tp(n){n._valueTracker||(n._valueTracker=eF(n))}function a2(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=o2(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Om(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Lx(n,e){var t=e.checked;return dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function uC(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=jo(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function l2(n,e){e=e.checked,e!=null&&sA(n,"checked",e,!1)}function Ix(n,e){l2(n,e);var t=jo(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Dx(n,e.type,t):e.hasOwnProperty("defaultValue")&&Dx(n,e.type,jo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function cC(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Dx(n,e,t){(e!=="number"||Om(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var lf=Array.isArray;function Su(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+jo(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function Ox(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Me(91));return dn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function fC(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Me(92));if(lf(t)){if(1<t.length)throw Error(Me(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:jo(t)}}function u2(n,e){var t=jo(e.value),i=jo(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function dC(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function c2(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fx(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?c2(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var np,f2=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(np=np||document.createElement("div"),np.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=np.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Of(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var hf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tF=["Webkit","ms","Moz","O"];Object.keys(hf).forEach(function(n){tF.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),hf[e]=hf[n]})});function d2(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||hf.hasOwnProperty(n)&&hf[n]?(""+e).trim():e+"px"}function h2(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=d2(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var nF=dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kx(n,e){if(e){if(nF[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Me(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Me(62))}}function Nx(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zx=null;function uA(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ux=null,wu=null,Mu=null;function hC(n){if(n=Md(n)){if(typeof Ux!="function")throw Error(Me(280));var e=n.stateNode;e&&(e=zg(e),Ux(n.stateNode,n.type,e))}}function p2(n){wu?Mu?Mu.push(n):Mu=[n]:wu=n}function m2(){if(wu){var n=wu,e=Mu;if(Mu=wu=null,hC(n),e)for(n=0;n<e.length;n++)hC(e[n])}}function g2(n,e){return n(e)}function v2(){}var Uv=!1;function y2(n,e,t){if(Uv)return n(e,t);Uv=!0;try{return g2(n,e,t)}finally{Uv=!1,(wu!==null||Mu!==null)&&(v2(),m2())}}function Ff(n,e){var t=n.stateNode;if(t===null)return null;var i=zg(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Me(231,e,typeof t));return t}var Gx=!1;if(Js)try{var Rc={};Object.defineProperty(Rc,"passive",{get:function(){Gx=!0}}),window.addEventListener("test",Rc,Rc),window.removeEventListener("test",Rc,Rc)}catch{Gx=!1}function iF(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(d){this.onError(d)}}var pf=!1,Fm=null,km=!1,Hx=null,rF={onError:function(n){pf=!0,Fm=n}};function sF(n,e,t,i,r,s,o,a,l){pf=!1,Fm=null,iF.apply(rF,arguments)}function oF(n,e,t,i,r,s,o,a,l){if(sF.apply(this,arguments),pf){if(pf){var c=Fm;pf=!1,Fm=null}else throw Error(Me(198));km||(km=!0,Hx=c)}}function ml(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function x2(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function pC(n){if(ml(n)!==n)throw Error(Me(188))}function aF(n){var e=n.alternate;if(!e){if(e=ml(n),e===null)throw Error(Me(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return pC(r),n;if(s===i)return pC(r),e;s=s.sibling}throw Error(Me(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Me(189))}}if(t.alternate!==i)throw Error(Me(190))}if(t.tag!==3)throw Error(Me(188));return t.stateNode.current===t?n:e}function _2(n){return n=aF(n),n!==null?A2(n):null}function A2(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=A2(n);if(e!==null)return e;n=n.sibling}return null}var S2=Ki.unstable_scheduleCallback,mC=Ki.unstable_cancelCallback,lF=Ki.unstable_shouldYield,uF=Ki.unstable_requestPaint,Sn=Ki.unstable_now,cF=Ki.unstable_getCurrentPriorityLevel,cA=Ki.unstable_ImmediatePriority,w2=Ki.unstable_UserBlockingPriority,Nm=Ki.unstable_NormalPriority,fF=Ki.unstable_LowPriority,M2=Ki.unstable_IdlePriority,Og=null,os=null;function dF(n){if(os&&typeof os.onCommitFiberRoot=="function")try{os.onCommitFiberRoot(Og,n,void 0,(n.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:mF,hF=Math.log,pF=Math.LN2;function mF(n){return n>>>=0,n===0?32:31-(hF(n)/pF|0)|0}var ip=64,rp=4194304;function uf(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function zm(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=uf(a):(s&=o,s!==0&&(i=uf(s)))}else o=t&~r,o!==0?i=uf(o):s!==0&&(i=uf(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Nr(e),r=1<<t,i|=n[t],e&=~r;return i}function gF(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vF(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Nr(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=gF(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function Vx(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function C2(){var n=ip;return ip<<=1,!(ip&4194240)&&(ip=64),n}function Gv(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Sd(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Nr(e),n[e]=t}function yF(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Nr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function fA(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Nr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Gt=0;function b2(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var E2,dA,T2,P2,B2,Wx=!1,sp=[],Io=null,Do=null,Oo=null,kf=new Map,Nf=new Map,Eo=[],xF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gC(n,e){switch(n){case"focusin":case"focusout":Io=null;break;case"dragenter":case"dragleave":Do=null;break;case"mouseover":case"mouseout":Oo=null;break;case"pointerover":case"pointerout":kf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nf.delete(e.pointerId)}}function Lc(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Md(e),e!==null&&dA(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function _F(n,e,t,i,r){switch(e){case"focusin":return Io=Lc(Io,n,e,t,i,r),!0;case"dragenter":return Do=Lc(Do,n,e,t,i,r),!0;case"mouseover":return Oo=Lc(Oo,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return kf.set(s,Lc(kf.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Nf.set(s,Lc(Nf.get(s)||null,n,e,t,i,r)),!0}return!1}function R2(n){var e=za(n.target);if(e!==null){var t=ml(e);if(t!==null){if(e=t.tag,e===13){if(e=x2(t),e!==null){n.blockedOn=e,B2(n.priority,function(){T2(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function hm(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=jx(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);zx=i,t.target.dispatchEvent(i),zx=null}else return e=Md(t),e!==null&&dA(e),n.blockedOn=t,!1;e.shift()}return!0}function vC(n,e,t){hm(n)&&t.delete(e)}function AF(){Wx=!1,Io!==null&&hm(Io)&&(Io=null),Do!==null&&hm(Do)&&(Do=null),Oo!==null&&hm(Oo)&&(Oo=null),kf.forEach(vC),Nf.forEach(vC)}function Ic(n,e){n.blockedOn===e&&(n.blockedOn=null,Wx||(Wx=!0,Ki.unstable_scheduleCallback(Ki.unstable_NormalPriority,AF)))}function zf(n){function e(r){return Ic(r,n)}if(0<sp.length){Ic(sp[0],n);for(var t=1;t<sp.length;t++){var i=sp[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Io!==null&&Ic(Io,n),Do!==null&&Ic(Do,n),Oo!==null&&Ic(Oo,n),kf.forEach(e),Nf.forEach(e),t=0;t<Eo.length;t++)i=Eo[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Eo.length&&(t=Eo[0],t.blockedOn===null);)R2(t),t.blockedOn===null&&Eo.shift()}var Cu=$s.ReactCurrentBatchConfig,Um=!0;function SF(n,e,t,i){var r=Gt,s=Cu.transition;Cu.transition=null;try{Gt=1,hA(n,e,t,i)}finally{Gt=r,Cu.transition=s}}function wF(n,e,t,i){var r=Gt,s=Cu.transition;Cu.transition=null;try{Gt=4,hA(n,e,t,i)}finally{Gt=r,Cu.transition=s}}function hA(n,e,t,i){if(Um){var r=jx(n,e,t,i);if(r===null)qv(n,e,i,Gm,t),gC(n,i);else if(_F(r,n,e,t,i))i.stopPropagation();else if(gC(n,i),e&4&&-1<xF.indexOf(n)){for(;r!==null;){var s=Md(r);if(s!==null&&E2(s),s=jx(n,e,t,i),s===null&&qv(n,e,i,Gm,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else qv(n,e,i,null,t)}}var Gm=null;function jx(n,e,t,i){if(Gm=null,n=uA(i),n=za(n),n!==null)if(e=ml(n),e===null)n=null;else if(t=e.tag,t===13){if(n=x2(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Gm=n,null}function L2(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cF()){case cA:return 1;case w2:return 4;case Nm:case fF:return 16;case M2:return 536870912;default:return 16}default:return 16}}var Po=null,pA=null,pm=null;function I2(){if(pm)return pm;var n,e=pA,t=e.length,i,r="value"in Po?Po.value:Po.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return pm=r.slice(n,1<i?1-i:void 0)}function mm(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function op(){return!0}function yC(){return!1}function Zi(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?op:yC,this.isPropagationStopped=yC,this}return dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=op)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=op)},persist:function(){},isPersistent:op}),e}var ec={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mA=Zi(ec),wd=dn({},ec,{view:0,detail:0}),MF=Zi(wd),Hv,Vv,Dc,Fg=dn({},wd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gA,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Dc&&(Dc&&n.type==="mousemove"?(Hv=n.screenX-Dc.screenX,Vv=n.screenY-Dc.screenY):Vv=Hv=0,Dc=n),Hv)},movementY:function(n){return"movementY"in n?n.movementY:Vv}}),xC=Zi(Fg),CF=dn({},Fg,{dataTransfer:0}),bF=Zi(CF),EF=dn({},wd,{relatedTarget:0}),Wv=Zi(EF),TF=dn({},ec,{animationName:0,elapsedTime:0,pseudoElement:0}),PF=Zi(TF),BF=dn({},ec,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),RF=Zi(BF),LF=dn({},ec,{data:0}),_C=Zi(LF),IF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FF(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=OF[n])?!!e[n]:!1}function gA(){return FF}var kF=dn({},wd,{key:function(n){if(n.key){var e=IF[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=mm(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?DF[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gA,charCode:function(n){return n.type==="keypress"?mm(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?mm(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),NF=Zi(kF),zF=dn({},Fg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),AC=Zi(zF),UF=dn({},wd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gA}),GF=Zi(UF),HF=dn({},ec,{propertyName:0,elapsedTime:0,pseudoElement:0}),VF=Zi(HF),WF=dn({},Fg,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),jF=Zi(WF),JF=[9,13,27,32],vA=Js&&"CompositionEvent"in window,mf=null;Js&&"documentMode"in document&&(mf=document.documentMode);var XF=Js&&"TextEvent"in window&&!mf,D2=Js&&(!vA||mf&&8<mf&&11>=mf),SC=String.fromCharCode(32),wC=!1;function O2(n,e){switch(n){case"keyup":return JF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F2(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var su=!1;function KF(n,e){switch(n){case"compositionend":return F2(e);case"keypress":return e.which!==32?null:(wC=!0,SC);case"textInput":return n=e.data,n===SC&&wC?null:n;default:return null}}function YF(n,e){if(su)return n==="compositionend"||!vA&&O2(n,e)?(n=I2(),pm=pA=Po=null,su=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return D2&&e.locale!=="ko"?null:e.data;default:return null}}var QF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MC(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!QF[n.type]:e==="textarea"}function k2(n,e,t,i){p2(i),e=Hm(e,"onChange"),0<e.length&&(t=new mA("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var gf=null,Uf=null;function qF(n){K2(n,0)}function kg(n){var e=lu(n);if(a2(e))return n}function ZF(n,e){if(n==="change")return e}var N2=!1;if(Js){var jv;if(Js){var Jv="oninput"in document;if(!Jv){var CC=document.createElement("div");CC.setAttribute("oninput","return;"),Jv=typeof CC.oninput=="function"}jv=Jv}else jv=!1;N2=jv&&(!document.documentMode||9<document.documentMode)}function bC(){gf&&(gf.detachEvent("onpropertychange",z2),Uf=gf=null)}function z2(n){if(n.propertyName==="value"&&kg(Uf)){var e=[];k2(e,Uf,n,uA(n)),y2(qF,e)}}function $F(n,e,t){n==="focusin"?(bC(),gf=e,Uf=t,gf.attachEvent("onpropertychange",z2)):n==="focusout"&&bC()}function ek(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return kg(Uf)}function tk(n,e){if(n==="click")return kg(e)}function nk(n,e){if(n==="input"||n==="change")return kg(e)}function ik(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Hr=typeof Object.is=="function"?Object.is:ik;function Gf(n,e){if(Hr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!Ex.call(e,r)||!Hr(n[r],e[r]))return!1}return!0}function EC(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function TC(n,e){var t=EC(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=EC(t)}}function U2(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?U2(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function G2(){for(var n=window,e=Om();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Om(n.document)}return e}function yA(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function rk(n){var e=G2(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&U2(t.ownerDocument.documentElement,t)){if(i!==null&&yA(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=TC(t,s);var o=TC(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var sk=Js&&"documentMode"in document&&11>=document.documentMode,ou=null,Jx=null,vf=null,Xx=!1;function PC(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Xx||ou==null||ou!==Om(i)||(i=ou,"selectionStart"in i&&yA(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),vf&&Gf(vf,i)||(vf=i,i=Hm(Jx,"onSelect"),0<i.length&&(e=new mA("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=ou)))}function ap(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var au={animationend:ap("Animation","AnimationEnd"),animationiteration:ap("Animation","AnimationIteration"),animationstart:ap("Animation","AnimationStart"),transitionend:ap("Transition","TransitionEnd")},Xv={},H2={};Js&&(H2=document.createElement("div").style,"AnimationEvent"in window||(delete au.animationend.animation,delete au.animationiteration.animation,delete au.animationstart.animation),"TransitionEvent"in window||delete au.transitionend.transition);function Ng(n){if(Xv[n])return Xv[n];if(!au[n])return n;var e=au[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in H2)return Xv[n]=e[t];return n}var V2=Ng("animationend"),W2=Ng("animationiteration"),j2=Ng("animationstart"),J2=Ng("transitionend"),X2=new Map,BC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ta(n,e){X2.set(n,e),pl(e,[n])}for(var Kv=0;Kv<BC.length;Kv++){var Yv=BC[Kv],ok=Yv.toLowerCase(),ak=Yv[0].toUpperCase()+Yv.slice(1);ta(ok,"on"+ak)}ta(V2,"onAnimationEnd");ta(W2,"onAnimationIteration");ta(j2,"onAnimationStart");ta("dblclick","onDoubleClick");ta("focusin","onFocus");ta("focusout","onBlur");ta(J2,"onTransitionEnd");Lu("onMouseEnter",["mouseout","mouseover"]);Lu("onMouseLeave",["mouseout","mouseover"]);Lu("onPointerEnter",["pointerout","pointerover"]);Lu("onPointerLeave",["pointerout","pointerover"]);pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pl("onBeforeInput",["compositionend","keypress","textInput","paste"]);pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lk=new Set("cancel close invalid load scroll toggle".split(" ").concat(cf));function RC(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,oF(i,e,void 0,n),n.currentTarget=null}function K2(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;RC(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;RC(r,a,c),s=l}}}if(km)throw n=Hx,km=!1,Hx=null,n}function Kt(n,e){var t=e[Zx];t===void 0&&(t=e[Zx]=new Set);var i=n+"__bubble";t.has(i)||(Y2(e,n,2,!1),t.add(i))}function Qv(n,e,t){var i=0;e&&(i|=4),Y2(t,n,i,e)}var lp="_reactListening"+Math.random().toString(36).slice(2);function Hf(n){if(!n[lp]){n[lp]=!0,n2.forEach(function(t){t!=="selectionchange"&&(lk.has(t)||Qv(t,!1,n),Qv(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[lp]||(e[lp]=!0,Qv("selectionchange",!1,e))}}function Y2(n,e,t,i){switch(L2(e)){case 1:var r=SF;break;case 4:r=wF;break;default:r=hA}t=r.bind(null,e,t,n),r=void 0,!Gx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function qv(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=za(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}y2(function(){var c=s,d=uA(t),h=[];e:{var p=X2.get(n);if(p!==void 0){var m=mA,y=n;switch(n){case"keypress":if(mm(t)===0)break e;case"keydown":case"keyup":m=NF;break;case"focusin":y="focus",m=Wv;break;case"focusout":y="blur",m=Wv;break;case"beforeblur":case"afterblur":m=Wv;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=xC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=bF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=GF;break;case V2:case W2:case j2:m=PF;break;case J2:m=VF;break;case"scroll":m=MF;break;case"wheel":m=jF;break;case"copy":case"cut":case"paste":m=RF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=AC}var v=(e&4)!==0,x=!v&&n==="scroll",A=v?p!==null?p+"Capture":null:p;v=[];for(var _=c,w;_!==null;){w=_;var M=w.stateNode;if(w.tag===5&&M!==null&&(w=M,A!==null&&(M=Ff(_,A),M!=null&&v.push(Vf(_,M,w)))),x)break;_=_.return}0<v.length&&(p=new m(p,y,null,t,d),h.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==zx&&(y=t.relatedTarget||t.fromElement)&&(za(y)||y[Xs]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=c,y=y?za(y):null,y!==null&&(x=ml(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(v=xC,M="onMouseLeave",A="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(v=AC,M="onPointerLeave",A="onPointerEnter",_="pointer"),x=m==null?p:lu(m),w=y==null?p:lu(y),p=new v(M,_+"leave",m,t,d),p.target=x,p.relatedTarget=w,M=null,za(d)===c&&(v=new v(A,_+"enter",y,t,d),v.target=w,v.relatedTarget=x,M=v),x=M,m&&y)t:{for(v=m,A=y,_=0,w=v;w;w=Ol(w))_++;for(w=0,M=A;M;M=Ol(M))w++;for(;0<_-w;)v=Ol(v),_--;for(;0<w-_;)A=Ol(A),w--;for(;_--;){if(v===A||A!==null&&v===A.alternate)break t;v=Ol(v),A=Ol(A)}v=null}else v=null;m!==null&&LC(h,p,m,v,!1),y!==null&&x!==null&&LC(h,x,y,v,!0)}}e:{if(p=c?lu(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var E=ZF;else if(MC(p))if(N2)E=nk;else{E=ek;var P=$F}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=tk);if(E&&(E=E(n,c))){k2(h,E,t,d);break e}P&&P(n,p,c),n==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&Dx(p,"number",p.value)}switch(P=c?lu(c):window,n){case"focusin":(MC(P)||P.contentEditable==="true")&&(ou=P,Jx=c,vf=null);break;case"focusout":vf=Jx=ou=null;break;case"mousedown":Xx=!0;break;case"contextmenu":case"mouseup":case"dragend":Xx=!1,PC(h,t,d);break;case"selectionchange":if(sk)break;case"keydown":case"keyup":PC(h,t,d)}var R;if(vA)e:{switch(n){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else su?O2(n,t)&&(b="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(b="onCompositionStart");b&&(D2&&t.locale!=="ko"&&(su||b!=="onCompositionStart"?b==="onCompositionEnd"&&su&&(R=I2()):(Po=d,pA="value"in Po?Po.value:Po.textContent,su=!0)),P=Hm(c,b),0<P.length&&(b=new _C(b,n,null,t,d),h.push({event:b,listeners:P}),R?b.data=R:(R=F2(t),R!==null&&(b.data=R)))),(R=XF?KF(n,t):YF(n,t))&&(c=Hm(c,"onBeforeInput"),0<c.length&&(d=new _C("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:c}),d.data=R))}K2(h,e)})}function Vf(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Hm(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Ff(n,t),s!=null&&i.unshift(Vf(n,s,r)),s=Ff(n,e),s!=null&&i.push(Vf(n,s,r))),n=n.return}return i}function Ol(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function LC(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Ff(t,s),l!=null&&o.unshift(Vf(t,l,a))):r||(l=Ff(t,s),l!=null&&o.push(Vf(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var uk=/\r\n?/g,ck=/\u0000|\uFFFD/g;function IC(n){return(typeof n=="string"?n:""+n).replace(uk,`
`).replace(ck,"")}function up(n,e,t){if(e=IC(e),IC(n)!==e&&t)throw Error(Me(425))}function Vm(){}var Kx=null,Yx=null;function Qx(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qx=typeof setTimeout=="function"?setTimeout:void 0,fk=typeof clearTimeout=="function"?clearTimeout:void 0,DC=typeof Promise=="function"?Promise:void 0,dk=typeof queueMicrotask=="function"?queueMicrotask:typeof DC<"u"?function(n){return DC.resolve(null).then(n).catch(hk)}:qx;function hk(n){setTimeout(function(){throw n})}function Zv(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),zf(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);zf(e)}function Fo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function OC(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var tc=Math.random().toString(36).slice(2),ss="__reactFiber$"+tc,Wf="__reactProps$"+tc,Xs="__reactContainer$"+tc,Zx="__reactEvents$"+tc,pk="__reactListeners$"+tc,mk="__reactHandles$"+tc;function za(n){var e=n[ss];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Xs]||t[ss]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=OC(n);n!==null;){if(t=n[ss])return t;n=OC(n)}return e}n=t,t=n.parentNode}return null}function Md(n){return n=n[ss]||n[Xs],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function lu(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Me(33))}function zg(n){return n[Wf]||null}var $x=[],uu=-1;function na(n){return{current:n}}function Qt(n){0>uu||(n.current=$x[uu],$x[uu]=null,uu--)}function Jt(n,e){uu++,$x[uu]=n.current,n.current=e}var Jo={},ai=na(Jo),Li=na(!1),sl=Jo;function Iu(n,e){var t=n.type.contextTypes;if(!t)return Jo;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Ii(n){return n=n.childContextTypes,n!=null}function Wm(){Qt(Li),Qt(ai)}function FC(n,e,t){if(ai.current!==Jo)throw Error(Me(168));Jt(ai,e),Jt(Li,t)}function Q2(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Me(108,$O(n)||"Unknown",r));return dn({},t,i)}function jm(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Jo,sl=ai.current,Jt(ai,n),Jt(Li,Li.current),!0}function kC(n,e,t){var i=n.stateNode;if(!i)throw Error(Me(169));t?(n=Q2(n,e,sl),i.__reactInternalMemoizedMergedChildContext=n,Qt(Li),Qt(ai),Jt(ai,n)):Qt(Li),Jt(Li,t)}var Is=null,Ug=!1,$v=!1;function q2(n){Is===null?Is=[n]:Is.push(n)}function gk(n){Ug=!0,q2(n)}function ia(){if(!$v&&Is!==null){$v=!0;var n=0,e=Gt;try{var t=Is;for(Gt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Is=null,Ug=!1}catch(r){throw Is!==null&&(Is=Is.slice(n+1)),S2(cA,ia),r}finally{Gt=e,$v=!1}}return null}var cu=[],fu=0,Jm=null,Xm=0,gr=[],vr=0,ol=null,Fs=1,ks="";function Pa(n,e){cu[fu++]=Xm,cu[fu++]=Jm,Jm=n,Xm=e}function Z2(n,e,t){gr[vr++]=Fs,gr[vr++]=ks,gr[vr++]=ol,ol=n;var i=Fs;n=ks;var r=32-Nr(i)-1;i&=~(1<<r),t+=1;var s=32-Nr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Fs=1<<32-Nr(e)+r|t<<r|i,ks=s+n}else Fs=1<<s|t<<r|i,ks=n}function xA(n){n.return!==null&&(Pa(n,1),Z2(n,1,0))}function _A(n){for(;n===Jm;)Jm=cu[--fu],cu[fu]=null,Xm=cu[--fu],cu[fu]=null;for(;n===ol;)ol=gr[--vr],gr[vr]=null,ks=gr[--vr],gr[vr]=null,Fs=gr[--vr],gr[vr]=null}var Ji=null,Wi=null,tn=!1,Or=null;function $2(n,e){var t=xr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function NC(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Ji=n,Wi=Fo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Ji=n,Wi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=ol!==null?{id:Fs,overflow:ks}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=xr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Ji=n,Wi=null,!0):!1;default:return!1}}function e_(n){return(n.mode&1)!==0&&(n.flags&128)===0}function t_(n){if(tn){var e=Wi;if(e){var t=e;if(!NC(n,e)){if(e_(n))throw Error(Me(418));e=Fo(t.nextSibling);var i=Ji;e&&NC(n,e)?$2(i,t):(n.flags=n.flags&-4097|2,tn=!1,Ji=n)}}else{if(e_(n))throw Error(Me(418));n.flags=n.flags&-4097|2,tn=!1,Ji=n}}}function zC(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ji=n}function cp(n){if(n!==Ji)return!1;if(!tn)return zC(n),tn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Qx(n.type,n.memoizedProps)),e&&(e=Wi)){if(e_(n))throw eB(),Error(Me(418));for(;e;)$2(n,e),e=Fo(e.nextSibling)}if(zC(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Me(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Wi=Fo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Wi=null}}else Wi=Ji?Fo(n.stateNode.nextSibling):null;return!0}function eB(){for(var n=Wi;n;)n=Fo(n.nextSibling)}function Du(){Wi=Ji=null,tn=!1}function AA(n){Or===null?Or=[n]:Or.push(n)}var vk=$s.ReactCurrentBatchConfig;function Lr(n,e){if(n&&n.defaultProps){e=dn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Km=na(null),Ym=null,du=null,SA=null;function wA(){SA=du=Ym=null}function MA(n){var e=Km.current;Qt(Km),n._currentValue=e}function n_(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function bu(n,e){Ym=n,SA=du=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ri=!0),n.firstContext=null)}function Sr(n){var e=n._currentValue;if(SA!==n)if(n={context:n,memoizedValue:e,next:null},du===null){if(Ym===null)throw Error(Me(308));du=n,Ym.dependencies={lanes:0,firstContext:n}}else du=du.next=n;return e}var Ua=null;function CA(n){Ua===null?Ua=[n]:Ua.push(n)}function tB(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,CA(e)):(t.next=r.next,r.next=t),e.interleaved=t,Ks(n,i)}function Ks(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var wo=!1;function bA(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nB(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Hs(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ko(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,It&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ks(n,t)}return r=i.interleaved,r===null?(e.next=e,CA(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ks(n,t)}function gm(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,fA(n,t)}}function UC(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Qm(n,e,t,i){var r=n.updateQueue;wo=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,v=a;switch(p=e,m=t,v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(m,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,p=typeof y=="function"?y.call(m,h,p):y,p==null)break e;h=dn({},h,p);break e;case 2:wo=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(d===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);ll|=o,n.lanes=o,n.memoizedState=h}}function GC(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Me(191,r));r.call(i)}}}var iB=new t2.Component().refs;function i_(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:dn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Gg={isMounted:function(n){return(n=n._reactInternals)?ml(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=yi(),r=zo(n),s=Hs(i,r);s.payload=e,t!=null&&(s.callback=t),e=ko(n,s,r),e!==null&&(zr(e,n,r,i),gm(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=yi(),r=zo(n),s=Hs(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=ko(n,s,r),e!==null&&(zr(e,n,r,i),gm(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=yi(),i=zo(n),r=Hs(t,i);r.tag=2,e!=null&&(r.callback=e),e=ko(n,r,i),e!==null&&(zr(e,n,i,t),gm(e,n,i))}};function HC(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Gf(t,i)||!Gf(r,s):!0}function rB(n,e,t){var i=!1,r=Jo,s=e.contextType;return typeof s=="object"&&s!==null?s=Sr(s):(r=Ii(e)?sl:ai.current,i=e.contextTypes,s=(i=i!=null)?Iu(n,r):Jo),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gg,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function VC(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Gg.enqueueReplaceState(e,e.state,null)}function r_(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=iB,bA(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Sr(s):(s=Ii(e)?sl:ai.current,r.context=Iu(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(i_(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Gg.enqueueReplaceState(r,r.state,null),Qm(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Oc(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Me(309));var i=t.stateNode}if(!i)throw Error(Me(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===iB&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Me(284));if(!t._owner)throw Error(Me(290,n))}return n}function fp(n,e){throw n=Object.prototype.toString.call(e),Error(Me(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function WC(n){var e=n._init;return e(n._payload)}function sB(n){function e(A,_){if(n){var w=A.deletions;w===null?(A.deletions=[_],A.flags|=16):w.push(_)}}function t(A,_){if(!n)return null;for(;_!==null;)e(A,_),_=_.sibling;return null}function i(A,_){for(A=new Map;_!==null;)_.key!==null?A.set(_.key,_):A.set(_.index,_),_=_.sibling;return A}function r(A,_){return A=Uo(A,_),A.index=0,A.sibling=null,A}function s(A,_,w){return A.index=w,n?(w=A.alternate,w!==null?(w=w.index,w<_?(A.flags|=2,_):w):(A.flags|=2,_)):(A.flags|=1048576,_)}function o(A){return n&&A.alternate===null&&(A.flags|=2),A}function a(A,_,w,M){return _===null||_.tag!==6?(_=oy(w,A.mode,M),_.return=A,_):(_=r(_,w),_.return=A,_)}function l(A,_,w,M){var E=w.type;return E===ru?d(A,_,w.props.children,M,w.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===So&&WC(E)===_.type)?(M=r(_,w.props),M.ref=Oc(A,_,w),M.return=A,M):(M=Sm(w.type,w.key,w.props,null,A.mode,M),M.ref=Oc(A,_,w),M.return=A,M)}function c(A,_,w,M){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=ay(w,A.mode,M),_.return=A,_):(_=r(_,w.children||[]),_.return=A,_)}function d(A,_,w,M,E){return _===null||_.tag!==7?(_=Qa(w,A.mode,M,E),_.return=A,_):(_=r(_,w),_.return=A,_)}function h(A,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=oy(""+_,A.mode,w),_.return=A,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ep:return w=Sm(_.type,_.key,_.props,null,A.mode,w),w.ref=Oc(A,null,_),w.return=A,w;case iu:return _=ay(_,A.mode,w),_.return=A,_;case So:var M=_._init;return h(A,M(_._payload),w)}if(lf(_)||Bc(_))return _=Qa(_,A.mode,w,null),_.return=A,_;fp(A,_)}return null}function p(A,_,w,M){var E=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:a(A,_,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ep:return w.key===E?l(A,_,w,M):null;case iu:return w.key===E?c(A,_,w,M):null;case So:return E=w._init,p(A,_,E(w._payload),M)}if(lf(w)||Bc(w))return E!==null?null:d(A,_,w,M,null);fp(A,w)}return null}function m(A,_,w,M,E){if(typeof M=="string"&&M!==""||typeof M=="number")return A=A.get(w)||null,a(_,A,""+M,E);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case ep:return A=A.get(M.key===null?w:M.key)||null,l(_,A,M,E);case iu:return A=A.get(M.key===null?w:M.key)||null,c(_,A,M,E);case So:var P=M._init;return m(A,_,w,P(M._payload),E)}if(lf(M)||Bc(M))return A=A.get(w)||null,d(_,A,M,E,null);fp(_,M)}return null}function y(A,_,w,M){for(var E=null,P=null,R=_,b=_=0,B=null;R!==null&&b<w.length;b++){R.index>b?(B=R,R=null):B=R.sibling;var L=p(A,R,w[b],M);if(L===null){R===null&&(R=B);break}n&&R&&L.alternate===null&&e(A,R),_=s(L,_,b),P===null?E=L:P.sibling=L,P=L,R=B}if(b===w.length)return t(A,R),tn&&Pa(A,b),E;if(R===null){for(;b<w.length;b++)R=h(A,w[b],M),R!==null&&(_=s(R,_,b),P===null?E=R:P.sibling=R,P=R);return tn&&Pa(A,b),E}for(R=i(A,R);b<w.length;b++)B=m(R,A,b,w[b],M),B!==null&&(n&&B.alternate!==null&&R.delete(B.key===null?b:B.key),_=s(B,_,b),P===null?E=B:P.sibling=B,P=B);return n&&R.forEach(function(O){return e(A,O)}),tn&&Pa(A,b),E}function v(A,_,w,M){var E=Bc(w);if(typeof E!="function")throw Error(Me(150));if(w=E.call(w),w==null)throw Error(Me(151));for(var P=E=null,R=_,b=_=0,B=null,L=w.next();R!==null&&!L.done;b++,L=w.next()){R.index>b?(B=R,R=null):B=R.sibling;var O=p(A,R,L.value,M);if(O===null){R===null&&(R=B);break}n&&R&&O.alternate===null&&e(A,R),_=s(O,_,b),P===null?E=O:P.sibling=O,P=O,R=B}if(L.done)return t(A,R),tn&&Pa(A,b),E;if(R===null){for(;!L.done;b++,L=w.next())L=h(A,L.value,M),L!==null&&(_=s(L,_,b),P===null?E=L:P.sibling=L,P=L);return tn&&Pa(A,b),E}for(R=i(A,R);!L.done;b++,L=w.next())L=m(R,A,b,L.value,M),L!==null&&(n&&L.alternate!==null&&R.delete(L.key===null?b:L.key),_=s(L,_,b),P===null?E=L:P.sibling=L,P=L);return n&&R.forEach(function(H){return e(A,H)}),tn&&Pa(A,b),E}function x(A,_,w,M){if(typeof w=="object"&&w!==null&&w.type===ru&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ep:e:{for(var E=w.key,P=_;P!==null;){if(P.key===E){if(E=w.type,E===ru){if(P.tag===7){t(A,P.sibling),_=r(P,w.props.children),_.return=A,A=_;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===So&&WC(E)===P.type){t(A,P.sibling),_=r(P,w.props),_.ref=Oc(A,P,w),_.return=A,A=_;break e}t(A,P);break}else e(A,P);P=P.sibling}w.type===ru?(_=Qa(w.props.children,A.mode,M,w.key),_.return=A,A=_):(M=Sm(w.type,w.key,w.props,null,A.mode,M),M.ref=Oc(A,_,w),M.return=A,A=M)}return o(A);case iu:e:{for(P=w.key;_!==null;){if(_.key===P)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){t(A,_.sibling),_=r(_,w.children||[]),_.return=A,A=_;break e}else{t(A,_);break}else e(A,_);_=_.sibling}_=ay(w,A.mode,M),_.return=A,A=_}return o(A);case So:return P=w._init,x(A,_,P(w._payload),M)}if(lf(w))return y(A,_,w,M);if(Bc(w))return v(A,_,w,M);fp(A,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(t(A,_.sibling),_=r(_,w),_.return=A,A=_):(t(A,_),_=oy(w,A.mode,M),_.return=A,A=_),o(A)):t(A,_)}return x}var Ou=sB(!0),oB=sB(!1),Cd={},as=na(Cd),jf=na(Cd),Jf=na(Cd);function Ga(n){if(n===Cd)throw Error(Me(174));return n}function EA(n,e){switch(Jt(Jf,e),Jt(jf,n),Jt(as,Cd),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fx(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Fx(e,n)}Qt(as),Jt(as,e)}function Fu(){Qt(as),Qt(jf),Qt(Jf)}function aB(n){Ga(Jf.current);var e=Ga(as.current),t=Fx(e,n.type);e!==t&&(Jt(jf,n),Jt(as,t))}function TA(n){jf.current===n&&(Qt(as),Qt(jf))}var on=na(0);function qm(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ey=[];function PA(){for(var n=0;n<ey.length;n++)ey[n]._workInProgressVersionPrimary=null;ey.length=0}var vm=$s.ReactCurrentDispatcher,ty=$s.ReactCurrentBatchConfig,al=0,fn=null,Ln=null,Vn=null,Zm=!1,yf=!1,Xf=0,yk=0;function ni(){throw Error(Me(321))}function BA(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Hr(n[t],e[t]))return!1;return!0}function RA(n,e,t,i,r,s){if(al=s,fn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vm.current=n===null||n.memoizedState===null?Sk:wk,n=t(i,r),yf){s=0;do{if(yf=!1,Xf=0,25<=s)throw Error(Me(301));s+=1,Vn=Ln=null,e.updateQueue=null,vm.current=Mk,n=t(i,r)}while(yf)}if(vm.current=$m,e=Ln!==null&&Ln.next!==null,al=0,Vn=Ln=fn=null,Zm=!1,e)throw Error(Me(300));return n}function LA(){var n=Xf!==0;return Xf=0,n}function is(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?fn.memoizedState=Vn=n:Vn=Vn.next=n,Vn}function wr(){if(Ln===null){var n=fn.alternate;n=n!==null?n.memoizedState:null}else n=Ln.next;var e=Vn===null?fn.memoizedState:Vn.next;if(e!==null)Vn=e,Ln=n;else{if(n===null)throw Error(Me(310));Ln=n,n={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},Vn===null?fn.memoizedState=Vn=n:Vn=Vn.next=n}return Vn}function Kf(n,e){return typeof e=="function"?e(n):e}function ny(n){var e=wr(),t=e.queue;if(t===null)throw Error(Me(311));t.lastRenderedReducer=n;var i=Ln,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((al&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,fn.lanes|=d,ll|=d}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Hr(i,e.memoizedState)||(Ri=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,fn.lanes|=s,ll|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function iy(n){var e=wr(),t=e.queue;if(t===null)throw Error(Me(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);Hr(s,e.memoizedState)||(Ri=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function lB(){}function uB(n,e){var t=fn,i=wr(),r=e(),s=!Hr(i.memoizedState,r);if(s&&(i.memoizedState=r,Ri=!0),i=i.queue,IA(dB.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Vn!==null&&Vn.memoizedState.tag&1){if(t.flags|=2048,Yf(9,fB.bind(null,t,i,r,e),void 0,null),jn===null)throw Error(Me(349));al&30||cB(t,e,r)}return r}function cB(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function fB(n,e,t,i){e.value=t,e.getSnapshot=i,hB(e)&&pB(n)}function dB(n,e,t){return t(function(){hB(e)&&pB(n)})}function hB(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Hr(n,t)}catch{return!0}}function pB(n){var e=Ks(n,1);e!==null&&zr(e,n,1,-1)}function jC(n){var e=is();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kf,lastRenderedState:n},e.queue=n,n=n.dispatch=Ak.bind(null,fn,n),[e.memoizedState,n]}function Yf(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function mB(){return wr().memoizedState}function ym(n,e,t,i){var r=is();fn.flags|=n,r.memoizedState=Yf(1|e,t,void 0,i===void 0?null:i)}function Hg(n,e,t,i){var r=wr();i=i===void 0?null:i;var s=void 0;if(Ln!==null){var o=Ln.memoizedState;if(s=o.destroy,i!==null&&BA(i,o.deps)){r.memoizedState=Yf(e,t,s,i);return}}fn.flags|=n,r.memoizedState=Yf(1|e,t,s,i)}function JC(n,e){return ym(8390656,8,n,e)}function IA(n,e){return Hg(2048,8,n,e)}function gB(n,e){return Hg(4,2,n,e)}function vB(n,e){return Hg(4,4,n,e)}function yB(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function xB(n,e,t){return t=t!=null?t.concat([n]):null,Hg(4,4,yB.bind(null,e,n),t)}function DA(){}function _B(n,e){var t=wr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&BA(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function AB(n,e){var t=wr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&BA(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function SB(n,e,t){return al&21?(Hr(t,e)||(t=C2(),fn.lanes|=t,ll|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ri=!0),n.memoizedState=t)}function xk(n,e){var t=Gt;Gt=t!==0&&4>t?t:4,n(!0);var i=ty.transition;ty.transition={};try{n(!1),e()}finally{Gt=t,ty.transition=i}}function wB(){return wr().memoizedState}function _k(n,e,t){var i=zo(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},MB(n))CB(e,t);else if(t=tB(n,e,t,i),t!==null){var r=yi();zr(t,n,i,r),bB(t,e,i)}}function Ak(n,e,t){var i=zo(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(MB(n))CB(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,Hr(a,o)){var l=e.interleaved;l===null?(r.next=r,CA(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=tB(n,e,r,i),t!==null&&(r=yi(),zr(t,n,i,r),bB(t,e,i))}}function MB(n){var e=n.alternate;return n===fn||e!==null&&e===fn}function CB(n,e){yf=Zm=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function bB(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,fA(n,t)}}var $m={readContext:Sr,useCallback:ni,useContext:ni,useEffect:ni,useImperativeHandle:ni,useInsertionEffect:ni,useLayoutEffect:ni,useMemo:ni,useReducer:ni,useRef:ni,useState:ni,useDebugValue:ni,useDeferredValue:ni,useTransition:ni,useMutableSource:ni,useSyncExternalStore:ni,useId:ni,unstable_isNewReconciler:!1},Sk={readContext:Sr,useCallback:function(n,e){return is().memoizedState=[n,e===void 0?null:e],n},useContext:Sr,useEffect:JC,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,ym(4194308,4,yB.bind(null,e,n),t)},useLayoutEffect:function(n,e){return ym(4194308,4,n,e)},useInsertionEffect:function(n,e){return ym(4,2,n,e)},useMemo:function(n,e){var t=is();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=is();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=_k.bind(null,fn,n),[i.memoizedState,n]},useRef:function(n){var e=is();return n={current:n},e.memoizedState=n},useState:jC,useDebugValue:DA,useDeferredValue:function(n){return is().memoizedState=n},useTransition:function(){var n=jC(!1),e=n[0];return n=xk.bind(null,n[1]),is().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=fn,r=is();if(tn){if(t===void 0)throw Error(Me(407));t=t()}else{if(t=e(),jn===null)throw Error(Me(349));al&30||cB(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,JC(dB.bind(null,i,s,n),[n]),i.flags|=2048,Yf(9,fB.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=is(),e=jn.identifierPrefix;if(tn){var t=ks,i=Fs;t=(i&~(1<<32-Nr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Xf++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=yk++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},wk={readContext:Sr,useCallback:_B,useContext:Sr,useEffect:IA,useImperativeHandle:xB,useInsertionEffect:gB,useLayoutEffect:vB,useMemo:AB,useReducer:ny,useRef:mB,useState:function(){return ny(Kf)},useDebugValue:DA,useDeferredValue:function(n){var e=wr();return SB(e,Ln.memoizedState,n)},useTransition:function(){var n=ny(Kf)[0],e=wr().memoizedState;return[n,e]},useMutableSource:lB,useSyncExternalStore:uB,useId:wB,unstable_isNewReconciler:!1},Mk={readContext:Sr,useCallback:_B,useContext:Sr,useEffect:IA,useImperativeHandle:xB,useInsertionEffect:gB,useLayoutEffect:vB,useMemo:AB,useReducer:iy,useRef:mB,useState:function(){return iy(Kf)},useDebugValue:DA,useDeferredValue:function(n){var e=wr();return Ln===null?e.memoizedState=n:SB(e,Ln.memoizedState,n)},useTransition:function(){var n=iy(Kf)[0],e=wr().memoizedState;return[n,e]},useMutableSource:lB,useSyncExternalStore:uB,useId:wB,unstable_isNewReconciler:!1};function ku(n,e){try{var t="",i=e;do t+=ZO(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function ry(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function s_(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Ck=typeof WeakMap=="function"?WeakMap:Map;function EB(n,e,t){t=Hs(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){tg||(tg=!0,m_=i),s_(n,e)},t}function TB(n,e,t){t=Hs(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){s_(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){s_(n,e),typeof i!="function"&&(No===null?No=new Set([this]):No.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function XC(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new Ck;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=zk.bind(null,n,e,t),e.then(n,n))}function KC(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function YC(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Hs(-1,1),e.tag=2,ko(t,e,1))),t.lanes|=1),n)}var bk=$s.ReactCurrentOwner,Ri=!1;function gi(n,e,t,i){e.child=n===null?oB(e,null,t,i):Ou(e,n.child,t,i)}function QC(n,e,t,i,r){t=t.render;var s=e.ref;return bu(e,r),i=RA(n,e,t,i,s,r),t=LA(),n!==null&&!Ri?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Ys(n,e,r)):(tn&&t&&xA(e),e.flags|=1,gi(n,e,i,r),e.child)}function qC(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!HA(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,PB(n,e,s,i,r)):(n=Sm(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Gf,t(o,i)&&n.ref===e.ref)return Ys(n,e,r)}return e.flags|=1,n=Uo(s,i),n.ref=e.ref,n.return=e,e.child=n}function PB(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Gf(s,i)&&n.ref===e.ref)if(Ri=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Ri=!0);else return e.lanes=n.lanes,Ys(n,e,r)}return o_(n,e,t,i,r)}function BB(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jt(pu,Vi),Vi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Jt(pu,Vi),Vi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Jt(pu,Vi),Vi|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Jt(pu,Vi),Vi|=i;return gi(n,e,r,t),e.child}function RB(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function o_(n,e,t,i,r){var s=Ii(t)?sl:ai.current;return s=Iu(e,s),bu(e,r),t=RA(n,e,t,i,s,r),i=LA(),n!==null&&!Ri?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Ys(n,e,r)):(tn&&i&&xA(e),e.flags|=1,gi(n,e,t,r),e.child)}function ZC(n,e,t,i,r){if(Ii(t)){var s=!0;jm(e)}else s=!1;if(bu(e,r),e.stateNode===null)xm(n,e),rB(e,t,i),r_(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Sr(c):(c=Ii(t)?sl:ai.current,c=Iu(e,c));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&VC(e,o,i,c),wo=!1;var p=e.memoizedState;o.state=p,Qm(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Li.current||wo?(typeof d=="function"&&(i_(e,t,d,i),l=e.memoizedState),(a=wo||HC(e,t,a,i,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,nB(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Lr(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Sr(l):(l=Ii(t)?sl:ai.current,l=Iu(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&VC(e,o,i,l),wo=!1,p=e.memoizedState,o.state=p,Qm(e,i,o,r);var y=e.memoizedState;a!==h||p!==y||Li.current||wo?(typeof m=="function"&&(i_(e,t,m,i),y=e.memoizedState),(c=wo||HC(e,t,c,i,p,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),o.props=i,o.state=y,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return a_(n,e,t,i,s,r)}function a_(n,e,t,i,r,s){RB(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&kC(e,t,!1),Ys(n,e,s);i=e.stateNode,bk.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Ou(e,n.child,null,s),e.child=Ou(e,null,a,s)):gi(n,e,a,s),e.memoizedState=i.state,r&&kC(e,t,!0),e.child}function LB(n){var e=n.stateNode;e.pendingContext?FC(n,e.pendingContext,e.pendingContext!==e.context):e.context&&FC(n,e.context,!1),EA(n,e.containerInfo)}function $C(n,e,t,i,r){return Du(),AA(r),e.flags|=256,gi(n,e,t,i),e.child}var l_={dehydrated:null,treeContext:null,retryLane:0};function u_(n){return{baseLanes:n,cachePool:null,transitions:null}}function IB(n,e,t){var i=e.pendingProps,r=on.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Jt(on,r&1),n===null)return t_(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=jg(o,i,0,null),n=Qa(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=u_(t),e.memoizedState=l_,n):OA(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return Ek(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Uo(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Uo(a,s):(s=Qa(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?u_(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=l_,i}return s=n.child,n=s.sibling,i=Uo(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function OA(n,e){return e=jg({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function dp(n,e,t,i){return i!==null&&AA(i),Ou(e,n.child,null,t),n=OA(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Ek(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=ry(Error(Me(422))),dp(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=jg({mode:"visible",children:i.children},r,0,null),s=Qa(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Ou(e,n.child,null,o),e.child.memoizedState=u_(o),e.memoizedState=l_,s);if(!(e.mode&1))return dp(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Me(419)),i=ry(s,i,void 0),dp(n,e,o,i)}if(a=(o&n.childLanes)!==0,Ri||a){if(i=jn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Ks(n,r),zr(i,n,r,-1))}return GA(),i=ry(Error(Me(421))),dp(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=Uk.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Wi=Fo(r.nextSibling),Ji=e,tn=!0,Or=null,n!==null&&(gr[vr++]=Fs,gr[vr++]=ks,gr[vr++]=ol,Fs=n.id,ks=n.overflow,ol=e),e=OA(e,i.children),e.flags|=4096,e)}function eb(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),n_(n.return,e,t)}function sy(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function DB(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(gi(n,e,i.children,t),i=on.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&eb(n,t,e);else if(n.tag===19)eb(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Jt(on,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&qm(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),sy(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&qm(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}sy(e,!0,t,null,s);break;case"together":sy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xm(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ys(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),ll|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Me(153));if(e.child!==null){for(n=e.child,t=Uo(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Uo(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Tk(n,e,t){switch(e.tag){case 3:LB(e),Du();break;case 5:aB(e);break;case 1:Ii(e.type)&&jm(e);break;case 4:EA(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Jt(Km,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Jt(on,on.current&1),e.flags|=128,null):t&e.child.childLanes?IB(n,e,t):(Jt(on,on.current&1),n=Ys(n,e,t),n!==null?n.sibling:null);Jt(on,on.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return DB(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Jt(on,on.current),i)break;return null;case 22:case 23:return e.lanes=0,BB(n,e,t)}return Ys(n,e,t)}var OB,c_,FB,kB;OB=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};c_=function(){};FB=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Ga(as.current);var s=null;switch(t){case"input":r=Lx(n,r),i=Lx(n,i),s=[];break;case"select":r=dn({},r,{value:void 0}),i=dn({},i,{value:void 0}),s=[];break;case"textarea":r=Ox(n,r),i=Ox(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Vm)}kx(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Df.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Df.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Kt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};kB=function(n,e,t,i){t!==i&&(e.flags|=4)};function Fc(n,e){if(!tn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function ii(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function Pk(n,e,t){var i=e.pendingProps;switch(_A(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ii(e),null;case 1:return Ii(e.type)&&Wm(),ii(e),null;case 3:return i=e.stateNode,Fu(),Qt(Li),Qt(ai),PA(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(cp(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Or!==null&&(y_(Or),Or=null))),c_(n,e),ii(e),null;case 5:TA(e);var r=Ga(Jf.current);if(t=e.type,n!==null&&e.stateNode!=null)FB(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Me(166));return ii(e),null}if(n=Ga(as.current),cp(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[ss]=e,i[Wf]=s,n=(e.mode&1)!==0,t){case"dialog":Kt("cancel",i),Kt("close",i);break;case"iframe":case"object":case"embed":Kt("load",i);break;case"video":case"audio":for(r=0;r<cf.length;r++)Kt(cf[r],i);break;case"source":Kt("error",i);break;case"img":case"image":case"link":Kt("error",i),Kt("load",i);break;case"details":Kt("toggle",i);break;case"input":uC(i,s),Kt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Kt("invalid",i);break;case"textarea":fC(i,s),Kt("invalid",i)}kx(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&up(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&up(i.textContent,a,n),r=["children",""+a]):Df.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Kt("scroll",i)}switch(t){case"input":tp(i),cC(i,s,!0);break;case"textarea":tp(i),dC(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Vm)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=c2(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[ss]=e,n[Wf]=i,OB(n,e,!1,!1),e.stateNode=n;e:{switch(o=Nx(t,i),t){case"dialog":Kt("cancel",n),Kt("close",n),r=i;break;case"iframe":case"object":case"embed":Kt("load",n),r=i;break;case"video":case"audio":for(r=0;r<cf.length;r++)Kt(cf[r],n);r=i;break;case"source":Kt("error",n),r=i;break;case"img":case"image":case"link":Kt("error",n),Kt("load",n),r=i;break;case"details":Kt("toggle",n),r=i;break;case"input":uC(n,i),r=Lx(n,i),Kt("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=dn({},i,{value:void 0}),Kt("invalid",n);break;case"textarea":fC(n,i),r=Ox(n,i),Kt("invalid",n);break;default:r=i}kx(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?h2(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&f2(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Of(n,l):typeof l=="number"&&Of(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Df.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Kt("scroll",n):l!=null&&sA(n,s,l,o))}switch(t){case"input":tp(n),cC(n,i,!1);break;case"textarea":tp(n),dC(n);break;case"option":i.value!=null&&n.setAttribute("value",""+jo(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Su(n,!!i.multiple,s,!1):i.defaultValue!=null&&Su(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Vm)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ii(e),null;case 6:if(n&&e.stateNode!=null)kB(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Me(166));if(t=Ga(Jf.current),Ga(as.current),cp(e)){if(i=e.stateNode,t=e.memoizedProps,i[ss]=e,(s=i.nodeValue!==t)&&(n=Ji,n!==null))switch(n.tag){case 3:up(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&up(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[ss]=e,e.stateNode=i}return ii(e),null;case 13:if(Qt(on),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(tn&&Wi!==null&&e.mode&1&&!(e.flags&128))eB(),Du(),e.flags|=98560,s=!1;else if(s=cp(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Me(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Me(317));s[ss]=e}else Du(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ii(e),s=!1}else Or!==null&&(y_(Or),Or=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||on.current&1?In===0&&(In=3):GA())),e.updateQueue!==null&&(e.flags|=4),ii(e),null);case 4:return Fu(),c_(n,e),n===null&&Hf(e.stateNode.containerInfo),ii(e),null;case 10:return MA(e.type._context),ii(e),null;case 17:return Ii(e.type)&&Wm(),ii(e),null;case 19:if(Qt(on),s=e.memoizedState,s===null)return ii(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Fc(s,!1);else{if(In!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=qm(n),o!==null){for(e.flags|=128,Fc(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Jt(on,on.current&1|2),e.child}n=n.sibling}s.tail!==null&&Sn()>Nu&&(e.flags|=128,i=!0,Fc(s,!1),e.lanes=4194304)}else{if(!i)if(n=qm(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Fc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!tn)return ii(e),null}else 2*Sn()-s.renderingStartTime>Nu&&t!==1073741824&&(e.flags|=128,i=!0,Fc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Sn(),e.sibling=null,t=on.current,Jt(on,i?t&1|2:t&1),e):(ii(e),null);case 22:case 23:return UA(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Vi&1073741824&&(ii(e),e.subtreeFlags&6&&(e.flags|=8192)):ii(e),null;case 24:return null;case 25:return null}throw Error(Me(156,e.tag))}function Bk(n,e){switch(_A(e),e.tag){case 1:return Ii(e.type)&&Wm(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Fu(),Qt(Li),Qt(ai),PA(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return TA(e),null;case 13:if(Qt(on),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Me(340));Du()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Qt(on),null;case 4:return Fu(),null;case 10:return MA(e.type._context),null;case 22:case 23:return UA(),null;case 24:return null;default:return null}}var hp=!1,oi=!1,Rk=typeof WeakSet=="function"?WeakSet:Set,He=null;function hu(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){vn(n,e,i)}else t.current=null}function f_(n,e,t){try{t()}catch(i){vn(n,e,i)}}var tb=!1;function Lk(n,e){if(Kx=Um,n=G2(),yA(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=n,p=null;t:for(;;){for(var m;h!==t||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++c===r&&(a=o),p===s&&++d===i&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Yx={focusedElem:n,selectionRange:t},Um=!1,He=e;He!==null;)if(e=He,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,He=n;else for(;He!==null;){e=He;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,x=y.memoizedState,A=e.stateNode,_=A.getSnapshotBeforeUpdate(e.elementType===e.type?v:Lr(e.type,v),x);A.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(M){vn(e,e.return,M)}if(n=e.sibling,n!==null){n.return=e.return,He=n;break}He=e.return}return y=tb,tb=!1,y}function xf(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&f_(e,t,s)}r=r.next}while(r!==i)}}function Vg(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function d_(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function NB(n){var e=n.alternate;e!==null&&(n.alternate=null,NB(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ss],delete e[Wf],delete e[Zx],delete e[pk],delete e[mk])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function zB(n){return n.tag===5||n.tag===3||n.tag===4}function nb(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||zB(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function h_(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Vm));else if(i!==4&&(n=n.child,n!==null))for(h_(n,e,t),n=n.sibling;n!==null;)h_(n,e,t),n=n.sibling}function p_(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(p_(n,e,t),n=n.sibling;n!==null;)p_(n,e,t),n=n.sibling}var Xn=null,Ir=!1;function fo(n,e,t){for(t=t.child;t!==null;)UB(n,e,t),t=t.sibling}function UB(n,e,t){if(os&&typeof os.onCommitFiberUnmount=="function")try{os.onCommitFiberUnmount(Og,t)}catch{}switch(t.tag){case 5:oi||hu(t,e);case 6:var i=Xn,r=Ir;Xn=null,fo(n,e,t),Xn=i,Ir=r,Xn!==null&&(Ir?(n=Xn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Xn.removeChild(t.stateNode));break;case 18:Xn!==null&&(Ir?(n=Xn,t=t.stateNode,n.nodeType===8?Zv(n.parentNode,t):n.nodeType===1&&Zv(n,t),zf(n)):Zv(Xn,t.stateNode));break;case 4:i=Xn,r=Ir,Xn=t.stateNode.containerInfo,Ir=!0,fo(n,e,t),Xn=i,Ir=r;break;case 0:case 11:case 14:case 15:if(!oi&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&f_(t,e,o),r=r.next}while(r!==i)}fo(n,e,t);break;case 1:if(!oi&&(hu(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){vn(t,e,a)}fo(n,e,t);break;case 21:fo(n,e,t);break;case 22:t.mode&1?(oi=(i=oi)||t.memoizedState!==null,fo(n,e,t),oi=i):fo(n,e,t);break;default:fo(n,e,t)}}function ib(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new Rk),e.forEach(function(i){var r=Gk.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Tr(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xn=a.stateNode,Ir=!1;break e;case 3:Xn=a.stateNode.containerInfo,Ir=!0;break e;case 4:Xn=a.stateNode.containerInfo,Ir=!0;break e}a=a.return}if(Xn===null)throw Error(Me(160));UB(s,o,r),Xn=null,Ir=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){vn(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)GB(e,n),e=e.sibling}function GB(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Tr(e,n),ns(n),i&4){try{xf(3,n,n.return),Vg(3,n)}catch(v){vn(n,n.return,v)}try{xf(5,n,n.return)}catch(v){vn(n,n.return,v)}}break;case 1:Tr(e,n),ns(n),i&512&&t!==null&&hu(t,t.return);break;case 5:if(Tr(e,n),ns(n),i&512&&t!==null&&hu(t,t.return),n.flags&32){var r=n.stateNode;try{Of(r,"")}catch(v){vn(n,n.return,v)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&l2(r,s),Nx(a,o);var c=Nx(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?h2(r,h):d==="dangerouslySetInnerHTML"?f2(r,h):d==="children"?Of(r,h):sA(r,d,h,c)}switch(a){case"input":Ix(r,s);break;case"textarea":u2(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Su(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Su(r,!!s.multiple,s.defaultValue,!0):Su(r,!!s.multiple,s.multiple?[]:"",!1))}r[Wf]=s}catch(v){vn(n,n.return,v)}}break;case 6:if(Tr(e,n),ns(n),i&4){if(n.stateNode===null)throw Error(Me(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(v){vn(n,n.return,v)}}break;case 3:if(Tr(e,n),ns(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{zf(e.containerInfo)}catch(v){vn(n,n.return,v)}break;case 4:Tr(e,n),ns(n);break;case 13:Tr(e,n),ns(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(NA=Sn())),i&4&&ib(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(oi=(c=oi)||d,Tr(e,n),oi=c):Tr(e,n),ns(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!d&&n.mode&1)for(He=n,d=n.child;d!==null;){for(h=He=d;He!==null;){switch(p=He,m=p.child,p.tag){case 0:case 11:case 14:case 15:xf(4,p,p.return);break;case 1:hu(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){vn(i,t,v)}}break;case 5:hu(p,p.return);break;case 22:if(p.memoizedState!==null){sb(h);continue}}m!==null?(m.return=p,He=m):sb(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=d2("display",o))}catch(v){vn(n,n.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){vn(n,n.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Tr(e,n),ns(n),i&4&&ib(n);break;case 21:break;default:Tr(e,n),ns(n)}}function ns(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(zB(t)){var i=t;break e}t=t.return}throw Error(Me(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Of(r,""),i.flags&=-33);var s=nb(n);p_(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=nb(n);h_(n,a,o);break;default:throw Error(Me(161))}}catch(l){vn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Ik(n,e,t){He=n,HB(n)}function HB(n,e,t){for(var i=(n.mode&1)!==0;He!==null;){var r=He,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||hp;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||oi;a=hp;var c=oi;if(hp=o,(oi=l)&&!c)for(He=r;He!==null;)o=He,l=o.child,o.tag===22&&o.memoizedState!==null?ob(r):l!==null?(l.return=o,He=l):ob(r);for(;s!==null;)He=s,HB(s),s=s.sibling;He=r,hp=a,oi=c}rb(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,He=s):rb(n)}}function rb(n){for(;He!==null;){var e=He;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:oi||Vg(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!oi)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Lr(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&GC(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}GC(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&zf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}oi||e.flags&512&&d_(e)}catch(p){vn(e,e.return,p)}}if(e===n){He=null;break}if(t=e.sibling,t!==null){t.return=e.return,He=t;break}He=e.return}}function sb(n){for(;He!==null;){var e=He;if(e===n){He=null;break}var t=e.sibling;if(t!==null){t.return=e.return,He=t;break}He=e.return}}function ob(n){for(;He!==null;){var e=He;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Vg(4,e)}catch(l){vn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){vn(e,r,l)}}var s=e.return;try{d_(e)}catch(l){vn(e,s,l)}break;case 5:var o=e.return;try{d_(e)}catch(l){vn(e,o,l)}}}catch(l){vn(e,e.return,l)}if(e===n){He=null;break}var a=e.sibling;if(a!==null){a.return=e.return,He=a;break}He=e.return}}var Dk=Math.ceil,eg=$s.ReactCurrentDispatcher,FA=$s.ReactCurrentOwner,_r=$s.ReactCurrentBatchConfig,It=0,jn=null,Tn=null,Yn=0,Vi=0,pu=na(0),In=0,Qf=null,ll=0,Wg=0,kA=0,_f=null,Pi=null,NA=0,Nu=1/0,Ls=null,tg=!1,m_=null,No=null,pp=!1,Bo=null,ng=0,Af=0,g_=null,_m=-1,Am=0;function yi(){return It&6?Sn():_m!==-1?_m:_m=Sn()}function zo(n){return n.mode&1?It&2&&Yn!==0?Yn&-Yn:vk.transition!==null?(Am===0&&(Am=C2()),Am):(n=Gt,n!==0||(n=window.event,n=n===void 0?16:L2(n.type)),n):1}function zr(n,e,t,i){if(50<Af)throw Af=0,g_=null,Error(Me(185));Sd(n,t,i),(!(It&2)||n!==jn)&&(n===jn&&(!(It&2)&&(Wg|=t),In===4&&To(n,Yn)),Di(n,i),t===1&&It===0&&!(e.mode&1)&&(Nu=Sn()+500,Ug&&ia()))}function Di(n,e){var t=n.callbackNode;vF(n,e);var i=zm(n,n===jn?Yn:0);if(i===0)t!==null&&mC(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&mC(t),e===1)n.tag===0?gk(ab.bind(null,n)):q2(ab.bind(null,n)),dk(function(){!(It&6)&&ia()}),t=null;else{switch(b2(i)){case 1:t=cA;break;case 4:t=w2;break;case 16:t=Nm;break;case 536870912:t=M2;break;default:t=Nm}t=QB(t,VB.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function VB(n,e){if(_m=-1,Am=0,It&6)throw Error(Me(327));var t=n.callbackNode;if(Eu()&&n.callbackNode!==t)return null;var i=zm(n,n===jn?Yn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=ig(n,i);else{e=i;var r=It;It|=2;var s=jB();(jn!==n||Yn!==e)&&(Ls=null,Nu=Sn()+500,Ya(n,e));do try{kk();break}catch(a){WB(n,a)}while(1);wA(),eg.current=s,It=r,Tn!==null?e=0:(jn=null,Yn=0,e=In)}if(e!==0){if(e===2&&(r=Vx(n),r!==0&&(i=r,e=v_(n,r))),e===1)throw t=Qf,Ya(n,0),To(n,i),Di(n,Sn()),t;if(e===6)To(n,i);else{if(r=n.current.alternate,!(i&30)&&!Ok(r)&&(e=ig(n,i),e===2&&(s=Vx(n),s!==0&&(i=s,e=v_(n,s))),e===1))throw t=Qf,Ya(n,0),To(n,i),Di(n,Sn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Me(345));case 2:Ba(n,Pi,Ls);break;case 3:if(To(n,i),(i&130023424)===i&&(e=NA+500-Sn(),10<e)){if(zm(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){yi(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=qx(Ba.bind(null,n,Pi,Ls),e);break}Ba(n,Pi,Ls);break;case 4:if(To(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Nr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Sn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Dk(i/1960))-i,10<i){n.timeoutHandle=qx(Ba.bind(null,n,Pi,Ls),i);break}Ba(n,Pi,Ls);break;case 5:Ba(n,Pi,Ls);break;default:throw Error(Me(329))}}}return Di(n,Sn()),n.callbackNode===t?VB.bind(null,n):null}function v_(n,e){var t=_f;return n.current.memoizedState.isDehydrated&&(Ya(n,e).flags|=256),n=ig(n,e),n!==2&&(e=Pi,Pi=t,e!==null&&y_(e)),n}function y_(n){Pi===null?Pi=n:Pi.push.apply(Pi,n)}function Ok(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Hr(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function To(n,e){for(e&=~kA,e&=~Wg,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Nr(e),i=1<<t;n[t]=-1,e&=~i}}function ab(n){if(It&6)throw Error(Me(327));Eu();var e=zm(n,0);if(!(e&1))return Di(n,Sn()),null;var t=ig(n,e);if(n.tag!==0&&t===2){var i=Vx(n);i!==0&&(e=i,t=v_(n,i))}if(t===1)throw t=Qf,Ya(n,0),To(n,e),Di(n,Sn()),t;if(t===6)throw Error(Me(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ba(n,Pi,Ls),Di(n,Sn()),null}function zA(n,e){var t=It;It|=1;try{return n(e)}finally{It=t,It===0&&(Nu=Sn()+500,Ug&&ia())}}function ul(n){Bo!==null&&Bo.tag===0&&!(It&6)&&Eu();var e=It;It|=1;var t=_r.transition,i=Gt;try{if(_r.transition=null,Gt=1,n)return n()}finally{Gt=i,_r.transition=t,It=e,!(It&6)&&ia()}}function UA(){Vi=pu.current,Qt(pu)}function Ya(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,fk(t)),Tn!==null)for(t=Tn.return;t!==null;){var i=t;switch(_A(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Wm();break;case 3:Fu(),Qt(Li),Qt(ai),PA();break;case 5:TA(i);break;case 4:Fu();break;case 13:Qt(on);break;case 19:Qt(on);break;case 10:MA(i.type._context);break;case 22:case 23:UA()}t=t.return}if(jn=n,Tn=n=Uo(n.current,null),Yn=Vi=e,In=0,Qf=null,kA=Wg=ll=0,Pi=_f=null,Ua!==null){for(e=0;e<Ua.length;e++)if(t=Ua[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Ua=null}return n}function WB(n,e){do{var t=Tn;try{if(wA(),vm.current=$m,Zm){for(var i=fn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Zm=!1}if(al=0,Vn=Ln=fn=null,yf=!1,Xf=0,FA.current=null,t===null||t.return===null){In=1,Qf=e,Tn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Yn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=KC(o);if(m!==null){m.flags&=-257,YC(m,o,a,s,e),m.mode&1&&XC(s,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){XC(s,c,e),GA();break e}l=Error(Me(426))}}else if(tn&&a.mode&1){var x=KC(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),YC(x,o,a,s,e),AA(ku(l,a));break e}}s=l=ku(l,a),In!==4&&(In=2),_f===null?_f=[s]:_f.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var A=EB(s,l,e);UC(s,A);break e;case 1:a=l;var _=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(No===null||!No.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=TB(s,a,e);UC(s,M);break e}}s=s.return}while(s!==null)}XB(t)}catch(E){e=E,Tn===t&&t!==null&&(Tn=t=t.return);continue}break}while(1)}function jB(){var n=eg.current;return eg.current=$m,n===null?$m:n}function GA(){(In===0||In===3||In===2)&&(In=4),jn===null||!(ll&268435455)&&!(Wg&268435455)||To(jn,Yn)}function ig(n,e){var t=It;It|=2;var i=jB();(jn!==n||Yn!==e)&&(Ls=null,Ya(n,e));do try{Fk();break}catch(r){WB(n,r)}while(1);if(wA(),It=t,eg.current=i,Tn!==null)throw Error(Me(261));return jn=null,Yn=0,In}function Fk(){for(;Tn!==null;)JB(Tn)}function kk(){for(;Tn!==null&&!lF();)JB(Tn)}function JB(n){var e=YB(n.alternate,n,Vi);n.memoizedProps=n.pendingProps,e===null?XB(n):Tn=e,FA.current=null}function XB(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=Bk(t,e),t!==null){t.flags&=32767,Tn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{In=6,Tn=null;return}}else if(t=Pk(t,e,Vi),t!==null){Tn=t;return}if(e=e.sibling,e!==null){Tn=e;return}Tn=e=n}while(e!==null);In===0&&(In=5)}function Ba(n,e,t){var i=Gt,r=_r.transition;try{_r.transition=null,Gt=1,Nk(n,e,t,i)}finally{_r.transition=r,Gt=i}return null}function Nk(n,e,t,i){do Eu();while(Bo!==null);if(It&6)throw Error(Me(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Me(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(yF(n,s),n===jn&&(Tn=jn=null,Yn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||pp||(pp=!0,QB(Nm,function(){return Eu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=_r.transition,_r.transition=null;var o=Gt;Gt=1;var a=It;It|=4,FA.current=null,Lk(n,t),GB(t,n),rk(Yx),Um=!!Kx,Yx=Kx=null,n.current=t,Ik(t),uF(),It=a,Gt=o,_r.transition=s}else n.current=t;if(pp&&(pp=!1,Bo=n,ng=r),s=n.pendingLanes,s===0&&(No=null),dF(t.stateNode),Di(n,Sn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(tg)throw tg=!1,n=m_,m_=null,n;return ng&1&&n.tag!==0&&Eu(),s=n.pendingLanes,s&1?n===g_?Af++:(Af=0,g_=n):Af=0,ia(),null}function Eu(){if(Bo!==null){var n=b2(ng),e=_r.transition,t=Gt;try{if(_r.transition=null,Gt=16>n?16:n,Bo===null)var i=!1;else{if(n=Bo,Bo=null,ng=0,It&6)throw Error(Me(331));var r=It;for(It|=4,He=n.current;He!==null;){var s=He,o=s.child;if(He.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(He=c;He!==null;){var d=He;switch(d.tag){case 0:case 11:case 15:xf(8,d,s)}var h=d.child;if(h!==null)h.return=d,He=h;else for(;He!==null;){d=He;var p=d.sibling,m=d.return;if(NB(d),d===c){He=null;break}if(p!==null){p.return=m,He=p;break}He=m}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}He=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,He=o;else e:for(;He!==null;){if(s=He,s.flags&2048)switch(s.tag){case 0:case 11:case 15:xf(9,s,s.return)}var A=s.sibling;if(A!==null){A.return=s.return,He=A;break e}He=s.return}}var _=n.current;for(He=_;He!==null;){o=He;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,He=w;else e:for(o=_;He!==null;){if(a=He,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vg(9,a)}}catch(E){vn(a,a.return,E)}if(a===o){He=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,He=M;break e}He=a.return}}if(It=r,ia(),os&&typeof os.onPostCommitFiberRoot=="function")try{os.onPostCommitFiberRoot(Og,n)}catch{}i=!0}return i}finally{Gt=t,_r.transition=e}}return!1}function lb(n,e,t){e=ku(t,e),e=EB(n,e,1),n=ko(n,e,1),e=yi(),n!==null&&(Sd(n,1,e),Di(n,e))}function vn(n,e,t){if(n.tag===3)lb(n,n,t);else for(;e!==null;){if(e.tag===3){lb(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(No===null||!No.has(i))){n=ku(t,n),n=TB(e,n,1),e=ko(e,n,1),n=yi(),e!==null&&(Sd(e,1,n),Di(e,n));break}}e=e.return}}function zk(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=yi(),n.pingedLanes|=n.suspendedLanes&t,jn===n&&(Yn&t)===t&&(In===4||In===3&&(Yn&130023424)===Yn&&500>Sn()-NA?Ya(n,0):kA|=t),Di(n,e)}function KB(n,e){e===0&&(n.mode&1?(e=rp,rp<<=1,!(rp&130023424)&&(rp=4194304)):e=1);var t=yi();n=Ks(n,e),n!==null&&(Sd(n,e,t),Di(n,t))}function Uk(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),KB(n,t)}function Gk(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Me(314))}i!==null&&i.delete(e),KB(n,t)}var YB;YB=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Li.current)Ri=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ri=!1,Tk(n,e,t);Ri=!!(n.flags&131072)}else Ri=!1,tn&&e.flags&1048576&&Z2(e,Xm,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;xm(n,e),n=e.pendingProps;var r=Iu(e,ai.current);bu(e,t),r=RA(null,e,i,n,r,t);var s=LA();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ii(i)?(s=!0,jm(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,bA(e),r.updater=Gg,e.stateNode=r,r._reactInternals=e,r_(e,i,n,t),e=a_(null,e,i,!0,s,t)):(e.tag=0,tn&&s&&xA(e),gi(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(xm(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=Vk(i),n=Lr(i,n),r){case 0:e=o_(null,e,i,n,t);break e;case 1:e=ZC(null,e,i,n,t);break e;case 11:e=QC(null,e,i,n,t);break e;case 14:e=qC(null,e,i,Lr(i.type,n),t);break e}throw Error(Me(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Lr(i,r),o_(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Lr(i,r),ZC(n,e,i,r,t);case 3:e:{if(LB(e),n===null)throw Error(Me(387));i=e.pendingProps,s=e.memoizedState,r=s.element,nB(n,e),Qm(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=ku(Error(Me(423)),e),e=$C(n,e,i,t,r);break e}else if(i!==r){r=ku(Error(Me(424)),e),e=$C(n,e,i,t,r);break e}else for(Wi=Fo(e.stateNode.containerInfo.firstChild),Ji=e,tn=!0,Or=null,t=oB(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Du(),i===r){e=Ys(n,e,t);break e}gi(n,e,i,t)}e=e.child}return e;case 5:return aB(e),n===null&&t_(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,Qx(i,r)?o=null:s!==null&&Qx(i,s)&&(e.flags|=32),RB(n,e),gi(n,e,o,t),e.child;case 6:return n===null&&t_(e),null;case 13:return IB(n,e,t);case 4:return EA(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Ou(e,null,i,t):gi(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Lr(i,r),QC(n,e,i,r,t);case 7:return gi(n,e,e.pendingProps,t),e.child;case 8:return gi(n,e,e.pendingProps.children,t),e.child;case 12:return gi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Jt(Km,i._currentValue),i._currentValue=o,s!==null)if(Hr(s.value,o)){if(s.children===r.children&&!Li.current){e=Ys(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Hs(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),n_(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Me(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),n_(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}gi(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,bu(e,t),r=Sr(r),i=i(r),e.flags|=1,gi(n,e,i,t),e.child;case 14:return i=e.type,r=Lr(i,e.pendingProps),r=Lr(i.type,r),qC(n,e,i,r,t);case 15:return PB(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Lr(i,r),xm(n,e),e.tag=1,Ii(i)?(n=!0,jm(e)):n=!1,bu(e,t),rB(e,i,r),r_(e,i,r,t),a_(null,e,i,!0,n,t);case 19:return DB(n,e,t);case 22:return BB(n,e,t)}throw Error(Me(156,e.tag))};function QB(n,e){return S2(n,e)}function Hk(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(n,e,t,i){return new Hk(n,e,t,i)}function HA(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Vk(n){if(typeof n=="function")return HA(n)?1:0;if(n!=null){if(n=n.$$typeof,n===aA)return 11;if(n===lA)return 14}return 2}function Uo(n,e){var t=n.alternate;return t===null?(t=xr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Sm(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")HA(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case ru:return Qa(t.children,r,s,e);case oA:o=8,r|=8;break;case Tx:return n=xr(12,t,e,r|2),n.elementType=Tx,n.lanes=s,n;case Px:return n=xr(13,t,e,r),n.elementType=Px,n.lanes=s,n;case Bx:return n=xr(19,t,e,r),n.elementType=Bx,n.lanes=s,n;case s2:return jg(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case i2:o=10;break e;case r2:o=9;break e;case aA:o=11;break e;case lA:o=14;break e;case So:o=16,i=null;break e}throw Error(Me(130,n==null?n:typeof n,""))}return e=xr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function Qa(n,e,t,i){return n=xr(7,n,i,e),n.lanes=t,n}function jg(n,e,t,i){return n=xr(22,n,i,e),n.elementType=s2,n.lanes=t,n.stateNode={isHidden:!1},n}function oy(n,e,t){return n=xr(6,n,null,e),n.lanes=t,n}function ay(n,e,t){return e=xr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Wk(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gv(0),this.expirationTimes=Gv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gv(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function VA(n,e,t,i,r,s,o,a,l){return n=new Wk(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=xr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},bA(s),n}function jk(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:iu,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function qB(n){if(!n)return Jo;n=n._reactInternals;e:{if(ml(n)!==n||n.tag!==1)throw Error(Me(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ii(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Me(171))}if(n.tag===1){var t=n.type;if(Ii(t))return Q2(n,t,e)}return e}function ZB(n,e,t,i,r,s,o,a,l){return n=VA(t,i,!0,n,r,s,o,a,l),n.context=qB(null),t=n.current,i=yi(),r=zo(t),s=Hs(i,r),s.callback=e??null,ko(t,s,r),n.current.lanes=r,Sd(n,r,i),Di(n,i),n}function Jg(n,e,t,i){var r=e.current,s=yi(),o=zo(r);return t=qB(t),e.context===null?e.context=t:e.pendingContext=t,e=Hs(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=ko(r,e,o),n!==null&&(zr(n,r,o,s),gm(n,r,o)),o}function rg(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ub(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function WA(n,e){ub(n,e),(n=n.alternate)&&ub(n,e)}function Jk(){return null}var $B=typeof reportError=="function"?reportError:function(n){console.error(n)};function jA(n){this._internalRoot=n}Xg.prototype.render=jA.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Me(409));Jg(n,e,null,null)};Xg.prototype.unmount=jA.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;ul(function(){Jg(null,n,null,null)}),e[Xs]=null}};function Xg(n){this._internalRoot=n}Xg.prototype.unstable_scheduleHydration=function(n){if(n){var e=P2();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Eo.length&&e!==0&&e<Eo[t].priority;t++);Eo.splice(t,0,n),t===0&&R2(n)}};function JA(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Kg(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function cb(){}function Xk(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=rg(o);s.call(c)}}var o=ZB(e,i,n,0,null,!1,!1,"",cb);return n._reactRootContainer=o,n[Xs]=o.current,Hf(n.nodeType===8?n.parentNode:n),ul(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=rg(l);a.call(c)}}var l=VA(n,0,!1,null,null,!1,!1,"",cb);return n._reactRootContainer=l,n[Xs]=l.current,Hf(n.nodeType===8?n.parentNode:n),ul(function(){Jg(e,l,t,i)}),l}function Yg(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=rg(o);a.call(l)}}Jg(e,o,n,r)}else o=Xk(t,e,n,r,i);return rg(o)}E2=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=uf(e.pendingLanes);t!==0&&(fA(e,t|1),Di(e,Sn()),!(It&6)&&(Nu=Sn()+500,ia()))}break;case 13:ul(function(){var i=Ks(n,1);if(i!==null){var r=yi();zr(i,n,1,r)}}),WA(n,1)}};dA=function(n){if(n.tag===13){var e=Ks(n,134217728);if(e!==null){var t=yi();zr(e,n,134217728,t)}WA(n,134217728)}};T2=function(n){if(n.tag===13){var e=zo(n),t=Ks(n,e);if(t!==null){var i=yi();zr(t,n,e,i)}WA(n,e)}};P2=function(){return Gt};B2=function(n,e){var t=Gt;try{return Gt=n,e()}finally{Gt=t}};Ux=function(n,e,t){switch(e){case"input":if(Ix(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=zg(i);if(!r)throw Error(Me(90));a2(i),Ix(i,r)}}}break;case"textarea":u2(n,t);break;case"select":e=t.value,e!=null&&Su(n,!!t.multiple,e,!1)}};g2=zA;v2=ul;var Kk={usingClientEntryPoint:!1,Events:[Md,lu,zg,p2,m2,zA]},kc={findFiberByHostInstance:za,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Yk={bundleType:kc.bundleType,version:kc.version,rendererPackageName:kc.rendererPackageName,rendererConfig:kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$s.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=_2(n),n===null?null:n.stateNode},findFiberByHostInstance:kc.findFiberByHostInstance||Jk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mp.isDisabled&&mp.supportsFiber)try{Og=mp.inject(Yk),os=mp}catch{}}qi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kk;qi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!JA(e))throw Error(Me(200));return jk(n,e,null,t)};qi.createRoot=function(n,e){if(!JA(n))throw Error(Me(299));var t=!1,i="",r=$B;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=VA(n,1,!1,null,null,t,!1,i,r),n[Xs]=e.current,Hf(n.nodeType===8?n.parentNode:n),new jA(e)};qi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Me(188)):(n=Object.keys(n).join(","),Error(Me(268,n)));return n=_2(e),n=n===null?null:n.stateNode,n};qi.flushSync=function(n){return ul(n)};qi.hydrate=function(n,e,t){if(!Kg(e))throw Error(Me(200));return Yg(null,n,e,!0,t)};qi.hydrateRoot=function(n,e,t){if(!JA(n))throw Error(Me(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=$B;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=ZB(e,null,n,1,t??null,r,!1,s,o),n[Xs]=e.current,Hf(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new Xg(e)};qi.render=function(n,e,t){if(!Kg(e))throw Error(Me(200));return Yg(null,n,e,!1,t)};qi.unmountComponentAtNode=function(n){if(!Kg(n))throw Error(Me(40));return n._reactRootContainer?(ul(function(){Yg(null,null,n,!1,function(){n._reactRootContainer=null,n[Xs]=null})}),!0):!1};qi.unstable_batchedUpdates=zA;qi.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!Kg(t))throw Error(Me(200));if(n==null||n._reactInternals===void 0)throw Error(Me(38));return Yg(n,e,t,!1,i)};qi.version="18.2.0-next-9e3b772b8-20220608";(function(n){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}e(),n.exports=qi})(JO);var eR,fb=Dm;eR=Cx.createRoot=fb.createRoot,Cx.hydrateRoot=fb.hydrateRoot;/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qf(){return qf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},qf.apply(this,arguments)}var Ha;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ha||(Ha={}));const db="popstate";function Qk(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return x_("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:sg(r)}return Zk(e,t,null,n)}function Go(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function qk(){return Math.random().toString(36).substr(2,8)}function hb(n,e){return{usr:n.state,key:n.key,idx:e}}function x_(n,e,t,i){return t===void 0&&(t=null),qf({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Qg(e):e,{state:t,key:e&&e.key||i||qk()})}function sg(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Qg(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function Zk(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Ha.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(qf({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Ha.Pop;let x=d(),A=x==null?null:x-c;c=x,l&&l({action:a,location:v.location,delta:A})}function p(x,A){a=Ha.Push;let _=x_(v.location,x,A);t&&t(_,x),c=d()+1;let w=hb(_,c),M=v.createHref(_);try{o.pushState(w,"",M)}catch{r.location.assign(M)}s&&l&&l({action:a,location:v.location,delta:1})}function m(x,A){a=Ha.Replace;let _=x_(v.location,x,A);t&&t(_,x),c=d();let w=hb(_,c),M=v.createHref(_);o.replaceState(w,"",M),s&&l&&l({action:a,location:v.location,delta:0})}function y(x){let A=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof x=="string"?x:sg(x);return Go(A,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,A)}let v={get action(){return a},get location(){return n(r,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(db,h),l=x,()=>{r.removeEventListener(db,h),l=null}},createHref(x){return e(r,x)},createURL:y,encodeLocation(x){let A=y(x);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:p,replace:m,go(x){return o.go(x)}};return v}var pb;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(pb||(pb={}));function tR(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function $k(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Qg(n):n;return{pathname:t?t.startsWith("/")?t:eN(t,e):e,search:tN(i),hash:nN(r)}}function eN(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function ly(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function iR(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=Qg(n):(r=qf({},n),Go(!r.pathname||!r.pathname.includes("?"),ly("?","pathname","search",r)),Go(!r.pathname||!r.pathname.includes("#"),ly("#","pathname","hash",r)),Go(!r.search||!r.search.includes("#"),ly("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(i||o==null)a=t;else{let h=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;r.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=$k(r,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const rR=n=>n.join("/").replace(/\/\/+/g,"/"),tN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,nN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iN(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}const rN=typeof Object.is=="function"?Object.is:iN,{useState:sN,useEffect:oN,useLayoutEffect:aN,useDebugValue:lN}=Mx;function uN(n,e,t){const i=e(),[{inst:r},s]=sN({inst:{value:i,getSnapshot:e}});return aN(()=>{r.value=i,r.getSnapshot=e,uy(r)&&s({inst:r})},[n,i,e]),oN(()=>(uy(r)&&s({inst:r}),n(()=>{uy(r)&&s({inst:r})})),[n]),lN(i),i}function uy(n){const e=n.getSnapshot,t=n.value;try{const i=e();return!rN(t,i)}catch{return!0}}function cN(n,e,t){return e()}const fN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dN=!fN,hN=dN?cN:uN;"useSyncExternalStore"in Mx&&(n=>n.useSyncExternalStore)(Mx);const qg=G.createContext(null),XA=G.createContext(null),sR=G.createContext({outlet:null,matches:[]});function pN(n,e){let{relative:t}=e===void 0?{}:e;Zg()||Go(!1);let{basename:i,navigator:r}=G.useContext(qg),{hash:s,pathname:o,search:a}=oR(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:rR([i,o])),r.createHref({pathname:l,search:a,hash:s})}function Zg(){return G.useContext(XA)!=null}function KA(){return Zg()||Go(!1),G.useContext(XA).location}function mN(){Zg()||Go(!1);let{basename:n,navigator:e}=G.useContext(qg),{matches:t}=G.useContext(sR),{pathname:i}=KA(),r=JSON.stringify(nR(t).map(a=>a.pathnameBase)),s=G.useRef(!1);return G.useEffect(()=>{s.current=!0}),G.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let c=iR(a,JSON.parse(r),i,l.relative==="path");n!=="/"&&(c.pathname=c.pathname==="/"?n:rR([n,c.pathname])),(l.replace?e.replace:e.push)(c,l.state,l)},[n,e,r,i])}function oR(n,e){let{relative:t}=e===void 0?{}:e,{matches:i}=G.useContext(sR),{pathname:r}=KA(),s=JSON.stringify(nR(i).map(o=>o.pathnameBase));return G.useMemo(()=>iR(n,JSON.parse(s),r,t==="path"),[n,s,r,t])}var mb;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator"})(mb||(mb={}));var gb;(function(n){n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(gb||(gb={}));function gN(n){let{basename:e="/",children:t=null,location:i,navigationType:r=Ha.Pop,navigator:s,static:o=!1}=n;Zg()&&Go(!1);let a=e.replace(/^\/*/,"/"),l=G.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof i=="string"&&(i=Qg(i));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:m="default"}=i,y=G.useMemo(()=>{let v=tR(c,a);return v==null?null:{location:{pathname:v,search:d,hash:h,state:p,key:m},navigationType:r}},[a,c,d,h,p,m,r]);return y==null?null:G.createElement(qg.Provider,{value:l},G.createElement(XA.Provider,{children:t,value:y}))}var vb;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(vb||(vb={}));new Promise(()=>{});/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function __(){return __=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},__.apply(this,arguments)}function vN(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function yN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function xN(n,e){return n.button===0&&(!e||e==="_self")&&!yN(n)}const _N=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function AN(n){let{basename:e,children:t,window:i}=n,r=G.useRef();r.current==null&&(r.current=Qk({window:i,v5Compat:!0}));let s=r.current,[o,a]=G.useState({action:s.action,location:s.location});return G.useLayoutEffect(()=>s.listen(a),[s]),G.createElement(gN,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}const SN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MN=G.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d}=e,h=vN(e,_N),{basename:p}=G.useContext(qg),m,y=!1;if(typeof c=="string"&&wN.test(c)&&(m=c,SN)){let _=new URL(window.location.href),w=c.startsWith("//")?new URL(_.protocol+c):new URL(c),M=tR(w.pathname,p);w.origin===_.origin&&M!=null?c=M+w.search+w.hash:y=!0}let v=pN(c,{relative:r}),x=CN(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:r});function A(_){i&&i(_),_.defaultPrevented||x(_)}return G.createElement("a",__({},h,{href:m||v,onClick:y||s?i:A,ref:t,target:l}))});var yb;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(yb||(yb={}));var xb;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(xb||(xb={}));function CN(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=mN(),l=KA(),c=oR(n,{relative:o});return G.useCallback(d=>{if(xN(d,t)){d.preventDefault();let h=i!==void 0?i:sg(l)===sg(c);a(n,{replace:h,state:r,preventScrollReset:s,relative:o})}},[l,a,c,i,r,t,n,s,o])}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const $g="149",Ra={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},La={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},aR=0,A_=1,lR=2,bN=3,uR=0,e0=1,Sf=2,Va=3,fs=0,Oi=1,kr=2,EN=2,Vs=0,qa=1,S_=2,w_=3,M_=4,cR=5,ka=100,fR=101,dR=102,C_=103,b_=104,hR=200,pR=201,mR=202,gR=203,YA=204,QA=205,vR=206,yR=207,xR=208,_R=209,AR=210,SR=0,wR=1,MR=2,og=3,CR=4,bR=5,ER=6,TR=7,bd=0,PR=1,BR=2,Ur=0,RR=1,LR=2,IR=3,qA=4,DR=5,t0=300,Xo=301,Ko=302,Zf=303,$f=304,nc=306,Yo=1e3,Kn=1001,zu=1002,yn=1003,ed=1004,TN=1004,Tu=1005,PN=1005,ln=1006,n0=1007,BN=1007,ds=1008,RN=1008,Qs=1009,OR=1010,FR=1011,ZA=1012,kR=1013,Ro=1014,Ns=1015,Uu=1016,NR=1017,zR=1018,Za=1020,UR=1021,Bi=1023,GR=1024,HR=1025,Ho=1026,cl=1027,VR=1028,WR=1029,jR=1030,JR=1031,XR=1033,wm=33776,Mm=33777,Cm=33778,bm=33779,E_=35840,T_=35841,P_=35842,B_=35843,KR=36196,R_=37492,L_=37496,I_=37808,D_=37809,O_=37810,F_=37811,k_=37812,N_=37813,z_=37814,U_=37815,G_=37816,H_=37817,V_=37818,W_=37819,j_=37820,J_=37821,Em=36492,YR=36283,X_=36284,K_=36285,Y_=36286,QR=2200,qR=2201,ZR=2202,Gu=2300,fl=2301,Tm=2302,Wa=2400,ja=2401,td=2402,i0=2500,$A=2501,LN=0,$R=1,eS=2,qs=3e3,Pt=3001,eL=3200,tL=3201,eo=0,nL=1,IN="",Dr="srgb",Hu="srgb-linear",DN=0,Pm=7680,ON=7681,FN=7682,kN=7683,NN=34055,zN=34056,UN=5386,GN=512,HN=513,VN=514,WN=515,jN=516,JN=517,XN=518,iL=519,nd=35044,$a=35048,KN=35040,YN=35045,QN=35049,qN=35041,ZN=35046,$N=35050,ez=35042,tz="100",Q_="300 es",ag=1035;class ps{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const ri=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _b=1234567;const el=Math.PI/180,id=180/Math.PI;function Xi(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(ri[n&255]+ri[n>>8&255]+ri[n>>16&255]+ri[n>>24&255]+"-"+ri[e&255]+ri[e>>8&255]+"-"+ri[e>>16&15|64]+ri[e>>24&255]+"-"+ri[t&63|128]+ri[t>>8&255]+"-"+ri[t>>16&255]+ri[t>>24&255]+ri[i&255]+ri[i>>8&255]+ri[i>>16&255]+ri[i>>24&255]).toLowerCase()}function wn(n,e,t){return Math.max(e,Math.min(t,n))}function tS(n,e){return(n%e+e)%e}function nz(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function iz(n,e,t){return n!==e?(t-n)/(e-n):0}function wf(n,e,t){return(1-t)*n+t*e}function rz(n,e,t,i){return wf(n,e,1-Math.exp(-t*i))}function sz(n,e=1){return e-Math.abs(tS(n,e*2)-e)}function oz(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function az(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function lz(n,e){return n+Math.floor(Math.random()*(e-n+1))}function uz(n,e){return n+Math.random()*(e-n)}function cz(n){return n*(.5-Math.random())}function fz(n){n!==void 0&&(_b=n);let e=_b+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function dz(n){return n*el}function hz(n){return n*id}function q_(n){return(n&n-1)===0&&n!==0}function rL(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function lg(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function pz(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+i)/2),d=o((e+i)/2),h=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),y=o((i-e)/2);switch(r){case"XYX":n.set(a*d,l*h,l*p,a*c);break;case"YZY":n.set(l*p,a*d,l*h,a*c);break;case"ZXZ":n.set(l*h,l*p,a*d,a*c);break;case"XZX":n.set(a*d,l*y,l*m,a*c);break;case"YXY":n.set(l*m,a*d,l*y,a*c);break;case"ZYZ":n.set(l*y,l*m,a*d,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function zs(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Wt(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var sL=Object.freeze({__proto__:null,DEG2RAD:el,RAD2DEG:id,ceilPowerOfTwo:rL,clamp:wn,damp:rz,degToRad:dz,denormalize:zs,euclideanModulo:tS,floorPowerOfTwo:lg,generateUUID:Xi,inverseLerp:iz,isPowerOfTwo:q_,lerp:wf,mapLinear:nz,normalize:Wt,pingpong:sz,radToDeg:hz,randFloat:uz,randFloatSpread:cz,randInt:lz,seededRandom:fz,setQuaternionFromProperEuler:pz,smootherstep:az,smoothstep:oz});class ge{constructor(e=0,t=0){ge.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class vi{constructor(){vi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,i,r,s,o,a,l,c){const d=this.elements;return d[0]=e,d[1]=r,d[2]=a,d[3]=t,d[4]=s,d[5]=l,d[6]=i,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],d=i[4],h=i[7],p=i[2],m=i[5],y=i[8],v=r[0],x=r[3],A=r[6],_=r[1],w=r[4],M=r[7],E=r[2],P=r[5],R=r[8];return s[0]=o*v+a*_+l*E,s[3]=o*x+a*w+l*P,s[6]=o*A+a*M+l*R,s[1]=c*v+d*_+h*E,s[4]=c*x+d*w+h*P,s[7]=c*A+d*M+h*R,s[2]=p*v+m*_+y*E,s[5]=p*x+m*w+y*P,s[8]=p*A+m*M+y*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8];return t*o*d-t*a*c-i*s*d+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],h=d*o-a*c,p=a*l-d*s,m=c*s-o*l,y=t*h+i*p+r*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/y;return e[0]=h*v,e[1]=(r*c-d*i)*v,e[2]=(a*i-r*o)*v,e[3]=p*v,e[4]=(d*t-r*l)*v,e[5]=(r*s-a*t)*v,e[6]=m*v,e[7]=(i*l-c*t)*v,e[8]=(o*t-i*s)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(cy.makeScale(e,t)),this}rotate(e){return this.premultiply(cy.makeRotation(-e)),this}translate(e,t){return this.premultiply(cy.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const cy=new vi;function oL(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const mz={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function mu(n,e){return new mz[n](e)}function rd(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function tl(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Bm(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const fy={[Dr]:{[Hu]:tl},[Hu]:{[Dr]:Bm}},si={legacyMode:!0,get workingColorSpace(){return Hu},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(fy[e]&&fy[e][t]!==void 0){const i=fy[e][t];return n.r=i(n.r),n.g=i(n.g),n.b=i(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},aL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Rn={r:0,g:0,b:0},Pr={h:0,s:0,l:0},gp={h:0,s:0,l:0};function dy(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function vp(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class Le{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&i===void 0?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Dr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,si.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=si.workingColorSpace){return this.r=e,this.g=t,this.b=i,si.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=si.workingColorSpace){if(e=tS(e,1),t=wn(t,0,1),i=wn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=dy(o,s,e+1/3),this.g=dy(o,s,e),this.b=dy(o,s,e-1/3)}return si.toWorkingColorSpace(this,r),this}setStyle(e,t=Dr){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,si.toWorkingColorSpace(this,t),i(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,si.toWorkingColorSpace(this,t),i(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,d=parseFloat(s[3])/100;return i(s[4]),this.setHSL(l,c,d,t)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,si.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,si.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Dr){const i=aL[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=tl(e.r),this.g=tl(e.g),this.b=tl(e.b),this}copyLinearToSRGB(e){return this.r=Bm(e.r),this.g=Bm(e.g),this.b=Bm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Dr){return si.fromWorkingColorSpace(vp(this,Rn),e),wn(Rn.r*255,0,255)<<16^wn(Rn.g*255,0,255)<<8^wn(Rn.b*255,0,255)<<0}getHexString(e=Dr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=si.workingColorSpace){si.fromWorkingColorSpace(vp(this,Rn),t);const i=Rn.r,r=Rn.g,s=Rn.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const d=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=d<=.5?h/(o+a):h/(2-o-a),o){case i:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-i)/h+2;break;case s:l=(i-r)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,t=si.workingColorSpace){return si.fromWorkingColorSpace(vp(this,Rn),t),e.r=Rn.r,e.g=Rn.g,e.b=Rn.b,e}getStyle(e=Dr){return si.fromWorkingColorSpace(vp(this,Rn),e),e!==Dr?`color(${e} ${Rn.r} ${Rn.g} ${Rn.b})`:`rgb(${Rn.r*255|0},${Rn.g*255|0},${Rn.b*255|0})`}offsetHSL(e,t,i){return this.getHSL(Pr),Pr.h+=e,Pr.s+=t,Pr.l+=i,this.setHSL(Pr.h,Pr.s,Pr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Pr),e.getHSL(gp);const i=wf(Pr.h,gp.h,t),r=wf(Pr.s,gp.s,t),s=wf(Pr.l,gp.l,t);return this.setHSL(i,r,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Le.NAMES=aL;let Fl;class nS{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Fl===void 0&&(Fl=rd("canvas")),Fl.width=e.width,Fl.height=e.height;const i=Fl.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Fl}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=rd("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=tl(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(tl(t[i]/255)*255):t[i]=tl(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Ja{constructor(e=null){this.isSource=!0,this.uuid=Xi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(hy(r[o].image)):s.push(hy(r[o]))}else s=hy(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function hy(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?nS.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let gz=0;class nn extends ps{constructor(e=nn.DEFAULT_IMAGE,t=nn.DEFAULT_MAPPING,i=Kn,r=Kn,s=ln,o=ds,a=Bi,l=Qs,c=nn.DEFAULT_ANISOTROPY,d=qs){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:gz++}),this.uuid=Xi(),this.name="",this.source=new Ja(e),this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ge(0,0),this.repeat=new ge(1,1),this.center=new ge(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new vi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==t0)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Yo:e.x=e.x-Math.floor(e.x);break;case Kn:e.x=e.x<0?0:1;break;case zu:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Yo:e.y=e.y-Math.floor(e.y);break;case Kn:e.y=e.y<0?0:1;break;case zu:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}nn.DEFAULT_IMAGE=null;nn.DEFAULT_MAPPING=t0;nn.DEFAULT_ANISOTROPY=1;class Ut{constructor(e=0,t=0,i=0,r=1){Ut.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],d=l[4],h=l[8],p=l[1],m=l[5],y=l[9],v=l[2],x=l[6],A=l[10];if(Math.abs(d-p)<.01&&Math.abs(h-v)<.01&&Math.abs(y-x)<.01){if(Math.abs(d+p)<.1&&Math.abs(h+v)<.1&&Math.abs(y+x)<.1&&Math.abs(c+m+A-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(c+1)/2,M=(m+1)/2,E=(A+1)/2,P=(d+p)/4,R=(h+v)/4,b=(y+x)/4;return w>M&&w>E?w<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(w),r=P/i,s=R/i):M>E?M<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(M),i=P/r,s=b/r):E<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(E),i=R/s,r=b/s),this.set(i,r,s,t),this}let _=Math.sqrt((x-y)*(x-y)+(h-v)*(h-v)+(p-d)*(p-d));return Math.abs(_)<.001&&(_=1),this.x=(x-y)/_,this.y=(h-v)/_,this.z=(p-d)/_,this.w=Math.acos((c+m+A-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Vr extends ps{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Ut(0,0,e,t),this.scissorTest=!1,this.viewport=new Ut(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new nn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:ln,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Ja(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class r0 extends nn{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=yn,this.minFilter=yn,this.wrapR=Kn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class vz extends Vr{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new r0(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class iS extends nn{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=yn,this.minFilter=yn,this.wrapR=Kn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class yz extends Vr{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new iS(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class xz extends Vr{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Qn{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],d=i[r+2],h=i[r+3];const p=s[o+0],m=s[o+1],y=s[o+2],v=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=d,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=y,e[t+3]=v;return}if(h!==v||l!==p||c!==m||d!==y){let x=1-a;const A=l*p+c*m+d*y+h*v,_=A>=0?1:-1,w=1-A*A;if(w>Number.EPSILON){const E=Math.sqrt(w),P=Math.atan2(E,A*_);x=Math.sin(x*P)/E,a=Math.sin(a*P)/E}const M=a*_;if(l=l*x+p*M,c=c*x+m*M,d=d*x+y*M,h=h*x+v*M,x===1-a){const E=1/Math.sqrt(l*l+c*c+d*d+h*h);l*=E,c*=E,d*=E,h*=E}}e[t]=l,e[t+1]=c,e[t+2]=d,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],d=i[r+3],h=s[o],p=s[o+1],m=s[o+2],y=s[o+3];return e[t]=a*y+d*h+l*m-c*p,e[t+1]=l*y+d*p+c*h-a*m,e[t+2]=c*y+d*m+a*p-l*h,e[t+3]=d*y-a*h-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),d=a(r/2),h=a(s/2),p=l(i/2),m=l(r/2),y=l(s/2);switch(o){case"XYZ":this._x=p*d*h+c*m*y,this._y=c*m*h-p*d*y,this._z=c*d*y+p*m*h,this._w=c*d*h-p*m*y;break;case"YXZ":this._x=p*d*h+c*m*y,this._y=c*m*h-p*d*y,this._z=c*d*y-p*m*h,this._w=c*d*h+p*m*y;break;case"ZXY":this._x=p*d*h-c*m*y,this._y=c*m*h+p*d*y,this._z=c*d*y+p*m*h,this._w=c*d*h-p*m*y;break;case"ZYX":this._x=p*d*h-c*m*y,this._y=c*m*h+p*d*y,this._z=c*d*y-p*m*h,this._w=c*d*h+p*m*y;break;case"YZX":this._x=p*d*h+c*m*y,this._y=c*m*h+p*d*y,this._z=c*d*y-p*m*h,this._w=c*d*h-p*m*y;break;case"XZY":this._x=p*d*h-c*m*y,this._y=c*m*h-p*d*y,this._z=c*d*y+p*m*h,this._w=c*d*h+p*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],d=t[6],h=t[10],p=i+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(d-l)*m,this._y=(s-c)*m,this._z=(o-r)*m}else if(i>a&&i>h){const m=2*Math.sqrt(1+i-a-h);this._w=(d-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+c)/m}else if(a>h){const m=2*Math.sqrt(1+a-i-h);this._w=(s-c)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+d)/m}else{const m=2*Math.sqrt(1+h-i-a);this._w=(o-r)/m,this._x=(s+c)/m,this._y=(l+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(wn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,d=t._w;return this._x=i*d+o*a+r*c-s*l,this._y=r*d+o*l+s*a-i*c,this._z=s*d+o*c+i*l-r*a,this._w=o*d-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),d=Math.atan2(c,a),h=Math.sin((1-t)*d)/c,p=Math.sin(t*d)/c;return this._w=o*h+this._w*p,this._x=i*h+this._x*p,this._y=r*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class D{constructor(e=0,t=0,i=0){D.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Ab.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Ab.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*i,d=l*i+a*t-s*r,h=l*r+s*i-o*t,p=-s*t-o*i-a*r;return this.x=c*l+p*-s+d*-a-h*-o,this.y=d*l+p*-o+h*-s-c*-a,this.z=h*l+p*-a+c*-o-d*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return py.copy(this).projectOnVector(e),this.sub(py)}reflect(e){return this.sub(py.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(wn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const py=new D,Ab=new Qn;class ra{constructor(e=new D(1/0,1/0,1/0),t=new D(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const d=e[l],h=e[l+1],p=e[l+2];d<t&&(t=d),h<i&&(i=h),p<r&&(r=p),d>s&&(s=d),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,i=1/0,r=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const d=e.getX(l),h=e.getY(l),p=e.getZ(l);d<t&&(t=d),h<i&&(i=h),p<r&&(r=p),d>s&&(s=d),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,i,r),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=xa.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0)if(t&&i.attributes!=null&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)xa.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(xa)}else i.boundingBox===null&&i.computeBoundingBox(),my.copy(i.boundingBox),my.applyMatrix4(e.matrixWorld),this.union(my);const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,xa),xa.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Nc),yp.subVectors(this.max,Nc),kl.subVectors(e.a,Nc),Nl.subVectors(e.b,Nc),zl.subVectors(e.c,Nc),ho.subVectors(Nl,kl),po.subVectors(zl,Nl),_a.subVectors(kl,zl);let t=[0,-ho.z,ho.y,0,-po.z,po.y,0,-_a.z,_a.y,ho.z,0,-ho.x,po.z,0,-po.x,_a.z,0,-_a.x,-ho.y,ho.x,0,-po.y,po.x,0,-_a.y,_a.x,0];return!gy(t,kl,Nl,zl,yp)||(t=[1,0,0,0,1,0,0,0,1],!gy(t,kl,Nl,zl,yp))?!1:(xp.crossVectors(ho,po),t=[xp.x,xp.y,xp.z],gy(t,kl,Nl,zl,yp))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return xa.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(xa).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Cs[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Cs[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Cs[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Cs[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Cs[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Cs[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Cs[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Cs[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Cs),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Cs=[new D,new D,new D,new D,new D,new D,new D,new D],xa=new D,my=new ra,kl=new D,Nl=new D,zl=new D,ho=new D,po=new D,_a=new D,Nc=new D,yp=new D,xp=new D,Aa=new D;function gy(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Aa.fromArray(n,s);const a=r.x*Math.abs(Aa.x)+r.y*Math.abs(Aa.y)+r.z*Math.abs(Aa.z),l=e.dot(Aa),c=t.dot(Aa),d=i.dot(Aa);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>a)return!1}return!0}const _z=new ra,zc=new D,vy=new D;class sa{constructor(e=new D,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):_z.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;zc.subVectors(e,this.center);const t=zc.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(zc,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(vy.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(zc.copy(e.center).add(vy)),this.expandByPoint(zc.copy(e.center).sub(vy))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const bs=new D,yy=new D,_p=new D,mo=new D,xy=new D,Ap=new D,_y=new D;class Ed{constructor(e=new D,t=new D(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,bs)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=bs.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(bs.copy(this.direction).multiplyScalar(t).add(this.origin),bs.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){yy.copy(e).add(t).multiplyScalar(.5),_p.copy(t).sub(e).normalize(),mo.copy(this.origin).sub(yy);const s=e.distanceTo(t)*.5,o=-this.direction.dot(_p),a=mo.dot(this.direction),l=-mo.dot(_p),c=mo.lengthSq(),d=Math.abs(1-o*o);let h,p,m,y;if(d>0)if(h=o*l-a,p=o*a-l,y=s*d,h>=0)if(p>=-y)if(p<=y){const v=1/d;h*=v,p*=v,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+c}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;else p<=-y?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c):p<=y?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+c);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+c;return i&&i.copy(this.direction).multiplyScalar(h).add(this.origin),r&&r.copy(_p).multiplyScalar(p).add(yy),m}intersectSphere(e,t){bs.subVectors(e.center,this.origin);const i=bs.dot(this.direction),r=bs.dot(bs)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,p=this.origin;return c>=0?(i=(e.min.x-p.x)*c,r=(e.max.x-p.x)*c):(i=(e.max.x-p.x)*c,r=(e.min.x-p.x)*c),d>=0?(s=(e.min.y-p.y)*d,o=(e.max.y-p.y)*d):(s=(e.max.y-p.y)*d,o=(e.min.y-p.y)*d),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,bs)!==null}intersectTriangle(e,t,i,r,s){xy.subVectors(t,e),Ap.subVectors(i,e),_y.crossVectors(xy,Ap);let o=this.direction.dot(_y),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;mo.subVectors(this.origin,e);const l=a*this.direction.dot(Ap.crossVectors(mo,Ap));if(l<0)return null;const c=a*this.direction.dot(xy.cross(mo));if(c<0||l+c>o)return null;const d=-a*mo.dot(_y);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class at{constructor(){at.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,i,r,s,o,a,l,c,d,h,p,m,y,v,x){const A=this.elements;return A[0]=e,A[4]=t,A[8]=i,A[12]=r,A[1]=s,A[5]=o,A[9]=a,A[13]=l,A[2]=c,A[6]=d,A[10]=h,A[14]=p,A[3]=m,A[7]=y,A[11]=v,A[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new at().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Ul.setFromMatrixColumn(e,0).length(),s=1/Ul.setFromMatrixColumn(e,1).length(),o=1/Ul.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),d=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*d,m=o*h,y=a*d,v=a*h;t[0]=l*d,t[4]=-l*h,t[8]=c,t[1]=m+y*c,t[5]=p-v*c,t[9]=-a*l,t[2]=v-p*c,t[6]=y+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*d,m=l*h,y=c*d,v=c*h;t[0]=p+v*a,t[4]=y*a-m,t[8]=o*c,t[1]=o*h,t[5]=o*d,t[9]=-a,t[2]=m*a-y,t[6]=v+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*d,m=l*h,y=c*d,v=c*h;t[0]=p-v*a,t[4]=-o*h,t[8]=y+m*a,t[1]=m+y*a,t[5]=o*d,t[9]=v-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*d,m=o*h,y=a*d,v=a*h;t[0]=l*d,t[4]=y*c-m,t[8]=p*c+v,t[1]=l*h,t[5]=v*c+p,t[9]=m*c-y,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,y=a*l,v=a*c;t[0]=l*d,t[4]=v-p*h,t[8]=y*h+m,t[1]=h,t[5]=o*d,t[9]=-a*d,t[2]=-c*d,t[6]=m*h+y,t[10]=p-v*h}else if(e.order==="XZY"){const p=o*l,m=o*c,y=a*l,v=a*c;t[0]=l*d,t[4]=-h,t[8]=c*d,t[1]=p*h+v,t[5]=o*d,t[9]=m*h-y,t[2]=y*h-m,t[6]=a*d,t[10]=v*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Az,e,Sz)}lookAt(e,t,i){const r=this.elements;return Gi.subVectors(e,t),Gi.lengthSq()===0&&(Gi.z=1),Gi.normalize(),go.crossVectors(i,Gi),go.lengthSq()===0&&(Math.abs(i.z)===1?Gi.x+=1e-4:Gi.z+=1e-4,Gi.normalize(),go.crossVectors(i,Gi)),go.normalize(),Sp.crossVectors(Gi,go),r[0]=go.x,r[4]=Sp.x,r[8]=Gi.x,r[1]=go.y,r[5]=Sp.y,r[9]=Gi.y,r[2]=go.z,r[6]=Sp.z,r[10]=Gi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],d=i[1],h=i[5],p=i[9],m=i[13],y=i[2],v=i[6],x=i[10],A=i[14],_=i[3],w=i[7],M=i[11],E=i[15],P=r[0],R=r[4],b=r[8],B=r[12],L=r[1],O=r[5],H=r[9],U=r[13],W=r[2],J=r[6],ee=r[10],ie=r[14],k=r[3],X=r[7],K=r[11],ae=r[15];return s[0]=o*P+a*L+l*W+c*k,s[4]=o*R+a*O+l*J+c*X,s[8]=o*b+a*H+l*ee+c*K,s[12]=o*B+a*U+l*ie+c*ae,s[1]=d*P+h*L+p*W+m*k,s[5]=d*R+h*O+p*J+m*X,s[9]=d*b+h*H+p*ee+m*K,s[13]=d*B+h*U+p*ie+m*ae,s[2]=y*P+v*L+x*W+A*k,s[6]=y*R+v*O+x*J+A*X,s[10]=y*b+v*H+x*ee+A*K,s[14]=y*B+v*U+x*ie+A*ae,s[3]=_*P+w*L+M*W+E*k,s[7]=_*R+w*O+M*J+E*X,s[11]=_*b+w*H+M*ee+E*K,s[15]=_*B+w*U+M*ie+E*ae,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],d=e[2],h=e[6],p=e[10],m=e[14],y=e[3],v=e[7],x=e[11],A=e[15];return y*(+s*l*h-r*c*h-s*a*p+i*c*p+r*a*m-i*l*m)+v*(+t*l*m-t*c*p+s*o*p-r*o*m+r*c*d-s*l*d)+x*(+t*c*h-t*a*m-s*o*h+i*o*m+s*a*d-i*c*d)+A*(-r*a*d-t*l*h+t*a*p+r*o*h-i*o*p+i*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],h=e[9],p=e[10],m=e[11],y=e[12],v=e[13],x=e[14],A=e[15],_=h*x*c-v*p*c+v*l*m-a*x*m-h*l*A+a*p*A,w=y*p*c-d*x*c-y*l*m+o*x*m+d*l*A-o*p*A,M=d*v*c-y*h*c+y*a*m-o*v*m-d*a*A+o*h*A,E=y*h*l-d*v*l-y*a*p+o*v*p+d*a*x-o*h*x,P=t*_+i*w+r*M+s*E;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/P;return e[0]=_*R,e[1]=(v*p*s-h*x*s-v*r*m+i*x*m+h*r*A-i*p*A)*R,e[2]=(a*x*s-v*l*s+v*r*c-i*x*c-a*r*A+i*l*A)*R,e[3]=(h*l*s-a*p*s-h*r*c+i*p*c+a*r*m-i*l*m)*R,e[4]=w*R,e[5]=(d*x*s-y*p*s+y*r*m-t*x*m-d*r*A+t*p*A)*R,e[6]=(y*l*s-o*x*s-y*r*c+t*x*c+o*r*A-t*l*A)*R,e[7]=(o*p*s-d*l*s+d*r*c-t*p*c-o*r*m+t*l*m)*R,e[8]=M*R,e[9]=(y*h*s-d*v*s-y*i*m+t*v*m+d*i*A-t*h*A)*R,e[10]=(o*v*s-y*a*s+y*i*c-t*v*c-o*i*A+t*a*A)*R,e[11]=(d*a*s-o*h*s-d*i*c+t*h*c+o*i*m-t*a*m)*R,e[12]=E*R,e[13]=(d*v*r-y*h*r+y*i*p-t*v*p-d*i*x+t*h*x)*R,e[14]=(y*a*r-o*v*r-y*i*l+t*v*l+o*i*x-t*a*x)*R,e[15]=(o*h*r-d*a*r+d*i*l-t*h*l-o*i*p+t*a*p)*R,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,d=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,d*a+i,d*l-r*o,0,c*l-r*a,d*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,d=o+o,h=a+a,p=s*c,m=s*d,y=s*h,v=o*d,x=o*h,A=a*h,_=l*c,w=l*d,M=l*h,E=i.x,P=i.y,R=i.z;return r[0]=(1-(v+A))*E,r[1]=(m+M)*E,r[2]=(y-w)*E,r[3]=0,r[4]=(m-M)*P,r[5]=(1-(p+A))*P,r[6]=(x+_)*P,r[7]=0,r[8]=(y+w)*R,r[9]=(x-_)*R,r[10]=(1-(p+v))*R,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Ul.set(r[0],r[1],r[2]).length();const o=Ul.set(r[4],r[5],r[6]).length(),a=Ul.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Br.copy(this);const c=1/s,d=1/o,h=1/a;return Br.elements[0]*=c,Br.elements[1]*=c,Br.elements[2]*=c,Br.elements[4]*=d,Br.elements[5]*=d,Br.elements[6]*=d,Br.elements[8]*=h,Br.elements[9]*=h,Br.elements[10]*=h,t.setFromRotationMatrix(Br),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(i-r),d=(t+e)/(t-e),h=(i+r)/(i-r),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=d,a[12]=0,a[1]=0,a[5]=c,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,r,s,o){const a=this.elements,l=1/(t-e),c=1/(i-r),d=1/(o-s),h=(t+e)*l,p=(i+r)*c,m=(o+s)*d;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*d,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Ul=new D,Br=new at,Az=new D(0,0,0),Sz=new D(1,1,1),go=new D,Sp=new D,Gi=new D,Sb=new at,wb=new Qn;class Td{constructor(e=0,t=0,i=0,r=Td.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],d=r[9],h=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(wn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-wn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(wn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-wn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(wn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-wn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return Sb.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Sb,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return wb.setFromEuler(this),this.setFromQuaternion(wb,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Td.DEFAULT_ORDER="XYZ";class nl{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let wz=0;const Mb=new D,Gl=new Qn,Es=new at,wp=new D,Uc=new D,Mz=new D,Cz=new Qn,Cb=new D(1,0,0),bb=new D(0,1,0),Eb=new D(0,0,1),bz={type:"added"},Tb={type:"removed"};class Dt extends ps{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:wz++}),this.uuid=Xi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Dt.DEFAULT_UP.clone();const e=new D,t=new Td,i=new Qn,r=new D(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new at},normalMatrix:{value:new vi}}),this.matrix=new at,this.matrixWorld=new at,this.matrixAutoUpdate=Dt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Dt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new nl,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Gl.setFromAxisAngle(e,t),this.quaternion.multiply(Gl),this}rotateOnWorldAxis(e,t){return Gl.setFromAxisAngle(e,t),this.quaternion.premultiply(Gl),this}rotateX(e){return this.rotateOnAxis(Cb,e)}rotateY(e){return this.rotateOnAxis(bb,e)}rotateZ(e){return this.rotateOnAxis(Eb,e)}translateOnAxis(e,t){return Mb.copy(e).applyQuaternion(this.quaternion),this.position.add(Mb.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Cb,e)}translateY(e){return this.translateOnAxis(bb,e)}translateZ(e){return this.translateOnAxis(Eb,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Es.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?wp.copy(e):wp.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Uc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Es.lookAt(Uc,wp,this.up):Es.lookAt(wp,Uc,this.up),this.quaternion.setFromRotationMatrix(Es),r&&(Es.extractRotation(r.matrixWorld),Gl.setFromRotationMatrix(Es),this.quaternion.premultiply(Gl.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(bz)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Tb)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(Tb)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Es.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Es.multiply(e.parent.matrixWorld)),e.applyMatrix4(Es),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Uc,e,Mz),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Uc,Cz,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),d=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),y=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),d.length>0&&(i.images=d),h.length>0&&(i.shapes=h),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),y.length>0&&(i.nodes=y)}return i.object=r,i;function o(a){const l=[];for(const c in a){const d=a[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Dt.DEFAULT_UP=new D(0,1,0);Dt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Dt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Rr=new D,Ts=new D,Ay=new D,Ps=new D,Hl=new D,Vl=new D,Pb=new D,Sy=new D,wy=new D,My=new D;class yr{constructor(e=new D,t=new D,i=new D){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Rr.subVectors(e,t),r.cross(Rr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Rr.subVectors(r,t),Ts.subVectors(i,t),Ay.subVectors(e,t);const o=Rr.dot(Rr),a=Rr.dot(Ts),l=Rr.dot(Ay),c=Ts.dot(Ts),d=Ts.dot(Ay),h=o*c-a*a;if(h===0)return s.set(-2,-1,-1);const p=1/h,m=(c*l-a*d)*p,y=(o*d-a*l)*p;return s.set(1-m-y,y,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Ps),Ps.x>=0&&Ps.y>=0&&Ps.x+Ps.y<=1}static getUV(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Ps),l.set(0,0),l.addScaledVector(s,Ps.x),l.addScaledVector(o,Ps.y),l.addScaledVector(a,Ps.z),l}static isFrontFacing(e,t,i,r){return Rr.subVectors(i,t),Ts.subVectors(e,t),Rr.cross(Ts).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Rr.subVectors(this.c,this.b),Ts.subVectors(this.a,this.b),Rr.cross(Ts).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return yr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return yr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return yr.getUV(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return yr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return yr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;Hl.subVectors(r,i),Vl.subVectors(s,i),Sy.subVectors(e,i);const l=Hl.dot(Sy),c=Vl.dot(Sy);if(l<=0&&c<=0)return t.copy(i);wy.subVectors(e,r);const d=Hl.dot(wy),h=Vl.dot(wy);if(d>=0&&h<=d)return t.copy(r);const p=l*h-d*c;if(p<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(i).addScaledVector(Hl,o);My.subVectors(e,s);const m=Hl.dot(My),y=Vl.dot(My);if(y>=0&&m<=y)return t.copy(s);const v=m*c-l*y;if(v<=0&&c>=0&&y<=0)return a=c/(c-y),t.copy(i).addScaledVector(Vl,a);const x=d*y-m*h;if(x<=0&&h-d>=0&&m-y>=0)return Pb.subVectors(s,r),a=(h-d)/(h-d+(m-y)),t.copy(r).addScaledVector(Pb,a);const A=1/(x+v+p);return o=v*A,a=p*A,t.copy(i).addScaledVector(Hl,o).addScaledVector(Vl,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Ez=0;class Pn extends ps{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Ez++}),this.uuid=Xi(),this.name="",this.type="Material",this.blending=qa,this.side=fs,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=YA,this.blendDst=QA,this.blendEquation=ka,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=og,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=iL,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Pm,this.stencilZFail=Pm,this.stencilZPass=Pm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const r=this[t];if(r===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==qa&&(i.blending=this.blending),this.side!==fs&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ji extends Pn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Le(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=bd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const bn=new D,Mp=new ge;class Nt{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=nd,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Mp.fromBufferAttribute(this,t),Mp.applyMatrix3(e),this.setXY(t,Mp.x,Mp.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)bn.fromBufferAttribute(this,t),bn.applyMatrix3(e),this.setXYZ(t,bn.x,bn.y,bn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)bn.fromBufferAttribute(this,t),bn.applyMatrix4(e),this.setXYZ(t,bn.x,bn.y,bn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)bn.fromBufferAttribute(this,t),bn.applyNormalMatrix(e),this.setXYZ(t,bn.x,bn.y,bn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)bn.fromBufferAttribute(this,t),bn.transformDirection(e),this.setXYZ(t,bn.x,bn.y,bn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=zs(t,this.array)),t}setX(e,t){return this.normalized&&(t=Wt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=zs(t,this.array)),t}setY(e,t){return this.normalized&&(t=Wt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=zs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Wt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=zs(t,this.array)),t}setW(e,t){return this.normalized&&(t=Wt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Wt(t,this.array),i=Wt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Wt(t,this.array),i=Wt(i,this.array),r=Wt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Wt(t,this.array),i=Wt(i,this.array),r=Wt(r,this.array),s=Wt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==nd&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Tz extends Nt{constructor(e,t,i){super(new Int8Array(e),t,i)}}class Pz extends Nt{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class Bz extends Nt{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class Rz extends Nt{constructor(e,t,i){super(new Int16Array(e),t,i)}}class rS extends Nt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class Lz extends Nt{constructor(e,t,i){super(new Int32Array(e),t,i)}}class sS extends Nt{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Iz extends Nt{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}}class Je extends Nt{constructor(e,t,i){super(new Float32Array(e),t,i)}}class Dz extends Nt{constructor(e,t,i){super(new Float64Array(e),t,i)}}let Oz=0;const fr=new at,Cy=new Dt,Wl=new D,Hi=new ra,Gc=new ra,Hn=new D;class ft extends ps{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Oz++}),this.uuid=Xi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(oL(e)?sS:rS)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new vi().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return fr.makeRotationFromQuaternion(e),this.applyMatrix4(fr),this}rotateX(e){return fr.makeRotationX(e),this.applyMatrix4(fr),this}rotateY(e){return fr.makeRotationY(e),this.applyMatrix4(fr),this}rotateZ(e){return fr.makeRotationZ(e),this.applyMatrix4(fr),this}translate(e,t,i){return fr.makeTranslation(e,t,i),this.applyMatrix4(fr),this}scale(e,t,i){return fr.makeScale(e,t,i),this.applyMatrix4(fr),this}lookAt(e){return Cy.lookAt(e),Cy.updateMatrix(),this.applyMatrix4(Cy.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Wl).negate(),this.translate(Wl.x,Wl.y,Wl.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Je(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ra);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new D(-1/0,-1/0,-1/0),new D(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Hi.setFromBufferAttribute(s),this.morphTargetsRelative?(Hn.addVectors(this.boundingBox.min,Hi.min),this.boundingBox.expandByPoint(Hn),Hn.addVectors(this.boundingBox.max,Hi.max),this.boundingBox.expandByPoint(Hn)):(this.boundingBox.expandByPoint(Hi.min),this.boundingBox.expandByPoint(Hi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new sa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new D,1/0);return}if(e){const i=this.boundingSphere.center;if(Hi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Gc.setFromBufferAttribute(a),this.morphTargetsRelative?(Hn.addVectors(Hi.min,Gc.min),Hi.expandByPoint(Hn),Hn.addVectors(Hi.max,Gc.max),Hi.expandByPoint(Hn)):(Hi.expandByPoint(Gc.min),Hi.expandByPoint(Gc.max))}Hi.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Hn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Hn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,d=a.count;c<d;c++)Hn.fromBufferAttribute(a,c),l&&(Wl.fromBufferAttribute(e,c),Hn.add(Wl)),r=Math.max(r,i.distanceToSquared(Hn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Nt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],d=[];for(let L=0;L<a;L++)c[L]=new D,d[L]=new D;const h=new D,p=new D,m=new D,y=new ge,v=new ge,x=new ge,A=new D,_=new D;function w(L,O,H){h.fromArray(r,L*3),p.fromArray(r,O*3),m.fromArray(r,H*3),y.fromArray(o,L*2),v.fromArray(o,O*2),x.fromArray(o,H*2),p.sub(h),m.sub(h),v.sub(y),x.sub(y);const U=1/(v.x*x.y-x.x*v.y);isFinite(U)&&(A.copy(p).multiplyScalar(x.y).addScaledVector(m,-v.y).multiplyScalar(U),_.copy(m).multiplyScalar(v.x).addScaledVector(p,-x.x).multiplyScalar(U),c[L].add(A),c[O].add(A),c[H].add(A),d[L].add(_),d[O].add(_),d[H].add(_))}let M=this.groups;M.length===0&&(M=[{start:0,count:i.length}]);for(let L=0,O=M.length;L<O;++L){const H=M[L],U=H.start,W=H.count;for(let J=U,ee=U+W;J<ee;J+=3)w(i[J+0],i[J+1],i[J+2])}const E=new D,P=new D,R=new D,b=new D;function B(L){R.fromArray(s,L*3),b.copy(R);const O=c[L];E.copy(O),E.sub(R.multiplyScalar(R.dot(O))).normalize(),P.crossVectors(b,O);const U=P.dot(d[L])<0?-1:1;l[L*4]=E.x,l[L*4+1]=E.y,l[L*4+2]=E.z,l[L*4+3]=U}for(let L=0,O=M.length;L<O;++L){const H=M[L],U=H.start,W=H.count;for(let J=U,ee=U+W;J<ee;J+=3)B(i[J+0]),B(i[J+1]),B(i[J+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Nt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new D,s=new D,o=new D,a=new D,l=new D,c=new D,d=new D,h=new D;if(e)for(let p=0,m=e.count;p<m;p+=3){const y=e.getX(p+0),v=e.getX(p+1),x=e.getX(p+2);r.fromBufferAttribute(t,y),s.fromBufferAttribute(t,v),o.fromBufferAttribute(t,x),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),a.fromBufferAttribute(i,y),l.fromBufferAttribute(i,v),c.fromBufferAttribute(i,x),a.add(d),l.add(d),c.add(d),i.setXYZ(y,a.x,a.y,a.z),i.setXYZ(v,l.x,l.y,l.z),i.setXYZ(x,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),i.setXYZ(p+0,d.x,d.y,d.z),i.setXYZ(p+1,d.x,d.y,d.z),i.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Hn.fromBufferAttribute(e,t),Hn.normalize(),e.setXYZ(t,Hn.x,Hn.y,Hn.z)}toNonIndexed(){function e(a,l){const c=a.array,d=a.itemSize,h=a.normalized,p=new c.constructor(l.length*d);let m=0,y=0;for(let v=0,x=l.length;v<x;v++){a.isInterleavedBufferAttribute?m=l[v]*a.data.stride+a.offset:m=l[v]*d;for(let A=0;A<d;A++)p[y++]=c[m++]}return new Nt(p,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ft,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let d=0,h=c.length;d<h;d++){const p=c[d],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let h=0,p=c.length;h<p;h++){const m=c[h];d.push(m.toJSON(e.data))}d.length>0&&(r[l]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const d=r[c];this.setAttribute(c,d.clone(t))}const s=e.morphAttributes;for(const c in s){const d=[],h=s[c];for(let p=0,m=h.length;p<m;p++)d.push(h[p].clone(t));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,d=o.length;c<d;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const Bb=new at,jl=new Ed,by=new sa,Hc=new D,Vc=new D,Wc=new D,Ey=new D,Cp=new D,bp=new ge,Ep=new ge,Tp=new ge,Ty=new D,Pp=new D;class Wn extends Dt{constructor(e=new ft,t=new ji){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){Cp.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const d=a[l],h=s[l];d!==0&&(Ey.fromBufferAttribute(h,e),o?Cp.addScaledVector(Ey,d):Cp.addScaledVector(Ey.sub(t),d))}t.add(Cp)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),by.copy(i.boundingSphere),by.applyMatrix4(s),e.ray.intersectsSphere(by)===!1)||(Bb.copy(s).invert(),jl.copy(e.ray).applyMatrix4(Bb),i.boundingBox!==null&&jl.intersectsBox(i.boundingBox)===!1))return;let o;const a=i.index,l=i.attributes.position,c=i.attributes.uv,d=i.attributes.uv2,h=i.groups,p=i.drawRange;if(a!==null)if(Array.isArray(r))for(let m=0,y=h.length;m<y;m++){const v=h[m],x=r[v.materialIndex],A=Math.max(v.start,p.start),_=Math.min(a.count,Math.min(v.start+v.count,p.start+p.count));for(let w=A,M=_;w<M;w+=3){const E=a.getX(w),P=a.getX(w+1),R=a.getX(w+2);o=Bp(this,x,e,jl,c,d,E,P,R),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),y=Math.min(a.count,p.start+p.count);for(let v=m,x=y;v<x;v+=3){const A=a.getX(v),_=a.getX(v+1),w=a.getX(v+2);o=Bp(this,r,e,jl,c,d,A,_,w),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(r))for(let m=0,y=h.length;m<y;m++){const v=h[m],x=r[v.materialIndex],A=Math.max(v.start,p.start),_=Math.min(l.count,Math.min(v.start+v.count,p.start+p.count));for(let w=A,M=_;w<M;w+=3){const E=w,P=w+1,R=w+2;o=Bp(this,x,e,jl,c,d,E,P,R),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),y=Math.min(l.count,p.start+p.count);for(let v=m,x=y;v<x;v+=3){const A=v,_=v+1,w=v+2;o=Bp(this,r,e,jl,c,d,A,_,w),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}}}function Fz(n,e,t,i,r,s,o,a){let l;if(e.side===Oi?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===fs,a),l===null)return null;Pp.copy(a),Pp.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(Pp);return c<t.near||c>t.far?null:{distance:c,point:Pp.clone(),object:n}}function Bp(n,e,t,i,r,s,o,a,l){n.getVertexPosition(o,Hc),n.getVertexPosition(a,Vc),n.getVertexPosition(l,Wc);const c=Fz(n,e,t,i,Hc,Vc,Wc,Ty);if(c){r&&(bp.fromBufferAttribute(r,o),Ep.fromBufferAttribute(r,a),Tp.fromBufferAttribute(r,l),c.uv=yr.getUV(Ty,Hc,Vc,Wc,bp,Ep,Tp,new ge)),s&&(bp.fromBufferAttribute(s,o),Ep.fromBufferAttribute(s,a),Tp.fromBufferAttribute(s,l),c.uv2=yr.getUV(Ty,Hc,Vc,Wc,bp,Ep,Tp,new ge));const d={a:o,b:a,c:l,normal:new D,materialIndex:0};yr.getNormal(Hc,Vc,Wc,d.normal),c.face=d}return c}class oa extends ft{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],d=[],h=[];let p=0,m=0;y("z","y","x",-1,-1,i,t,e,o,s,0),y("z","y","x",1,-1,i,t,-e,o,s,1),y("x","z","y",1,1,e,i,t,r,o,2),y("x","z","y",1,-1,e,i,-t,r,o,3),y("x","y","z",1,-1,e,t,i,r,s,4),y("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Je(c,3)),this.setAttribute("normal",new Je(d,3)),this.setAttribute("uv",new Je(h,2));function y(v,x,A,_,w,M,E,P,R,b,B){const L=M/R,O=E/b,H=M/2,U=E/2,W=P/2,J=R+1,ee=b+1;let ie=0,k=0;const X=new D;for(let K=0;K<ee;K++){const ae=K*O-U;for(let V=0;V<J;V++){const se=V*L-H;X[v]=se*_,X[x]=ae*w,X[A]=W,c.push(X.x,X.y,X.z),X[v]=0,X[x]=0,X[A]=P>0?1:-1,d.push(X.x,X.y,X.z),h.push(V/R),h.push(1-K/b),ie+=1}}for(let K=0;K<b;K++)for(let ae=0;ae<R;ae++){const V=p+ae+J*K,se=p+ae+J*(K+1),pe=p+(ae+1)+J*(K+1),_e=p+(ae+1)+J*K;l.push(V,se,_e),l.push(se,pe,_e),k+=6}a.addGroup(m,k,B),m+=k,p+=ie}}static fromJSON(e){return new oa(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Vu(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function pi(n){const e={};for(let t=0;t<n.length;t++){const i=Vu(n[t]);for(const r in i)e[r]=i[r]}return e}function kz(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function lL(n){return n.getRenderTarget()===null&&n.outputEncoding===Pt?Dr:Hu}const uL={clone:Vu,merge:pi};var Nz=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,zz=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class hs extends Pn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Nz,this.fragmentShader=zz,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Vu(e.uniforms),this.uniformsGroups=kz(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class Pd extends Dt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new at,this.projectionMatrix=new at,this.projectionMatrixInverse=new at}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class jt extends Pd{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=id*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(el*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return id*2*Math.atan(Math.tan(el*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(el*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Jl=-90,Xl=1;class oS extends Dt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new jt(Jl,Xl,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const s=new jt(Jl,Xl,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new jt(Jl,Xl,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new jt(Jl,Xl,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new jt(Jl,Xl,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new jt(Jl,Xl,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,s,o,a,l,c]=this.children,d=e.getRenderTarget(),h=e.toneMapping,p=e.xr.enabled;e.toneMapping=Ur,e.xr.enabled=!1;const m=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=m,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(d),e.toneMapping=h,e.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class Bd extends nn{constructor(e,t,i,r,s,o,a,l,c,d){e=e!==void 0?e:[],t=t!==void 0?t:Xo,super(e,t,i,r,s,o,a,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class aS extends Vr{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new Bd(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:ln}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new oa(5,5,5),s=new hs({name:"CubemapFromEquirect",uniforms:Vu(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Oi,blending:Vs});s.uniforms.tEquirect.value=t;const o=new Wn(r,s),a=t.minFilter;return t.minFilter===ds&&(t.minFilter=ln),new oS(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const Py=new D,Uz=new D,Gz=new vi;class Mo{constructor(e=new D(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=Py.subVectors(i,t).cross(Uz.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const i=e.delta(Py),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(i).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||Gz.getNormalMatrix(e),r=this.coplanarPoint(Py).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Kl=new sa,Rp=new D;class s0{constructor(e=new Mo,t=new Mo,i=new Mo,r=new Mo,s=new Mo,o=new Mo){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],d=i[6],h=i[7],p=i[8],m=i[9],y=i[10],v=i[11],x=i[12],A=i[13],_=i[14],w=i[15];return t[0].setComponents(a-r,h-l,v-p,w-x).normalize(),t[1].setComponents(a+r,h+l,v+p,w+x).normalize(),t[2].setComponents(a+s,h+c,v+m,w+A).normalize(),t[3].setComponents(a-s,h-c,v-m,w-A).normalize(),t[4].setComponents(a-o,h-d,v-y,w-_).normalize(),t[5].setComponents(a+o,h+d,v+y,w+_).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Kl.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Kl)}intersectsSprite(e){return Kl.center.set(0,0,0),Kl.radius=.7071067811865476,Kl.applyMatrix4(e.matrixWorld),this.intersectsSphere(Kl)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Rp.x=r.normal.x>0?e.max.x:e.min.x,Rp.y=r.normal.y>0?e.max.y:e.min.y,Rp.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Rp)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function cL(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function Hz(n,e){const t=e.isWebGL2,i=new WeakMap;function r(c,d){const h=c.array,p=c.usage,m=n.createBuffer();n.bindBuffer(d,m),n.bufferData(d,h,p),c.onUploadCallback();let y;if(h instanceof Float32Array)y=5126;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)y=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=5123;else if(h instanceof Int16Array)y=5122;else if(h instanceof Uint32Array)y=5125;else if(h instanceof Int32Array)y=5124;else if(h instanceof Int8Array)y=5120;else if(h instanceof Uint8Array)y=5121;else if(h instanceof Uint8ClampedArray)y=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:m,type:y,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version}}function s(c,d,h){const p=d.array,m=d.updateRange;n.bindBuffer(h,c),m.count===-1?n.bufferSubData(h,0,p):(t?n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),d.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);d&&(n.deleteBuffer(d.buffer),i.delete(c))}function l(c,d){if(c.isGLBufferAttribute){const p=i.get(c);(!p||p.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const h=i.get(c);h===void 0?i.set(c,r(c,d)):h.version<c.version&&(s(h.buffer,c,d),h.version=c.version)}return{get:o,remove:a,update:l}}class ic extends ft{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,d=l+1,h=e/a,p=t/l,m=[],y=[],v=[],x=[];for(let A=0;A<d;A++){const _=A*p-o;for(let w=0;w<c;w++){const M=w*h-s;y.push(M,-_,0),v.push(0,0,1),x.push(w/a),x.push(1-A/l)}}for(let A=0;A<l;A++)for(let _=0;_<a;_++){const w=_+c*A,M=_+c*(A+1),E=_+1+c*(A+1),P=_+1+c*A;m.push(w,M,P),m.push(M,E,P)}this.setIndex(m),this.setAttribute("position",new Je(y,3)),this.setAttribute("normal",new Je(v,3)),this.setAttribute("uv",new Je(x,2))}static fromJSON(e){return new ic(e.width,e.height,e.widthSegments,e.heightSegments)}}var Vz=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Wz=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,jz=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Jz=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Xz=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Kz=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Yz="vec3 transformed = vec3( position );",Qz=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,qz=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,Zz=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,$z=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,eU=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,tU=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,nU=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,iU=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,rU=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,sU=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,oU=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,aU=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,lU=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,uU=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,cU=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,fU=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,dU=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,hU=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,pU=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,mU="gl_FragColor = linearToOutputTexel( gl_FragColor );",gU=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,vU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,yU=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,xU=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,_U=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,AU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,SU=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,wU=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,MU=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,CU=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,bU=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,EU=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,TU=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,PU=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,BU=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,RU=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,LU=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,IU=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,DU=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,OU=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,FU=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,kU=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,NU=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,zU=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,UU=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,GU=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,HU=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,VU=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,WU=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,jU=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,JU=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,XU=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,KU=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,YU=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,QU=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,qU=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,ZU=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,$U=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,e4=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,t4=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,n4=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,i4=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,r4=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,s4=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,o4=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,a4=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,l4=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,u4=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,c4=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,f4=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,d4=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,h4=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,p4=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,m4=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,g4=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,v4=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,y4=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,x4=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,_4=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,A4=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,S4=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,w4=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,M4=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,C4=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,b4=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,E4=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,T4=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,P4=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,B4=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,R4=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,L4=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,I4=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,D4=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,O4=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,F4=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,k4=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,N4=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,z4=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,U4=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const G4=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,H4=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,V4=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,W4=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,j4=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,J4=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,X4=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,K4=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Y4=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Q4=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,q4=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Z4=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,$4=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,eG=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,tG=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,nG=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iG=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rG=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sG=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,oG=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aG=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,lG=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,uG=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,cG=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fG=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,dG=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hG=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,pG=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mG=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,gG=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vG=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yG=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,xG=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,_G=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,gt={alphamap_fragment:Vz,alphamap_pars_fragment:Wz,alphatest_fragment:jz,alphatest_pars_fragment:Jz,aomap_fragment:Xz,aomap_pars_fragment:Kz,begin_vertex:Yz,beginnormal_vertex:Qz,bsdfs:qz,iridescence_fragment:Zz,bumpmap_pars_fragment:$z,clipping_planes_fragment:eU,clipping_planes_pars_fragment:tU,clipping_planes_pars_vertex:nU,clipping_planes_vertex:iU,color_fragment:rU,color_pars_fragment:sU,color_pars_vertex:oU,color_vertex:aU,common:lU,cube_uv_reflection_fragment:uU,defaultnormal_vertex:cU,displacementmap_pars_vertex:fU,displacementmap_vertex:dU,emissivemap_fragment:hU,emissivemap_pars_fragment:pU,encodings_fragment:mU,encodings_pars_fragment:gU,envmap_fragment:vU,envmap_common_pars_fragment:yU,envmap_pars_fragment:xU,envmap_pars_vertex:_U,envmap_physical_pars_fragment:LU,envmap_vertex:AU,fog_vertex:SU,fog_pars_vertex:wU,fog_fragment:MU,fog_pars_fragment:CU,gradientmap_pars_fragment:bU,lightmap_fragment:EU,lightmap_pars_fragment:TU,lights_lambert_fragment:PU,lights_lambert_pars_fragment:BU,lights_pars_begin:RU,lights_toon_fragment:IU,lights_toon_pars_fragment:DU,lights_phong_fragment:OU,lights_phong_pars_fragment:FU,lights_physical_fragment:kU,lights_physical_pars_fragment:NU,lights_fragment_begin:zU,lights_fragment_maps:UU,lights_fragment_end:GU,logdepthbuf_fragment:HU,logdepthbuf_pars_fragment:VU,logdepthbuf_pars_vertex:WU,logdepthbuf_vertex:jU,map_fragment:JU,map_pars_fragment:XU,map_particle_fragment:KU,map_particle_pars_fragment:YU,metalnessmap_fragment:QU,metalnessmap_pars_fragment:qU,morphcolor_vertex:ZU,morphnormal_vertex:$U,morphtarget_pars_vertex:e4,morphtarget_vertex:t4,normal_fragment_begin:n4,normal_fragment_maps:i4,normal_pars_fragment:r4,normal_pars_vertex:s4,normal_vertex:o4,normalmap_pars_fragment:a4,clearcoat_normal_fragment_begin:l4,clearcoat_normal_fragment_maps:u4,clearcoat_pars_fragment:c4,iridescence_pars_fragment:f4,output_fragment:d4,packing:h4,premultiplied_alpha_fragment:p4,project_vertex:m4,dithering_fragment:g4,dithering_pars_fragment:v4,roughnessmap_fragment:y4,roughnessmap_pars_fragment:x4,shadowmap_pars_fragment:_4,shadowmap_pars_vertex:A4,shadowmap_vertex:S4,shadowmask_pars_fragment:w4,skinbase_vertex:M4,skinning_pars_vertex:C4,skinning_vertex:b4,skinnormal_vertex:E4,specularmap_fragment:T4,specularmap_pars_fragment:P4,tonemapping_fragment:B4,tonemapping_pars_fragment:R4,transmission_fragment:L4,transmission_pars_fragment:I4,uv_pars_fragment:D4,uv_pars_vertex:O4,uv_vertex:F4,uv2_pars_fragment:k4,uv2_pars_vertex:N4,uv2_vertex:z4,worldpos_vertex:U4,background_vert:G4,background_frag:H4,backgroundCube_vert:V4,backgroundCube_frag:W4,cube_vert:j4,cube_frag:J4,depth_vert:X4,depth_frag:K4,distanceRGBA_vert:Y4,distanceRGBA_frag:Q4,equirect_vert:q4,equirect_frag:Z4,linedashed_vert:$4,linedashed_frag:eG,meshbasic_vert:tG,meshbasic_frag:nG,meshlambert_vert:iG,meshlambert_frag:rG,meshmatcap_vert:sG,meshmatcap_frag:oG,meshnormal_vert:aG,meshnormal_frag:lG,meshphong_vert:uG,meshphong_frag:cG,meshphysical_vert:fG,meshphysical_frag:dG,meshtoon_vert:hG,meshtoon_frag:pG,points_vert:mG,points_frag:gG,shadow_vert:vG,shadow_frag:yG,sprite_vert:xG,sprite_frag:_G},Re={common:{diffuse:{value:new Le(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new vi},uv2Transform:{value:new vi},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ge(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Le(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Le(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new vi}},sprite:{diffuse:{value:new Le(16777215)},opacity:{value:1},center:{value:new ge(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new vi}}},Fr={basic:{uniforms:pi([Re.common,Re.specularmap,Re.envmap,Re.aomap,Re.lightmap,Re.fog]),vertexShader:gt.meshbasic_vert,fragmentShader:gt.meshbasic_frag},lambert:{uniforms:pi([Re.common,Re.specularmap,Re.envmap,Re.aomap,Re.lightmap,Re.emissivemap,Re.bumpmap,Re.normalmap,Re.displacementmap,Re.fog,Re.lights,{emissive:{value:new Le(0)}}]),vertexShader:gt.meshlambert_vert,fragmentShader:gt.meshlambert_frag},phong:{uniforms:pi([Re.common,Re.specularmap,Re.envmap,Re.aomap,Re.lightmap,Re.emissivemap,Re.bumpmap,Re.normalmap,Re.displacementmap,Re.fog,Re.lights,{emissive:{value:new Le(0)},specular:{value:new Le(1118481)},shininess:{value:30}}]),vertexShader:gt.meshphong_vert,fragmentShader:gt.meshphong_frag},standard:{uniforms:pi([Re.common,Re.envmap,Re.aomap,Re.lightmap,Re.emissivemap,Re.bumpmap,Re.normalmap,Re.displacementmap,Re.roughnessmap,Re.metalnessmap,Re.fog,Re.lights,{emissive:{value:new Le(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:gt.meshphysical_vert,fragmentShader:gt.meshphysical_frag},toon:{uniforms:pi([Re.common,Re.aomap,Re.lightmap,Re.emissivemap,Re.bumpmap,Re.normalmap,Re.displacementmap,Re.gradientmap,Re.fog,Re.lights,{emissive:{value:new Le(0)}}]),vertexShader:gt.meshtoon_vert,fragmentShader:gt.meshtoon_frag},matcap:{uniforms:pi([Re.common,Re.bumpmap,Re.normalmap,Re.displacementmap,Re.fog,{matcap:{value:null}}]),vertexShader:gt.meshmatcap_vert,fragmentShader:gt.meshmatcap_frag},points:{uniforms:pi([Re.points,Re.fog]),vertexShader:gt.points_vert,fragmentShader:gt.points_frag},dashed:{uniforms:pi([Re.common,Re.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:gt.linedashed_vert,fragmentShader:gt.linedashed_frag},depth:{uniforms:pi([Re.common,Re.displacementmap]),vertexShader:gt.depth_vert,fragmentShader:gt.depth_frag},normal:{uniforms:pi([Re.common,Re.bumpmap,Re.normalmap,Re.displacementmap,{opacity:{value:1}}]),vertexShader:gt.meshnormal_vert,fragmentShader:gt.meshnormal_frag},sprite:{uniforms:pi([Re.sprite,Re.fog]),vertexShader:gt.sprite_vert,fragmentShader:gt.sprite_frag},background:{uniforms:{uvTransform:{value:new vi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:gt.background_vert,fragmentShader:gt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:gt.backgroundCube_vert,fragmentShader:gt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:gt.cube_vert,fragmentShader:gt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:gt.equirect_vert,fragmentShader:gt.equirect_frag},distanceRGBA:{uniforms:pi([Re.common,Re.displacementmap,{referencePosition:{value:new D},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:gt.distanceRGBA_vert,fragmentShader:gt.distanceRGBA_frag},shadow:{uniforms:pi([Re.lights,Re.fog,{color:{value:new Le(0)},opacity:{value:1}}]),vertexShader:gt.shadow_vert,fragmentShader:gt.shadow_frag}};Fr.physical={uniforms:pi([Fr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ge(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Le(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ge},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Le(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Le(1,1,1)},specularColorMap:{value:null}}]),vertexShader:gt.meshphysical_vert,fragmentShader:gt.meshphysical_frag};const Lp={r:0,b:0,g:0};function AG(n,e,t,i,r,s,o){const a=new Le(0);let l=s===!0?0:1,c,d,h=null,p=0,m=null;function y(x,A){let _=!1,w=A.isScene===!0?A.background:null;w&&w.isTexture&&(w=(A.backgroundBlurriness>0?t:e).get(w));const M=n.xr,E=M.getSession&&M.getSession();E&&E.environmentBlendMode==="additive"&&(w=null),w===null?v(a,l):w&&w.isColor&&(v(w,1),_=!0),(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),w&&(w.isCubeTexture||w.mapping===nc)?(d===void 0&&(d=new Wn(new oa(1,1,1),new hs({name:"BackgroundCubeMaterial",uniforms:Vu(Fr.backgroundCube.uniforms),vertexShader:Fr.backgroundCube.vertexShader,fragmentShader:Fr.backgroundCube.fragmentShader,side:Oi,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(P,R,b){this.matrixWorld.copyPosition(b.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),d.material.uniforms.envMap.value=w,d.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=A.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,d.material.toneMapped=w.encoding!==Pt,(h!==w||p!==w.version||m!==n.toneMapping)&&(d.material.needsUpdate=!0,h=w,p=w.version,m=n.toneMapping),d.layers.enableAll(),x.unshift(d,d.geometry,d.material,0,0,null)):w&&w.isTexture&&(c===void 0&&(c=new Wn(new ic(2,2),new hs({name:"BackgroundMaterial",uniforms:Vu(Fr.background.uniforms),vertexShader:Fr.background.vertexShader,fragmentShader:Fr.background.fragmentShader,side:fs,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=w,c.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,c.material.toneMapped=w.encoding!==Pt,w.matrixAutoUpdate===!0&&w.updateMatrix(),c.material.uniforms.uvTransform.value.copy(w.matrix),(h!==w||p!==w.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,h=w,p=w.version,m=n.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function v(x,A){x.getRGB(Lp,lL(n)),i.buffers.color.setClear(Lp.r,Lp.g,Lp.b,A,o)}return{getClearColor:function(){return a},setClearColor:function(x,A=1){a.set(x),l=A,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,v(a,l)},render:y}}function SG(n,e,t,i){const r=n.getParameter(34921),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=x(null);let c=l,d=!1;function h(W,J,ee,ie,k){let X=!1;if(o){const K=v(ie,ee,J);c!==K&&(c=K,m(c.object)),X=A(W,ie,ee,k),X&&_(W,ie,ee,k)}else{const K=J.wireframe===!0;(c.geometry!==ie.id||c.program!==ee.id||c.wireframe!==K)&&(c.geometry=ie.id,c.program=ee.id,c.wireframe=K,X=!0)}k!==null&&t.update(k,34963),(X||d)&&(d=!1,b(W,J,ee,ie),k!==null&&n.bindBuffer(34963,t.get(k).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(W){return i.isWebGL2?n.bindVertexArray(W):s.bindVertexArrayOES(W)}function y(W){return i.isWebGL2?n.deleteVertexArray(W):s.deleteVertexArrayOES(W)}function v(W,J,ee){const ie=ee.wireframe===!0;let k=a[W.id];k===void 0&&(k={},a[W.id]=k);let X=k[J.id];X===void 0&&(X={},k[J.id]=X);let K=X[ie];return K===void 0&&(K=x(p()),X[ie]=K),K}function x(W){const J=[],ee=[],ie=[];for(let k=0;k<r;k++)J[k]=0,ee[k]=0,ie[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:J,enabledAttributes:ee,attributeDivisors:ie,object:W,attributes:{},index:null}}function A(W,J,ee,ie){const k=c.attributes,X=J.attributes;let K=0;const ae=ee.getAttributes();for(const V in ae)if(ae[V].location>=0){const pe=k[V];let _e=X[V];if(_e===void 0&&(V==="instanceMatrix"&&W.instanceMatrix&&(_e=W.instanceMatrix),V==="instanceColor"&&W.instanceColor&&(_e=W.instanceColor)),pe===void 0||pe.attribute!==_e||_e&&pe.data!==_e.data)return!0;K++}return c.attributesNum!==K||c.index!==ie}function _(W,J,ee,ie){const k={},X=J.attributes;let K=0;const ae=ee.getAttributes();for(const V in ae)if(ae[V].location>=0){let pe=X[V];pe===void 0&&(V==="instanceMatrix"&&W.instanceMatrix&&(pe=W.instanceMatrix),V==="instanceColor"&&W.instanceColor&&(pe=W.instanceColor));const _e={};_e.attribute=pe,pe&&pe.data&&(_e.data=pe.data),k[V]=_e,K++}c.attributes=k,c.attributesNum=K,c.index=ie}function w(){const W=c.newAttributes;for(let J=0,ee=W.length;J<ee;J++)W[J]=0}function M(W){E(W,0)}function E(W,J){const ee=c.newAttributes,ie=c.enabledAttributes,k=c.attributeDivisors;ee[W]=1,ie[W]===0&&(n.enableVertexAttribArray(W),ie[W]=1),k[W]!==J&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](W,J),k[W]=J)}function P(){const W=c.newAttributes,J=c.enabledAttributes;for(let ee=0,ie=J.length;ee<ie;ee++)J[ee]!==W[ee]&&(n.disableVertexAttribArray(ee),J[ee]=0)}function R(W,J,ee,ie,k,X){i.isWebGL2===!0&&(ee===5124||ee===5125)?n.vertexAttribIPointer(W,J,ee,k,X):n.vertexAttribPointer(W,J,ee,ie,k,X)}function b(W,J,ee,ie){if(i.isWebGL2===!1&&(W.isInstancedMesh||ie.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const k=ie.attributes,X=ee.getAttributes(),K=J.defaultAttributeValues;for(const ae in X){const V=X[ae];if(V.location>=0){let se=k[ae];if(se===void 0&&(ae==="instanceMatrix"&&W.instanceMatrix&&(se=W.instanceMatrix),ae==="instanceColor"&&W.instanceColor&&(se=W.instanceColor)),se!==void 0){const pe=se.normalized,_e=se.itemSize,Z=t.get(se);if(Z===void 0)continue;const Ne=Z.buffer,ze=Z.type,Ve=Z.bytesPerElement;if(se.isInterleavedBufferAttribute){const Se=se.data,Ie=Se.stride,he=se.offset;if(Se.isInstancedInterleavedBuffer){for(let le=0;le<V.locationSize;le++)E(V.location+le,Se.meshPerAttribute);W.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=Se.meshPerAttribute*Se.count)}else for(let le=0;le<V.locationSize;le++)M(V.location+le);n.bindBuffer(34962,Ne);for(let le=0;le<V.locationSize;le++)R(V.location+le,_e/V.locationSize,ze,pe,Ie*Ve,(he+_e/V.locationSize*le)*Ve)}else{if(se.isInstancedBufferAttribute){for(let Se=0;Se<V.locationSize;Se++)E(V.location+Se,se.meshPerAttribute);W.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let Se=0;Se<V.locationSize;Se++)M(V.location+Se);n.bindBuffer(34962,Ne);for(let Se=0;Se<V.locationSize;Se++)R(V.location+Se,_e/V.locationSize,ze,pe,_e*Ve,_e/V.locationSize*Se*Ve)}}else if(K!==void 0){const pe=K[ae];if(pe!==void 0)switch(pe.length){case 2:n.vertexAttrib2fv(V.location,pe);break;case 3:n.vertexAttrib3fv(V.location,pe);break;case 4:n.vertexAttrib4fv(V.location,pe);break;default:n.vertexAttrib1fv(V.location,pe)}}}}P()}function B(){H();for(const W in a){const J=a[W];for(const ee in J){const ie=J[ee];for(const k in ie)y(ie[k].object),delete ie[k];delete J[ee]}delete a[W]}}function L(W){if(a[W.id]===void 0)return;const J=a[W.id];for(const ee in J){const ie=J[ee];for(const k in ie)y(ie[k].object),delete ie[k];delete J[ee]}delete a[W.id]}function O(W){for(const J in a){const ee=a[J];if(ee[W.id]===void 0)continue;const ie=ee[W.id];for(const k in ie)y(ie[k].object),delete ie[k];delete ee[W.id]}}function H(){U(),d=!0,c!==l&&(c=l,m(c.object))}function U(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:H,resetDefaultState:U,dispose:B,releaseStatesOfGeometry:L,releaseStatesOfProgram:O,initAttributes:w,enableAttribute:M,disableUnusedAttributes:P}}function wG(n,e,t,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,d){n.drawArrays(s,c,d),t.update(d,s,1)}function l(c,d,h){if(h===0)return;let p,m;if(r)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,c,d,h),t.update(d,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function MG(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),d=t.logarithmicDepthBuffer===!0,h=n.getParameter(34930),p=n.getParameter(35660),m=n.getParameter(3379),y=n.getParameter(34076),v=n.getParameter(34921),x=n.getParameter(36347),A=n.getParameter(36348),_=n.getParameter(36349),w=p>0,M=o||e.has("OES_texture_float"),E=w&&M,P=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:d,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:y,maxAttributes:v,maxVertexUniforms:x,maxVaryings:A,maxFragmentUniforms:_,vertexTextures:w,floatFragmentTextures:M,floatVertexTextures:E,maxSamples:P}}function CG(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Mo,a=new vi,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const m=h.length!==0||p||i!==0||r;return r=p,i=h.length,m},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){t=d(h,p,0)},this.setState=function(h,p,m){const y=h.clippingPlanes,v=h.clipIntersection,x=h.clipShadows,A=n.get(h);if(!r||y===null||y.length===0||s&&!x)s?d(null):c();else{const _=s?0:i,w=_*4;let M=A.clippingState||null;l.value=M,M=d(y,p,w,m);for(let E=0;E!==w;++E)M[E]=t[E];A.clippingState=M,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(h,p,m,y){const v=h!==null?h.length:0;let x=null;if(v!==0){if(x=l.value,y!==!0||x===null){const A=m+v*4,_=p.matrixWorldInverse;a.getNormalMatrix(_),(x===null||x.length<A)&&(x=new Float32Array(A));for(let w=0,M=m;w!==v;++w,M+=4)o.copy(h[w]).applyMatrix4(_,a),o.normal.toArray(x,M),x[M+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,x}}function bG(n){let e=new WeakMap;function t(o,a){return a===Zf?o.mapping=Xo:a===$f&&(o.mapping=Ko),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Zf||a===$f)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new aS(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class Gr extends Pd{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const gu=4,Rb=[.125,.215,.35,.446,.526,.582],Na=20,By=new Gr,Lb=new Le;let Ry=null;const Ia=(1+Math.sqrt(5))/2,Yl=1/Ia,Ib=[new D(1,1,1),new D(-1,1,1),new D(1,1,-1),new D(-1,1,-1),new D(0,Ia,Yl),new D(0,Ia,-Yl),new D(Yl,0,Ia),new D(-Yl,0,Ia),new D(Ia,Yl,0),new D(-Ia,Yl,0)];class Z_{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){Ry=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Fb(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Ob(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Ry),e.scissorTest=!1,Ip(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Xo||e.mapping===Ko?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Ry=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:ln,minFilter:ln,generateMipmaps:!1,type:Uu,format:Bi,encoding:qs,depthBuffer:!1},r=Db(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Db(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=EG(s)),this._blurMaterial=TG(s,e,t)}return r}_compileMaterial(e){const t=new Wn(this._lodPlanes[0],e);this._renderer.compile(t,By)}_sceneToCubeUV(e,t,i,r){const a=new jt(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],d=this._renderer,h=d.autoClear,p=d.toneMapping;d.getClearColor(Lb),d.toneMapping=Ur,d.autoClear=!1;const m=new ji({name:"PMREM.Background",side:Oi,depthWrite:!1,depthTest:!1}),y=new Wn(new oa,m);let v=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,v=!0):(m.color.copy(Lb),v=!0);for(let A=0;A<6;A++){const _=A%3;_===0?(a.up.set(0,l[A],0),a.lookAt(c[A],0,0)):_===1?(a.up.set(0,0,l[A]),a.lookAt(0,c[A],0)):(a.up.set(0,l[A],0),a.lookAt(0,0,c[A]));const w=this._cubeSize;Ip(r,_*w,A>2?w:0,w,w),d.setRenderTarget(r),v&&d.render(y,a),d.render(e,a)}y.geometry.dispose(),y.material.dispose(),d.toneMapping=p,d.autoClear=h,e.background=x}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Xo||e.mapping===Ko;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Fb()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Ob());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Wn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Ip(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,By)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=Ib[(r-1)%Ib.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,h=new Wn(this._lodPlanes[r],c),p=c.uniforms,m=this._sizeLods[i]-1,y=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Na-1),v=s/y,x=isFinite(s)?1+Math.floor(d*v):Na;x>Na&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Na}`);const A=[];let _=0;for(let R=0;R<Na;++R){const b=R/v,B=Math.exp(-b*b/2);A.push(B),R===0?_+=B:R<x&&(_+=2*B)}for(let R=0;R<A.length;R++)A[R]=A[R]/_;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=A,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:w}=this;p.dTheta.value=y,p.mipInt.value=w-i;const M=this._sizeLods[r],E=3*M*(r>w-gu?r-w+gu:0),P=4*(this._cubeSize-M);Ip(t,E,P,3*M,2*M),l.setRenderTarget(t),l.render(h,By)}}function EG(n){const e=[],t=[],i=[];let r=n;const s=n-gu+1+Rb.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-gu?l=Rb[o-n+gu-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),d=-c,h=1+c,p=[d,d,h,d,h,h,d,d,h,h,d,h],m=6,y=6,v=3,x=2,A=1,_=new Float32Array(v*y*m),w=new Float32Array(x*y*m),M=new Float32Array(A*y*m);for(let P=0;P<m;P++){const R=P%3*2/3-1,b=P>2?0:-1,B=[R,b,0,R+2/3,b,0,R+2/3,b+1,0,R,b,0,R+2/3,b+1,0,R,b+1,0];_.set(B,v*y*P),w.set(p,x*y*P);const L=[P,P,P,P,P,P];M.set(L,A*y*P)}const E=new ft;E.setAttribute("position",new Nt(_,v)),E.setAttribute("uv",new Nt(w,x)),E.setAttribute("faceIndex",new Nt(M,A)),e.push(E),r>gu&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function Db(n,e,t){const i=new Vr(n,e,t);return i.texture.mapping=nc,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Ip(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function TG(n,e,t){const i=new Float32Array(Na),r=new D(0,1,0);return new hs({name:"SphericalGaussianBlur",defines:{n:Na,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:lS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Vs,depthTest:!1,depthWrite:!1})}function Ob(){return new hs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:lS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Vs,depthTest:!1,depthWrite:!1})}function Fb(){return new hs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:lS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Vs,depthTest:!1,depthWrite:!1})}function lS(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function PG(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===Zf||l===$f,d=l===Xo||l===Ko;if(c||d)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new Z_(n)),h=c?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(c&&h&&h.height>0||d&&h&&r(h)){t===null&&(t=new Z_(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let d=0;d<c;d++)a[d]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function BG(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function RG(n,e,t,i){const r={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(h){const p=h.attributes;for(const y in p)e.update(p[y],34962);const m=h.morphAttributes;for(const y in m){const v=m[y];for(let x=0,A=v.length;x<A;x++)e.update(v[x],34962)}}function c(h){const p=[],m=h.index,y=h.attributes.position;let v=0;if(m!==null){const _=m.array;v=m.version;for(let w=0,M=_.length;w<M;w+=3){const E=_[w+0],P=_[w+1],R=_[w+2];p.push(E,P,P,R,R,E)}}else{const _=y.array;v=y.version;for(let w=0,M=_.length/3-1;w<M;w+=3){const E=w+0,P=w+1,R=w+2;p.push(E,P,P,R,R,E)}}const x=new(oL(p)?sS:rS)(p,1);x.version=v;const A=s.get(h);A&&e.remove(A),s.set(h,x)}function d(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:d}}function LG(n,e,t,i){const r=i.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function d(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function h(p,m,y){if(y===0)return;let v,x;if(r)v=n,x="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[x](s,m,a,p*l,y),t.update(m,s,y)}this.setMode=o,this.setIndex=c,this.render=d,this.renderInstances=h}function IG(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function DG(n,e){return n[0]-e[0]}function OG(n,e){return Math.abs(e[1])-Math.abs(n[1])}function FG(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new Ut,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,d,h,p){const m=c.morphTargetInfluences;if(e.isWebGL2===!0){const v=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,x=v!==void 0?v.length:0;let A=s.get(d);if(A===void 0||A.count!==x){let ee=function(){W.dispose(),s.delete(d),d.removeEventListener("dispose",ee)};var y=ee;A!==void 0&&A.texture.dispose();const M=d.morphAttributes.position!==void 0,E=d.morphAttributes.normal!==void 0,P=d.morphAttributes.color!==void 0,R=d.morphAttributes.position||[],b=d.morphAttributes.normal||[],B=d.morphAttributes.color||[];let L=0;M===!0&&(L=1),E===!0&&(L=2),P===!0&&(L=3);let O=d.attributes.position.count*L,H=1;O>e.maxTextureSize&&(H=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const U=new Float32Array(O*H*4*x),W=new r0(U,O,H,x);W.type=Ns,W.needsUpdate=!0;const J=L*4;for(let ie=0;ie<x;ie++){const k=R[ie],X=b[ie],K=B[ie],ae=O*H*4*ie;for(let V=0;V<k.count;V++){const se=V*J;M===!0&&(o.fromBufferAttribute(k,V),U[ae+se+0]=o.x,U[ae+se+1]=o.y,U[ae+se+2]=o.z,U[ae+se+3]=0),E===!0&&(o.fromBufferAttribute(X,V),U[ae+se+4]=o.x,U[ae+se+5]=o.y,U[ae+se+6]=o.z,U[ae+se+7]=0),P===!0&&(o.fromBufferAttribute(K,V),U[ae+se+8]=o.x,U[ae+se+9]=o.y,U[ae+se+10]=o.z,U[ae+se+11]=K.itemSize===4?o.w:1)}}A={count:x,texture:W,size:new ge(O,H)},s.set(d,A),d.addEventListener("dispose",ee)}let _=0;for(let M=0;M<m.length;M++)_+=m[M];const w=d.morphTargetsRelative?1:1-_;p.getUniforms().setValue(n,"morphTargetBaseInfluence",w),p.getUniforms().setValue(n,"morphTargetInfluences",m),p.getUniforms().setValue(n,"morphTargetsTexture",A.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",A.size)}else{const v=m===void 0?0:m.length;let x=i[d.id];if(x===void 0||x.length!==v){x=[];for(let E=0;E<v;E++)x[E]=[E,0];i[d.id]=x}for(let E=0;E<v;E++){const P=x[E];P[0]=E,P[1]=m[E]}x.sort(OG);for(let E=0;E<8;E++)E<v&&x[E][1]?(a[E][0]=x[E][0],a[E][1]=x[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(DG);const A=d.morphAttributes.position,_=d.morphAttributes.normal;let w=0;for(let E=0;E<8;E++){const P=a[E],R=P[0],b=P[1];R!==Number.MAX_SAFE_INTEGER&&b?(A&&d.getAttribute("morphTarget"+E)!==A[R]&&d.setAttribute("morphTarget"+E,A[R]),_&&d.getAttribute("morphNormal"+E)!==_[R]&&d.setAttribute("morphNormal"+E,_[R]),r[E]=b,w+=b):(A&&d.hasAttribute("morphTarget"+E)===!0&&d.deleteAttribute("morphTarget"+E),_&&d.hasAttribute("morphNormal"+E)===!0&&d.deleteAttribute("morphNormal"+E),r[E]=0)}const M=d.morphTargetsRelative?1:1-w;p.getUniforms().setValue(n,"morphTargetBaseInfluence",M),p.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function kG(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,d=l.geometry,h=e.get(l,d);return r.get(h)!==c&&(e.update(h),r.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),h}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const fL=new nn,dL=new r0,hL=new iS,pL=new Bd,kb=[],Nb=[],zb=new Float32Array(16),Ub=new Float32Array(9),Gb=new Float32Array(4);function rc(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=kb[r];if(s===void 0&&(s=new Float32Array(r),kb[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function On(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Fn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function o0(n,e){let t=Nb[e];t===void 0&&(t=new Int32Array(e),Nb[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function NG(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function zG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(On(t,e))return;n.uniform2fv(this.addr,e),Fn(t,e)}}function UG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(On(t,e))return;n.uniform3fv(this.addr,e),Fn(t,e)}}function GG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(On(t,e))return;n.uniform4fv(this.addr,e),Fn(t,e)}}function HG(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(On(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Fn(t,e)}else{if(On(t,i))return;Gb.set(i),n.uniformMatrix2fv(this.addr,!1,Gb),Fn(t,i)}}function VG(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(On(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Fn(t,e)}else{if(On(t,i))return;Ub.set(i),n.uniformMatrix3fv(this.addr,!1,Ub),Fn(t,i)}}function WG(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(On(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Fn(t,e)}else{if(On(t,i))return;zb.set(i),n.uniformMatrix4fv(this.addr,!1,zb),Fn(t,i)}}function jG(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function JG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(On(t,e))return;n.uniform2iv(this.addr,e),Fn(t,e)}}function XG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(On(t,e))return;n.uniform3iv(this.addr,e),Fn(t,e)}}function KG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(On(t,e))return;n.uniform4iv(this.addr,e),Fn(t,e)}}function YG(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function QG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(On(t,e))return;n.uniform2uiv(this.addr,e),Fn(t,e)}}function qG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(On(t,e))return;n.uniform3uiv(this.addr,e),Fn(t,e)}}function ZG(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(On(t,e))return;n.uniform4uiv(this.addr,e),Fn(t,e)}}function $G(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||fL,r)}function eH(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||hL,r)}function tH(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||pL,r)}function nH(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||dL,r)}function iH(n){switch(n){case 5126:return NG;case 35664:return zG;case 35665:return UG;case 35666:return GG;case 35674:return HG;case 35675:return VG;case 35676:return WG;case 5124:case 35670:return jG;case 35667:case 35671:return JG;case 35668:case 35672:return XG;case 35669:case 35673:return KG;case 5125:return YG;case 36294:return QG;case 36295:return qG;case 36296:return ZG;case 35678:case 36198:case 36298:case 36306:case 35682:return $G;case 35679:case 36299:case 36307:return eH;case 35680:case 36300:case 36308:case 36293:return tH;case 36289:case 36303:case 36311:case 36292:return nH}}function rH(n,e){n.uniform1fv(this.addr,e)}function sH(n,e){const t=rc(e,this.size,2);n.uniform2fv(this.addr,t)}function oH(n,e){const t=rc(e,this.size,3);n.uniform3fv(this.addr,t)}function aH(n,e){const t=rc(e,this.size,4);n.uniform4fv(this.addr,t)}function lH(n,e){const t=rc(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function uH(n,e){const t=rc(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function cH(n,e){const t=rc(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function fH(n,e){n.uniform1iv(this.addr,e)}function dH(n,e){n.uniform2iv(this.addr,e)}function hH(n,e){n.uniform3iv(this.addr,e)}function pH(n,e){n.uniform4iv(this.addr,e)}function mH(n,e){n.uniform1uiv(this.addr,e)}function gH(n,e){n.uniform2uiv(this.addr,e)}function vH(n,e){n.uniform3uiv(this.addr,e)}function yH(n,e){n.uniform4uiv(this.addr,e)}function xH(n,e,t){const i=this.cache,r=e.length,s=o0(t,r);On(i,s)||(n.uniform1iv(this.addr,s),Fn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||fL,s[o])}function _H(n,e,t){const i=this.cache,r=e.length,s=o0(t,r);On(i,s)||(n.uniform1iv(this.addr,s),Fn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||hL,s[o])}function AH(n,e,t){const i=this.cache,r=e.length,s=o0(t,r);On(i,s)||(n.uniform1iv(this.addr,s),Fn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||pL,s[o])}function SH(n,e,t){const i=this.cache,r=e.length,s=o0(t,r);On(i,s)||(n.uniform1iv(this.addr,s),Fn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||dL,s[o])}function wH(n){switch(n){case 5126:return rH;case 35664:return sH;case 35665:return oH;case 35666:return aH;case 35674:return lH;case 35675:return uH;case 35676:return cH;case 5124:case 35670:return fH;case 35667:case 35671:return dH;case 35668:case 35672:return hH;case 35669:case 35673:return pH;case 5125:return mH;case 36294:return gH;case 36295:return vH;case 36296:return yH;case 35678:case 36198:case 36298:case 36306:case 35682:return xH;case 35679:case 36299:case 36307:return _H;case 35680:case 36300:case 36308:case 36293:return AH;case 36289:case 36303:case 36311:case 36292:return SH}}class MH{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=iH(t.type)}}class CH{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=wH(t.type)}}class bH{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const Ly=/(\w+)(\])?(\[|\.)?/g;function Hb(n,e){n.seq.push(e),n.map[e.id]=e}function EH(n,e,t){const i=n.name,r=i.length;for(Ly.lastIndex=0;;){const s=Ly.exec(i),o=Ly.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){Hb(t,c===void 0?new MH(a,n,e):new CH(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new bH(a),Hb(t,h)),t=h}}}class Rm{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,35718);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);EH(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function Vb(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let TH=0;function PH(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function BH(n){switch(n){case qs:return["Linear","( value )"];case Pt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function Wb(n,e,t){const i=n.getShaderParameter(e,35713),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+PH(n.getShaderSource(e),o)}else return r}function RH(n,e){const t=BH(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function LH(n,e){let t;switch(e){case RR:t="Linear";break;case LR:t="Reinhard";break;case IR:t="OptimizedCineon";break;case qA:t="ACESFilmic";break;case DR:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function IH(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ff).join(`
`)}function DH(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function OH(n,e){const t={},i=n.getProgramParameter(e,35721);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function ff(n){return n!==""}function jb(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Jb(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const FH=/^[ \t]*#include +<([\w\d./]+)>/gm;function $_(n){return n.replace(FH,kH)}function kH(n,e){const t=gt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return $_(t)}const NH=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Xb(n){return n.replace(NH,zH)}function zH(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function Kb(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function UH(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===e0?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Sf?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Va&&(e="SHADOWMAP_TYPE_VSM"),e}function GH(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Xo:case Ko:e="ENVMAP_TYPE_CUBE";break;case nc:e="ENVMAP_TYPE_CUBE_UV";break}return e}function HH(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Ko:e="ENVMAP_MODE_REFRACTION";break}return e}function VH(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case bd:e="ENVMAP_BLENDING_MULTIPLY";break;case PR:e="ENVMAP_BLENDING_MIX";break;case BR:e="ENVMAP_BLENDING_ADD";break}return e}function WH(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function jH(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=UH(t),c=GH(t),d=HH(t),h=VH(t),p=WH(t),m=t.isWebGL2?"":IH(t),y=DH(s),v=r.createProgram();let x,A,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(x=[y].filter(ff).join(`
`),x.length>0&&(x+=`
`),A=[m,y].filter(ff).join(`
`),A.length>0&&(A+=`
`)):(x=[Kb(t),"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ff).join(`
`),A=[m,Kb(t),"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+d:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Ur?"#define TONE_MAPPING":"",t.toneMapping!==Ur?gt.tonemapping_pars_fragment:"",t.toneMapping!==Ur?LH("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",gt.encodings_pars_fragment,RH("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(ff).join(`
`)),o=$_(o),o=jb(o,t),o=Jb(o,t),a=$_(a),a=jb(a,t),a=Jb(a,t),o=Xb(o),a=Xb(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,A=["#define varying in",t.glslVersion===Q_?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===Q_?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+A);const w=_+x+o,M=_+A+a,E=Vb(r,35633,w),P=Vb(r,35632,M);if(r.attachShader(v,E),r.attachShader(v,P),t.index0AttributeName!==void 0?r.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(v,0,"position"),r.linkProgram(v),n.debug.checkShaderErrors){const B=r.getProgramInfoLog(v).trim(),L=r.getShaderInfoLog(E).trim(),O=r.getShaderInfoLog(P).trim();let H=!0,U=!0;if(r.getProgramParameter(v,35714)===!1){H=!1;const W=Wb(r,E,"vertex"),J=Wb(r,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(v,35715)+`

Program Info Log: `+B+`
`+W+`
`+J)}else B!==""?console.warn("THREE.WebGLProgram: Program Info Log:",B):(L===""||O==="")&&(U=!1);U&&(this.diagnostics={runnable:H,programLog:B,vertexShader:{log:L,prefix:x},fragmentShader:{log:O,prefix:A}})}r.deleteShader(E),r.deleteShader(P);let R;this.getUniforms=function(){return R===void 0&&(R=new Rm(r,v)),R};let b;return this.getAttributes=function(){return b===void 0&&(b=OH(r,v)),b},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=TH++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=E,this.fragmentShader=P,this}let JH=0;class XH{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new KH(e),t.set(e,i)),i}}class KH{constructor(e){this.id=JH++,this.code=e,this.usedTimes=0}}function YH(n,e,t,i,r,s,o){const a=new nl,l=new XH,c=[],d=r.isWebGL2,h=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(b,B,L,O,H){const U=O.fog,W=H.geometry,J=b.isMeshStandardMaterial?O.environment:null,ee=(b.isMeshStandardMaterial?t:e).get(b.envMap||J),ie=ee&&ee.mapping===nc?ee.image.height:null,k=y[b.type];b.precision!==null&&(m=r.getMaxPrecision(b.precision),m!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",m,"instead."));const X=W.morphAttributes.position||W.morphAttributes.normal||W.morphAttributes.color,K=X!==void 0?X.length:0;let ae=0;W.morphAttributes.position!==void 0&&(ae=1),W.morphAttributes.normal!==void 0&&(ae=2),W.morphAttributes.color!==void 0&&(ae=3);let V,se,pe,_e;if(k){const Ie=Fr[k];V=Ie.vertexShader,se=Ie.fragmentShader}else V=b.vertexShader,se=b.fragmentShader,l.update(b),pe=l.getVertexShaderID(b),_e=l.getFragmentShaderID(b);const Z=n.getRenderTarget(),Ne=b.alphaTest>0,ze=b.clearcoat>0,Ve=b.iridescence>0;return{isWebGL2:d,shaderID:k,shaderName:b.type,vertexShader:V,fragmentShader:se,defines:b.defines,customVertexShaderID:pe,customFragmentShaderID:_e,isRawShaderMaterial:b.isRawShaderMaterial===!0,glslVersion:b.glslVersion,precision:m,instancing:H.isInstancedMesh===!0,instancingColor:H.isInstancedMesh===!0&&H.instanceColor!==null,supportsVertexTextures:p,outputEncoding:Z===null?n.outputEncoding:Z.isXRRenderTarget===!0?Z.texture.encoding:qs,map:!!b.map,matcap:!!b.matcap,envMap:!!ee,envMapMode:ee&&ee.mapping,envMapCubeUVHeight:ie,lightMap:!!b.lightMap,aoMap:!!b.aoMap,emissiveMap:!!b.emissiveMap,bumpMap:!!b.bumpMap,normalMap:!!b.normalMap,objectSpaceNormalMap:b.normalMapType===nL,tangentSpaceNormalMap:b.normalMapType===eo,decodeVideoTexture:!!b.map&&b.map.isVideoTexture===!0&&b.map.encoding===Pt,clearcoat:ze,clearcoatMap:ze&&!!b.clearcoatMap,clearcoatRoughnessMap:ze&&!!b.clearcoatRoughnessMap,clearcoatNormalMap:ze&&!!b.clearcoatNormalMap,iridescence:Ve,iridescenceMap:Ve&&!!b.iridescenceMap,iridescenceThicknessMap:Ve&&!!b.iridescenceThicknessMap,displacementMap:!!b.displacementMap,roughnessMap:!!b.roughnessMap,metalnessMap:!!b.metalnessMap,specularMap:!!b.specularMap,specularIntensityMap:!!b.specularIntensityMap,specularColorMap:!!b.specularColorMap,opaque:b.transparent===!1&&b.blending===qa,alphaMap:!!b.alphaMap,alphaTest:Ne,gradientMap:!!b.gradientMap,sheen:b.sheen>0,sheenColorMap:!!b.sheenColorMap,sheenRoughnessMap:!!b.sheenRoughnessMap,transmission:b.transmission>0,transmissionMap:!!b.transmissionMap,thicknessMap:!!b.thicknessMap,combine:b.combine,vertexTangents:!!b.normalMap&&!!W.attributes.tangent,vertexColors:b.vertexColors,vertexAlphas:b.vertexColors===!0&&!!W.attributes.color&&W.attributes.color.itemSize===4,vertexUvs:!!b.map||!!b.bumpMap||!!b.normalMap||!!b.specularMap||!!b.alphaMap||!!b.emissiveMap||!!b.roughnessMap||!!b.metalnessMap||!!b.clearcoatMap||!!b.clearcoatRoughnessMap||!!b.clearcoatNormalMap||!!b.iridescenceMap||!!b.iridescenceThicknessMap||!!b.displacementMap||!!b.transmissionMap||!!b.thicknessMap||!!b.specularIntensityMap||!!b.specularColorMap||!!b.sheenColorMap||!!b.sheenRoughnessMap,uvsVertexOnly:!(b.map||b.bumpMap||b.normalMap||b.specularMap||b.alphaMap||b.emissiveMap||b.roughnessMap||b.metalnessMap||b.clearcoatNormalMap||b.iridescenceMap||b.iridescenceThicknessMap||b.transmission>0||b.transmissionMap||b.thicknessMap||b.specularIntensityMap||b.specularColorMap||b.sheen>0||b.sheenColorMap||b.sheenRoughnessMap)&&!!b.displacementMap,fog:!!U,useFog:b.fog===!0,fogExp2:U&&U.isFogExp2,flatShading:!!b.flatShading,sizeAttenuation:b.sizeAttenuation,logarithmicDepthBuffer:h,skinning:H.isSkinnedMesh===!0,morphTargets:W.morphAttributes.position!==void 0,morphNormals:W.morphAttributes.normal!==void 0,morphColors:W.morphAttributes.color!==void 0,morphTargetsCount:K,morphTextureStride:ae,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:b.dithering,shadowMapEnabled:n.shadowMap.enabled&&L.length>0,shadowMapType:n.shadowMap.type,toneMapping:b.toneMapped?n.toneMapping:Ur,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:b.premultipliedAlpha,doubleSided:b.side===kr,flipSided:b.side===Oi,useDepthPacking:!!b.depthPacking,depthPacking:b.depthPacking||0,index0AttributeName:b.index0AttributeName,extensionDerivatives:b.extensions&&b.extensions.derivatives,extensionFragDepth:b.extensions&&b.extensions.fragDepth,extensionDrawBuffers:b.extensions&&b.extensions.drawBuffers,extensionShaderTextureLOD:b.extensions&&b.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),customProgramCacheKey:b.customProgramCacheKey()}}function x(b){const B=[];if(b.shaderID?B.push(b.shaderID):(B.push(b.customVertexShaderID),B.push(b.customFragmentShaderID)),b.defines!==void 0)for(const L in b.defines)B.push(L),B.push(b.defines[L]);return b.isRawShaderMaterial===!1&&(A(B,b),_(B,b),B.push(n.outputEncoding)),B.push(b.customProgramCacheKey),B.join()}function A(b,B){b.push(B.precision),b.push(B.outputEncoding),b.push(B.envMapMode),b.push(B.envMapCubeUVHeight),b.push(B.combine),b.push(B.vertexUvs),b.push(B.fogExp2),b.push(B.sizeAttenuation),b.push(B.morphTargetsCount),b.push(B.morphAttributeCount),b.push(B.numDirLights),b.push(B.numPointLights),b.push(B.numSpotLights),b.push(B.numSpotLightMaps),b.push(B.numHemiLights),b.push(B.numRectAreaLights),b.push(B.numDirLightShadows),b.push(B.numPointLightShadows),b.push(B.numSpotLightShadows),b.push(B.numSpotLightShadowsWithMaps),b.push(B.shadowMapType),b.push(B.toneMapping),b.push(B.numClippingPlanes),b.push(B.numClipIntersection),b.push(B.depthPacking)}function _(b,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.map&&a.enable(4),B.matcap&&a.enable(5),B.envMap&&a.enable(6),B.lightMap&&a.enable(7),B.aoMap&&a.enable(8),B.emissiveMap&&a.enable(9),B.bumpMap&&a.enable(10),B.normalMap&&a.enable(11),B.objectSpaceNormalMap&&a.enable(12),B.tangentSpaceNormalMap&&a.enable(13),B.clearcoat&&a.enable(14),B.clearcoatMap&&a.enable(15),B.clearcoatRoughnessMap&&a.enable(16),B.clearcoatNormalMap&&a.enable(17),B.iridescence&&a.enable(18),B.iridescenceMap&&a.enable(19),B.iridescenceThicknessMap&&a.enable(20),B.displacementMap&&a.enable(21),B.specularMap&&a.enable(22),B.roughnessMap&&a.enable(23),B.metalnessMap&&a.enable(24),B.gradientMap&&a.enable(25),B.alphaMap&&a.enable(26),B.alphaTest&&a.enable(27),B.vertexColors&&a.enable(28),B.vertexAlphas&&a.enable(29),B.vertexUvs&&a.enable(30),B.vertexTangents&&a.enable(31),B.uvsVertexOnly&&a.enable(32),b.push(a.mask),a.disableAll(),B.fog&&a.enable(0),B.useFog&&a.enable(1),B.flatShading&&a.enable(2),B.logarithmicDepthBuffer&&a.enable(3),B.skinning&&a.enable(4),B.morphTargets&&a.enable(5),B.morphNormals&&a.enable(6),B.morphColors&&a.enable(7),B.premultipliedAlpha&&a.enable(8),B.shadowMapEnabled&&a.enable(9),B.physicallyCorrectLights&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.useDepthPacking&&a.enable(13),B.dithering&&a.enable(14),B.specularIntensityMap&&a.enable(15),B.specularColorMap&&a.enable(16),B.transmission&&a.enable(17),B.transmissionMap&&a.enable(18),B.thicknessMap&&a.enable(19),B.sheen&&a.enable(20),B.sheenColorMap&&a.enable(21),B.sheenRoughnessMap&&a.enable(22),B.decodeVideoTexture&&a.enable(23),B.opaque&&a.enable(24),b.push(a.mask)}function w(b){const B=y[b.type];let L;if(B){const O=Fr[B];L=uL.clone(O.uniforms)}else L=b.uniforms;return L}function M(b,B){let L;for(let O=0,H=c.length;O<H;O++){const U=c[O];if(U.cacheKey===B){L=U,++L.usedTimes;break}}return L===void 0&&(L=new jH(n,B,b,s),c.push(L)),L}function E(b){if(--b.usedTimes===0){const B=c.indexOf(b);c[B]=c[c.length-1],c.pop(),b.destroy()}}function P(b){l.remove(b)}function R(){l.dispose()}return{getParameters:v,getProgramCacheKey:x,getUniforms:w,acquireProgram:M,releaseProgram:E,releaseShaderCache:P,programs:c,dispose:R}}function QH(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function qH(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Yb(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Qb(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(h,p,m,y,v,x){let A=n[e];return A===void 0?(A={id:h.id,object:h,geometry:p,material:m,groupOrder:y,renderOrder:h.renderOrder,z:v,group:x},n[e]=A):(A.id=h.id,A.object=h,A.geometry=p,A.material=m,A.groupOrder=y,A.renderOrder=h.renderOrder,A.z=v,A.group=x),e++,A}function a(h,p,m,y,v,x){const A=o(h,p,m,y,v,x);m.transmission>0?i.push(A):m.transparent===!0?r.push(A):t.push(A)}function l(h,p,m,y,v,x){const A=o(h,p,m,y,v,x);m.transmission>0?i.unshift(A):m.transparent===!0?r.unshift(A):t.unshift(A)}function c(h,p){t.length>1&&t.sort(h||qH),i.length>1&&i.sort(p||Yb),r.length>1&&r.sort(p||Yb)}function d(){for(let h=e,p=n.length;h<p;h++){const m=n[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:d,sort:c}}function ZH(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new Qb,n.set(i,[o])):r>=s.length?(o=new Qb,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function $H(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new D,color:new Le};break;case"SpotLight":t={position:new D,direction:new D,color:new Le,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new D,color:new Le,distance:0,decay:0};break;case"HemisphereLight":t={direction:new D,skyColor:new Le,groundColor:new Le};break;case"RectAreaLight":t={color:new Le,position:new D,halfWidth:new D,halfHeight:new D};break}return n[e.id]=t,t}}}function e5(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ge};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ge};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ge,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let t5=0;function n5(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function i5(n,e){const t=new $H,i=e5(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let d=0;d<9;d++)r.probe.push(new D);const s=new D,o=new at,a=new at;function l(d,h){let p=0,m=0,y=0;for(let O=0;O<9;O++)r.probe[O].set(0,0,0);let v=0,x=0,A=0,_=0,w=0,M=0,E=0,P=0,R=0,b=0;d.sort(n5);const B=h!==!0?Math.PI:1;for(let O=0,H=d.length;O<H;O++){const U=d[O],W=U.color,J=U.intensity,ee=U.distance,ie=U.shadow&&U.shadow.map?U.shadow.map.texture:null;if(U.isAmbientLight)p+=W.r*J*B,m+=W.g*J*B,y+=W.b*J*B;else if(U.isLightProbe)for(let k=0;k<9;k++)r.probe[k].addScaledVector(U.sh.coefficients[k],J);else if(U.isDirectionalLight){const k=t.get(U);if(k.color.copy(U.color).multiplyScalar(U.intensity*B),U.castShadow){const X=U.shadow,K=i.get(U);K.shadowBias=X.bias,K.shadowNormalBias=X.normalBias,K.shadowRadius=X.radius,K.shadowMapSize=X.mapSize,r.directionalShadow[v]=K,r.directionalShadowMap[v]=ie,r.directionalShadowMatrix[v]=U.shadow.matrix,M++}r.directional[v]=k,v++}else if(U.isSpotLight){const k=t.get(U);k.position.setFromMatrixPosition(U.matrixWorld),k.color.copy(W).multiplyScalar(J*B),k.distance=ee,k.coneCos=Math.cos(U.angle),k.penumbraCos=Math.cos(U.angle*(1-U.penumbra)),k.decay=U.decay,r.spot[A]=k;const X=U.shadow;if(U.map&&(r.spotLightMap[R]=U.map,R++,X.updateMatrices(U),U.castShadow&&b++),r.spotLightMatrix[A]=X.matrix,U.castShadow){const K=i.get(U);K.shadowBias=X.bias,K.shadowNormalBias=X.normalBias,K.shadowRadius=X.radius,K.shadowMapSize=X.mapSize,r.spotShadow[A]=K,r.spotShadowMap[A]=ie,P++}A++}else if(U.isRectAreaLight){const k=t.get(U);k.color.copy(W).multiplyScalar(J),k.halfWidth.set(U.width*.5,0,0),k.halfHeight.set(0,U.height*.5,0),r.rectArea[_]=k,_++}else if(U.isPointLight){const k=t.get(U);if(k.color.copy(U.color).multiplyScalar(U.intensity*B),k.distance=U.distance,k.decay=U.decay,U.castShadow){const X=U.shadow,K=i.get(U);K.shadowBias=X.bias,K.shadowNormalBias=X.normalBias,K.shadowRadius=X.radius,K.shadowMapSize=X.mapSize,K.shadowCameraNear=X.camera.near,K.shadowCameraFar=X.camera.far,r.pointShadow[x]=K,r.pointShadowMap[x]=ie,r.pointShadowMatrix[x]=U.shadow.matrix,E++}r.point[x]=k,x++}else if(U.isHemisphereLight){const k=t.get(U);k.skyColor.copy(U.color).multiplyScalar(J*B),k.groundColor.copy(U.groundColor).multiplyScalar(J*B),r.hemi[w]=k,w++}}_>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Re.LTC_FLOAT_1,r.rectAreaLTC2=Re.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Re.LTC_HALF_1,r.rectAreaLTC2=Re.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=y;const L=r.hash;(L.directionalLength!==v||L.pointLength!==x||L.spotLength!==A||L.rectAreaLength!==_||L.hemiLength!==w||L.numDirectionalShadows!==M||L.numPointShadows!==E||L.numSpotShadows!==P||L.numSpotMaps!==R)&&(r.directional.length=v,r.spot.length=A,r.rectArea.length=_,r.point.length=x,r.hemi.length=w,r.directionalShadow.length=M,r.directionalShadowMap.length=M,r.pointShadow.length=E,r.pointShadowMap.length=E,r.spotShadow.length=P,r.spotShadowMap.length=P,r.directionalShadowMatrix.length=M,r.pointShadowMatrix.length=E,r.spotLightMatrix.length=P+R-b,r.spotLightMap.length=R,r.numSpotLightShadowsWithMaps=b,L.directionalLength=v,L.pointLength=x,L.spotLength=A,L.rectAreaLength=_,L.hemiLength=w,L.numDirectionalShadows=M,L.numPointShadows=E,L.numSpotShadows=P,L.numSpotMaps=R,r.version=t5++)}function c(d,h){let p=0,m=0,y=0,v=0,x=0;const A=h.matrixWorldInverse;for(let _=0,w=d.length;_<w;_++){const M=d[_];if(M.isDirectionalLight){const E=r.directional[p];E.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(A),p++}else if(M.isSpotLight){const E=r.spot[y];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(A),E.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(A),y++}else if(M.isRectAreaLight){const E=r.rectArea[v];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(A),a.identity(),o.copy(M.matrixWorld),o.premultiply(A),a.extractRotation(o),E.halfWidth.set(M.width*.5,0,0),E.halfHeight.set(0,M.height*.5,0),E.halfWidth.applyMatrix4(a),E.halfHeight.applyMatrix4(a),v++}else if(M.isPointLight){const E=r.point[m];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(A),m++}else if(M.isHemisphereLight){const E=r.hemi[x];E.direction.setFromMatrixPosition(M.matrixWorld),E.direction.transformDirection(A),x++}}}return{setup:l,setupView:c,state:r}}function qb(n,e){const t=new i5(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(h){i.push(h)}function a(h){r.push(h)}function l(h){t.setup(i,h)}function c(h){t.setupView(i,h)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function r5(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new qb(n,e),t.set(s,[l])):o>=a.length?(l=new qb(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class uS extends Pn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=eL,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class cS extends Pn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new D,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const s5=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,o5=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function a5(n,e,t){let i=new s0;const r=new ge,s=new ge,o=new Ut,a=new uS({depthPacking:tL}),l=new cS,c={},d=t.maxTextureSize,h={[fs]:Oi,[Oi]:fs,[kr]:kr},p=new hs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ge},radius:{value:4}},vertexShader:s5,fragmentShader:o5}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const y=new ft;y.setAttribute("position",new Nt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new Wn(y,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=e0,this.render=function(M,E,P){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||M.length===0)return;const R=n.getRenderTarget(),b=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),L=n.state;L.setBlending(Vs),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);for(let O=0,H=M.length;O<H;O++){const U=M[O],W=U.shadow;if(W===void 0){console.warn("THREE.WebGLShadowMap:",U,"has no shadow.");continue}if(W.autoUpdate===!1&&W.needsUpdate===!1)continue;r.copy(W.mapSize);const J=W.getFrameExtents();if(r.multiply(J),s.copy(W.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/J.x),r.x=s.x*J.x,W.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/J.y),r.y=s.y*J.y,W.mapSize.y=s.y)),W.map===null){const ie=this.type!==Va?{minFilter:yn,magFilter:yn}:{};W.map=new Vr(r.x,r.y,ie),W.map.texture.name=U.name+".shadowMap",W.camera.updateProjectionMatrix()}n.setRenderTarget(W.map),n.clear();const ee=W.getViewportCount();for(let ie=0;ie<ee;ie++){const k=W.getViewport(ie);o.set(s.x*k.x,s.y*k.y,s.x*k.z,s.y*k.w),L.viewport(o),W.updateMatrices(U,ie),i=W.getFrustum(),w(E,P,W.camera,U,this.type)}W.isPointLightShadow!==!0&&this.type===Va&&A(W,P),W.needsUpdate=!1}x.needsUpdate=!1,n.setRenderTarget(R,b,B)};function A(M,E){const P=e.update(v);p.defines.VSM_SAMPLES!==M.blurSamples&&(p.defines.VSM_SAMPLES=M.blurSamples,m.defines.VSM_SAMPLES=M.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new Vr(r.x,r.y)),p.uniforms.shadow_pass.value=M.map.texture,p.uniforms.resolution.value=M.mapSize,p.uniforms.radius.value=M.radius,n.setRenderTarget(M.mapPass),n.clear(),n.renderBufferDirect(E,null,P,p,v,null),m.uniforms.shadow_pass.value=M.mapPass.texture,m.uniforms.resolution.value=M.mapSize,m.uniforms.radius.value=M.radius,n.setRenderTarget(M.map),n.clear(),n.renderBufferDirect(E,null,P,m,v,null)}function _(M,E,P,R,b,B){let L=null;const O=P.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(O!==void 0)L=O;else if(L=P.isPointLight===!0?l:a,n.localClippingEnabled&&E.clipShadows===!0&&Array.isArray(E.clippingPlanes)&&E.clippingPlanes.length!==0||E.displacementMap&&E.displacementScale!==0||E.alphaMap&&E.alphaTest>0||E.map&&E.alphaTest>0){const H=L.uuid,U=E.uuid;let W=c[H];W===void 0&&(W={},c[H]=W);let J=W[U];J===void 0&&(J=L.clone(),W[U]=J),L=J}return L.visible=E.visible,L.wireframe=E.wireframe,B===Va?L.side=E.shadowSide!==null?E.shadowSide:E.side:L.side=E.shadowSide!==null?E.shadowSide:h[E.side],L.alphaMap=E.alphaMap,L.alphaTest=E.alphaTest,L.map=E.map,L.clipShadows=E.clipShadows,L.clippingPlanes=E.clippingPlanes,L.clipIntersection=E.clipIntersection,L.displacementMap=E.displacementMap,L.displacementScale=E.displacementScale,L.displacementBias=E.displacementBias,L.wireframeLinewidth=E.wireframeLinewidth,L.linewidth=E.linewidth,P.isPointLight===!0&&L.isMeshDistanceMaterial===!0&&(L.referencePosition.setFromMatrixPosition(P.matrixWorld),L.nearDistance=R,L.farDistance=b),L}function w(M,E,P,R,b){if(M.visible===!1)return;if(M.layers.test(E.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&b===Va)&&(!M.frustumCulled||i.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,M.matrixWorld);const O=e.update(M),H=M.material;if(Array.isArray(H)){const U=O.groups;for(let W=0,J=U.length;W<J;W++){const ee=U[W],ie=H[ee.materialIndex];if(ie&&ie.visible){const k=_(M,ie,R,P.near,P.far,b);n.renderBufferDirect(P,null,O,k,M,ee)}}}else if(H.visible){const U=_(M,H,R,P.near,P.far,b);n.renderBufferDirect(P,null,O,U,M,null)}}const L=M.children;for(let O=0,H=L.length;O<H;O++)w(L[O],E,P,R,b)}}function l5(n,e,t){const i=t.isWebGL2;function r(){let Q=!1;const fe=new Ut;let xe=null;const Ue=new Ut(0,0,0,0);return{setMask:function(Qe){xe!==Qe&&!Q&&(n.colorMask(Qe,Qe,Qe,Qe),xe=Qe)},setLocked:function(Qe){Q=Qe},setClear:function(Qe,Lt,xn,kn,Kr){Kr===!0&&(Qe*=kn,Lt*=kn,xn*=kn),fe.set(Qe,Lt,xn,kn),Ue.equals(fe)===!1&&(n.clearColor(Qe,Lt,xn,kn),Ue.copy(fe))},reset:function(){Q=!1,xe=null,Ue.set(-1,0,0,0)}}}function s(){let Q=!1,fe=null,xe=null,Ue=null;return{setTest:function(Qe){Qe?Ne(2929):ze(2929)},setMask:function(Qe){fe!==Qe&&!Q&&(n.depthMask(Qe),fe=Qe)},setFunc:function(Qe){if(xe!==Qe){switch(Qe){case SR:n.depthFunc(512);break;case wR:n.depthFunc(519);break;case MR:n.depthFunc(513);break;case og:n.depthFunc(515);break;case CR:n.depthFunc(514);break;case bR:n.depthFunc(518);break;case ER:n.depthFunc(516);break;case TR:n.depthFunc(517);break;default:n.depthFunc(515)}xe=Qe}},setLocked:function(Qe){Q=Qe},setClear:function(Qe){Ue!==Qe&&(n.clearDepth(Qe),Ue=Qe)},reset:function(){Q=!1,fe=null,xe=null,Ue=null}}}function o(){let Q=!1,fe=null,xe=null,Ue=null,Qe=null,Lt=null,xn=null,kn=null,Kr=null;return{setTest:function(Ht){Q||(Ht?Ne(2960):ze(2960))},setMask:function(Ht){fe!==Ht&&!Q&&(n.stencilMask(Ht),fe=Ht)},setFunc:function(Ht,$i,wi){(xe!==Ht||Ue!==$i||Qe!==wi)&&(n.stencilFunc(Ht,$i,wi),xe=Ht,Ue=$i,Qe=wi)},setOp:function(Ht,$i,wi){(Lt!==Ht||xn!==$i||kn!==wi)&&(n.stencilOp(Ht,$i,wi),Lt=Ht,xn=$i,kn=wi)},setLocked:function(Ht){Q=Ht},setClear:function(Ht){Kr!==Ht&&(n.clearStencil(Ht),Kr=Ht)},reset:function(){Q=!1,fe=null,xe=null,Ue=null,Qe=null,Lt=null,xn=null,kn=null,Kr=null}}}const a=new r,l=new s,c=new o,d=new WeakMap,h=new WeakMap;let p={},m={},y=new WeakMap,v=[],x=null,A=!1,_=null,w=null,M=null,E=null,P=null,R=null,b=null,B=!1,L=null,O=null,H=null,U=null,W=null;const J=n.getParameter(35661);let ee=!1,ie=0;const k=n.getParameter(7938);k.indexOf("WebGL")!==-1?(ie=parseFloat(/^WebGL (\d)/.exec(k)[1]),ee=ie>=1):k.indexOf("OpenGL ES")!==-1&&(ie=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),ee=ie>=2);let X=null,K={};const ae=n.getParameter(3088),V=n.getParameter(2978),se=new Ut().fromArray(ae),pe=new Ut().fromArray(V);function _e(Q,fe,xe){const Ue=new Uint8Array(4),Qe=n.createTexture();n.bindTexture(Q,Qe),n.texParameteri(Q,10241,9728),n.texParameteri(Q,10240,9728);for(let Lt=0;Lt<xe;Lt++)n.texImage2D(fe+Lt,0,6408,1,1,0,6408,5121,Ue);return Qe}const Z={};Z[3553]=_e(3553,3553,1),Z[34067]=_e(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Ne(2929),l.setFunc(og),Be(!1),Ze(A_),Ne(2884),Ce(Vs);function Ne(Q){p[Q]!==!0&&(n.enable(Q),p[Q]=!0)}function ze(Q){p[Q]!==!1&&(n.disable(Q),p[Q]=!1)}function Ve(Q,fe){return m[Q]!==fe?(n.bindFramebuffer(Q,fe),m[Q]=fe,i&&(Q===36009&&(m[36160]=fe),Q===36160&&(m[36009]=fe)),!0):!1}function Se(Q,fe){let xe=v,Ue=!1;if(Q)if(xe=y.get(fe),xe===void 0&&(xe=[],y.set(fe,xe)),Q.isWebGLMultipleRenderTargets){const Qe=Q.texture;if(xe.length!==Qe.length||xe[0]!==36064){for(let Lt=0,xn=Qe.length;Lt<xn;Lt++)xe[Lt]=36064+Lt;xe.length=Qe.length,Ue=!0}}else xe[0]!==36064&&(xe[0]=36064,Ue=!0);else xe[0]!==1029&&(xe[0]=1029,Ue=!0);Ue&&(t.isWebGL2?n.drawBuffers(xe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(xe))}function Ie(Q){return x!==Q?(n.useProgram(Q),x=Q,!0):!1}const he={[ka]:32774,[fR]:32778,[dR]:32779};if(i)he[C_]=32775,he[b_]=32776;else{const Q=e.get("EXT_blend_minmax");Q!==null&&(he[C_]=Q.MIN_EXT,he[b_]=Q.MAX_EXT)}const le={[hR]:0,[pR]:1,[mR]:768,[YA]:770,[AR]:776,[xR]:774,[vR]:772,[gR]:769,[QA]:771,[_R]:775,[yR]:773};function Ce(Q,fe,xe,Ue,Qe,Lt,xn,kn){if(Q===Vs){A===!0&&(ze(3042),A=!1);return}if(A===!1&&(Ne(3042),A=!0),Q!==cR){if(Q!==_||kn!==B){if((w!==ka||P!==ka)&&(n.blendEquation(32774),w=ka,P=ka),kn)switch(Q){case qa:n.blendFuncSeparate(1,771,1,771);break;case S_:n.blendFunc(1,1);break;case w_:n.blendFuncSeparate(0,769,0,1);break;case M_:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Q);break}else switch(Q){case qa:n.blendFuncSeparate(770,771,1,771);break;case S_:n.blendFunc(770,1);break;case w_:n.blendFuncSeparate(0,769,0,1);break;case M_:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Q);break}M=null,E=null,R=null,b=null,_=Q,B=kn}return}Qe=Qe||fe,Lt=Lt||xe,xn=xn||Ue,(fe!==w||Qe!==P)&&(n.blendEquationSeparate(he[fe],he[Qe]),w=fe,P=Qe),(xe!==M||Ue!==E||Lt!==R||xn!==b)&&(n.blendFuncSeparate(le[xe],le[Ue],le[Lt],le[xn]),M=xe,E=Ue,R=Lt,b=xn),_=Q,B=!1}function Ge(Q,fe){Q.side===kr?ze(2884):Ne(2884);let xe=Q.side===Oi;fe&&(xe=!xe),Be(xe),Q.blending===qa&&Q.transparent===!1?Ce(Vs):Ce(Q.blending,Q.blendEquation,Q.blendSrc,Q.blendDst,Q.blendEquationAlpha,Q.blendSrcAlpha,Q.blendDstAlpha,Q.premultipliedAlpha),l.setFunc(Q.depthFunc),l.setTest(Q.depthTest),l.setMask(Q.depthWrite),a.setMask(Q.colorWrite);const Ue=Q.stencilWrite;c.setTest(Ue),Ue&&(c.setMask(Q.stencilWriteMask),c.setFunc(Q.stencilFunc,Q.stencilRef,Q.stencilFuncMask),c.setOp(Q.stencilFail,Q.stencilZFail,Q.stencilZPass)),je(Q.polygonOffset,Q.polygonOffsetFactor,Q.polygonOffsetUnits),Q.alphaToCoverage===!0?Ne(32926):ze(32926)}function Be(Q){L!==Q&&(Q?n.frontFace(2304):n.frontFace(2305),L=Q)}function Ze(Q){Q!==aR?(Ne(2884),Q!==O&&(Q===A_?n.cullFace(1029):Q===lR?n.cullFace(1028):n.cullFace(1032))):ze(2884),O=Q}function Xe(Q){Q!==H&&(ee&&n.lineWidth(Q),H=Q)}function je(Q,fe,xe){Q?(Ne(32823),(U!==fe||W!==xe)&&(n.polygonOffset(fe,xe),U=fe,W=xe)):ze(32823)}function _t(Q){Q?Ne(3089):ze(3089)}function Et(Q){Q===void 0&&(Q=33984+J-1),X!==Q&&(n.activeTexture(Q),X=Q)}function z(Q,fe,xe){xe===void 0&&(X===null?xe=33984+J-1:xe=X);let Ue=K[xe];Ue===void 0&&(Ue={type:void 0,texture:void 0},K[xe]=Ue),(Ue.type!==Q||Ue.texture!==fe)&&(X!==xe&&(n.activeTexture(xe),X=xe),n.bindTexture(Q,fe||Z[Q]),Ue.type=Q,Ue.texture=fe)}function I(){const Q=K[X];Q!==void 0&&Q.type!==void 0&&(n.bindTexture(Q.type,null),Q.type=void 0,Q.texture=void 0)}function oe(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function we(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function be(){try{n.texSubImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Pe(){try{n.texSubImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function rt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function De(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function ve(){try{n.texStorage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Ke(){try{n.texStorage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function j(){try{n.texImage2D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function ue(){try{n.texImage3D.apply(n,arguments)}catch(Q){console.error("THREE.WebGLState:",Q)}}function Ae(Q){se.equals(Q)===!1&&(n.scissor(Q.x,Q.y,Q.z,Q.w),se.copy(Q))}function Te(Q){pe.equals(Q)===!1&&(n.viewport(Q.x,Q.y,Q.z,Q.w),pe.copy(Q))}function tt(Q,fe){let xe=h.get(fe);xe===void 0&&(xe=new WeakMap,h.set(fe,xe));let Ue=xe.get(Q);Ue===void 0&&(Ue=n.getUniformBlockIndex(fe,Q.name),xe.set(Q,Ue))}function xt(Q,fe){const Ue=h.get(fe).get(Q);d.get(fe)!==Ue&&(n.uniformBlockBinding(fe,Ue,Q.__bindingPointIndex),d.set(fe,Ue))}function Xt(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),i===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},X=null,K={},m={},y=new WeakMap,v=[],x=null,A=!1,_=null,w=null,M=null,E=null,P=null,R=null,b=null,B=!1,L=null,O=null,H=null,U=null,W=null,se.set(0,0,n.canvas.width,n.canvas.height),pe.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Ne,disable:ze,bindFramebuffer:Ve,drawBuffers:Se,useProgram:Ie,setBlending:Ce,setMaterial:Ge,setFlipSided:Be,setCullFace:Ze,setLineWidth:Xe,setPolygonOffset:je,setScissorTest:_t,activeTexture:Et,bindTexture:z,unbindTexture:I,compressedTexImage2D:oe,compressedTexImage3D:we,texImage2D:j,texImage3D:ue,updateUBOMapping:tt,uniformBlockBinding:xt,texStorage2D:ve,texStorage3D:Ke,texSubImage2D:be,texSubImage3D:Pe,compressedTexSubImage2D:rt,compressedTexSubImage3D:De,scissor:Ae,viewport:Te,reset:Xt}}function u5(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,d=r.maxTextureSize,h=r.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let v;const x=new WeakMap;let A=!1;try{A=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(z,I){return A?new OffscreenCanvas(z,I):rd("canvas")}function w(z,I,oe,we){let be=1;if((z.width>we||z.height>we)&&(be=we/Math.max(z.width,z.height)),be<1||I===!0)if(typeof HTMLImageElement<"u"&&z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&z instanceof ImageBitmap){const Pe=I?lg:Math.floor,rt=Pe(be*z.width),De=Pe(be*z.height);v===void 0&&(v=_(rt,De));const ve=oe?_(rt,De):v;return ve.width=rt,ve.height=De,ve.getContext("2d").drawImage(z,0,0,rt,De),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+z.width+"x"+z.height+") to ("+rt+"x"+De+")."),ve}else return"data"in z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+z.width+"x"+z.height+")."),z;return z}function M(z){return q_(z.width)&&q_(z.height)}function E(z){return a?!1:z.wrapS!==Kn||z.wrapT!==Kn||z.minFilter!==yn&&z.minFilter!==ln}function P(z,I){return z.generateMipmaps&&I&&z.minFilter!==yn&&z.minFilter!==ln}function R(z){n.generateMipmap(z)}function b(z,I,oe,we,be=!1){if(a===!1)return I;if(z!==null){if(n[z]!==void 0)return n[z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+z+"'")}let Pe=I;return I===6403&&(oe===5126&&(Pe=33326),oe===5131&&(Pe=33325),oe===5121&&(Pe=33321)),I===33319&&(oe===5126&&(Pe=33328),oe===5131&&(Pe=33327),oe===5121&&(Pe=33323)),I===6408&&(oe===5126&&(Pe=34836),oe===5131&&(Pe=34842),oe===5121&&(Pe=we===Pt&&be===!1?35907:32856),oe===32819&&(Pe=32854),oe===32820&&(Pe=32855)),(Pe===33325||Pe===33326||Pe===33327||Pe===33328||Pe===34842||Pe===34836)&&e.get("EXT_color_buffer_float"),Pe}function B(z,I,oe){return P(z,oe)===!0||z.isFramebufferTexture&&z.minFilter!==yn&&z.minFilter!==ln?Math.log2(Math.max(I.width,I.height))+1:z.mipmaps!==void 0&&z.mipmaps.length>0?z.mipmaps.length:z.isCompressedTexture&&Array.isArray(z.image)?I.mipmaps.length:1}function L(z){return z===yn||z===ed||z===Tu?9728:9729}function O(z){const I=z.target;I.removeEventListener("dispose",O),U(I),I.isVideoTexture&&y.delete(I)}function H(z){const I=z.target;I.removeEventListener("dispose",H),J(I)}function U(z){const I=i.get(z);if(I.__webglInit===void 0)return;const oe=z.source,we=x.get(oe);if(we){const be=we[I.__cacheKey];be.usedTimes--,be.usedTimes===0&&W(z),Object.keys(we).length===0&&x.delete(oe)}i.remove(z)}function W(z){const I=i.get(z);n.deleteTexture(I.__webglTexture);const oe=z.source,we=x.get(oe);delete we[I.__cacheKey],o.memory.textures--}function J(z){const I=z.texture,oe=i.get(z),we=i.get(I);if(we.__webglTexture!==void 0&&(n.deleteTexture(we.__webglTexture),o.memory.textures--),z.depthTexture&&z.depthTexture.dispose(),z.isWebGLCubeRenderTarget)for(let be=0;be<6;be++)n.deleteFramebuffer(oe.__webglFramebuffer[be]),oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer[be]);else{if(n.deleteFramebuffer(oe.__webglFramebuffer),oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer),oe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(oe.__webglMultisampledFramebuffer),oe.__webglColorRenderbuffer)for(let be=0;be<oe.__webglColorRenderbuffer.length;be++)oe.__webglColorRenderbuffer[be]&&n.deleteRenderbuffer(oe.__webglColorRenderbuffer[be]);oe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(oe.__webglDepthRenderbuffer)}if(z.isWebGLMultipleRenderTargets)for(let be=0,Pe=I.length;be<Pe;be++){const rt=i.get(I[be]);rt.__webglTexture&&(n.deleteTexture(rt.__webglTexture),o.memory.textures--),i.remove(I[be])}i.remove(I),i.remove(z)}let ee=0;function ie(){ee=0}function k(){const z=ee;return z>=l&&console.warn("THREE.WebGLTextures: Trying to use "+z+" texture units while this GPU supports only "+l),ee+=1,z}function X(z){const I=[];return I.push(z.wrapS),I.push(z.wrapT),I.push(z.wrapR||0),I.push(z.magFilter),I.push(z.minFilter),I.push(z.anisotropy),I.push(z.internalFormat),I.push(z.format),I.push(z.type),I.push(z.generateMipmaps),I.push(z.premultiplyAlpha),I.push(z.flipY),I.push(z.unpackAlignment),I.push(z.encoding),I.join()}function K(z,I){const oe=i.get(z);if(z.isVideoTexture&&_t(z),z.isRenderTargetTexture===!1&&z.version>0&&oe.__version!==z.version){const we=z.image;if(we===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(we.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ze(oe,z,I);return}}t.bindTexture(3553,oe.__webglTexture,33984+I)}function ae(z,I){const oe=i.get(z);if(z.version>0&&oe.__version!==z.version){ze(oe,z,I);return}t.bindTexture(35866,oe.__webglTexture,33984+I)}function V(z,I){const oe=i.get(z);if(z.version>0&&oe.__version!==z.version){ze(oe,z,I);return}t.bindTexture(32879,oe.__webglTexture,33984+I)}function se(z,I){const oe=i.get(z);if(z.version>0&&oe.__version!==z.version){Ve(oe,z,I);return}t.bindTexture(34067,oe.__webglTexture,33984+I)}const pe={[Yo]:10497,[Kn]:33071,[zu]:33648},_e={[yn]:9728,[ed]:9984,[Tu]:9986,[ln]:9729,[n0]:9985,[ds]:9987};function Z(z,I,oe){if(oe?(n.texParameteri(z,10242,pe[I.wrapS]),n.texParameteri(z,10243,pe[I.wrapT]),(z===32879||z===35866)&&n.texParameteri(z,32882,pe[I.wrapR]),n.texParameteri(z,10240,_e[I.magFilter]),n.texParameteri(z,10241,_e[I.minFilter])):(n.texParameteri(z,10242,33071),n.texParameteri(z,10243,33071),(z===32879||z===35866)&&n.texParameteri(z,32882,33071),(I.wrapS!==Kn||I.wrapT!==Kn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(z,10240,L(I.magFilter)),n.texParameteri(z,10241,L(I.minFilter)),I.minFilter!==yn&&I.minFilter!==ln&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const we=e.get("EXT_texture_filter_anisotropic");if(I.magFilter===yn||I.minFilter!==Tu&&I.minFilter!==ds||I.type===Ns&&e.has("OES_texture_float_linear")===!1||a===!1&&I.type===Uu&&e.has("OES_texture_half_float_linear")===!1)return;(I.anisotropy>1||i.get(I).__currentAnisotropy)&&(n.texParameterf(z,we.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(I.anisotropy,r.getMaxAnisotropy())),i.get(I).__currentAnisotropy=I.anisotropy)}}function Ne(z,I){let oe=!1;z.__webglInit===void 0&&(z.__webglInit=!0,I.addEventListener("dispose",O));const we=I.source;let be=x.get(we);be===void 0&&(be={},x.set(we,be));const Pe=X(I);if(Pe!==z.__cacheKey){be[Pe]===void 0&&(be[Pe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,oe=!0),be[Pe].usedTimes++;const rt=be[z.__cacheKey];rt!==void 0&&(be[z.__cacheKey].usedTimes--,rt.usedTimes===0&&W(I)),z.__cacheKey=Pe,z.__webglTexture=be[Pe].texture}return oe}function ze(z,I,oe){let we=3553;(I.isDataArrayTexture||I.isCompressedArrayTexture)&&(we=35866),I.isData3DTexture&&(we=32879);const be=Ne(z,I),Pe=I.source;t.bindTexture(we,z.__webglTexture,33984+oe);const rt=i.get(Pe);if(Pe.version!==rt.__version||be===!0){t.activeTexture(33984+oe),n.pixelStorei(37440,I.flipY),n.pixelStorei(37441,I.premultiplyAlpha),n.pixelStorei(3317,I.unpackAlignment),n.pixelStorei(37443,0);const De=E(I)&&M(I.image)===!1;let ve=w(I.image,De,!1,d);ve=Et(I,ve);const Ke=M(ve)||a,j=s.convert(I.format,I.encoding);let ue=s.convert(I.type),Ae=b(I.internalFormat,j,ue,I.encoding,I.isVideoTexture);Z(we,I,Ke);let Te;const tt=I.mipmaps,xt=a&&I.isVideoTexture!==!0,Xt=rt.__version===void 0||be===!0,Q=B(I,ve,Ke);if(I.isDepthTexture)Ae=6402,a?I.type===Ns?Ae=36012:I.type===Ro?Ae=33190:I.type===Za?Ae=35056:Ae=33189:I.type===Ns&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),I.format===Ho&&Ae===6402&&I.type!==ZA&&I.type!==Ro&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),I.type=Ro,ue=s.convert(I.type)),I.format===cl&&Ae===6402&&(Ae=34041,I.type!==Za&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),I.type=Za,ue=s.convert(I.type))),Xt&&(xt?t.texStorage2D(3553,1,Ae,ve.width,ve.height):t.texImage2D(3553,0,Ae,ve.width,ve.height,0,j,ue,null));else if(I.isDataTexture)if(tt.length>0&&Ke){xt&&Xt&&t.texStorage2D(3553,Q,Ae,tt[0].width,tt[0].height);for(let fe=0,xe=tt.length;fe<xe;fe++)Te=tt[fe],xt?t.texSubImage2D(3553,fe,0,0,Te.width,Te.height,j,ue,Te.data):t.texImage2D(3553,fe,Ae,Te.width,Te.height,0,j,ue,Te.data);I.generateMipmaps=!1}else xt?(Xt&&t.texStorage2D(3553,Q,Ae,ve.width,ve.height),t.texSubImage2D(3553,0,0,0,ve.width,ve.height,j,ue,ve.data)):t.texImage2D(3553,0,Ae,ve.width,ve.height,0,j,ue,ve.data);else if(I.isCompressedTexture)if(I.isCompressedArrayTexture){xt&&Xt&&t.texStorage3D(35866,Q,Ae,tt[0].width,tt[0].height,ve.depth);for(let fe=0,xe=tt.length;fe<xe;fe++)Te=tt[fe],I.format!==Bi?j!==null?xt?t.compressedTexSubImage3D(35866,fe,0,0,0,Te.width,Te.height,ve.depth,j,Te.data,0,0):t.compressedTexImage3D(35866,fe,Ae,Te.width,Te.height,ve.depth,0,Te.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):xt?t.texSubImage3D(35866,fe,0,0,0,Te.width,Te.height,ve.depth,j,ue,Te.data):t.texImage3D(35866,fe,Ae,Te.width,Te.height,ve.depth,0,j,ue,Te.data)}else{xt&&Xt&&t.texStorage2D(3553,Q,Ae,tt[0].width,tt[0].height);for(let fe=0,xe=tt.length;fe<xe;fe++)Te=tt[fe],I.format!==Bi?j!==null?xt?t.compressedTexSubImage2D(3553,fe,0,0,Te.width,Te.height,j,Te.data):t.compressedTexImage2D(3553,fe,Ae,Te.width,Te.height,0,Te.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):xt?t.texSubImage2D(3553,fe,0,0,Te.width,Te.height,j,ue,Te.data):t.texImage2D(3553,fe,Ae,Te.width,Te.height,0,j,ue,Te.data)}else if(I.isDataArrayTexture)xt?(Xt&&t.texStorage3D(35866,Q,Ae,ve.width,ve.height,ve.depth),t.texSubImage3D(35866,0,0,0,0,ve.width,ve.height,ve.depth,j,ue,ve.data)):t.texImage3D(35866,0,Ae,ve.width,ve.height,ve.depth,0,j,ue,ve.data);else if(I.isData3DTexture)xt?(Xt&&t.texStorage3D(32879,Q,Ae,ve.width,ve.height,ve.depth),t.texSubImage3D(32879,0,0,0,0,ve.width,ve.height,ve.depth,j,ue,ve.data)):t.texImage3D(32879,0,Ae,ve.width,ve.height,ve.depth,0,j,ue,ve.data);else if(I.isFramebufferTexture){if(Xt)if(xt)t.texStorage2D(3553,Q,Ae,ve.width,ve.height);else{let fe=ve.width,xe=ve.height;for(let Ue=0;Ue<Q;Ue++)t.texImage2D(3553,Ue,Ae,fe,xe,0,j,ue,null),fe>>=1,xe>>=1}}else if(tt.length>0&&Ke){xt&&Xt&&t.texStorage2D(3553,Q,Ae,tt[0].width,tt[0].height);for(let fe=0,xe=tt.length;fe<xe;fe++)Te=tt[fe],xt?t.texSubImage2D(3553,fe,0,0,j,ue,Te):t.texImage2D(3553,fe,Ae,j,ue,Te);I.generateMipmaps=!1}else xt?(Xt&&t.texStorage2D(3553,Q,Ae,ve.width,ve.height),t.texSubImage2D(3553,0,0,0,j,ue,ve)):t.texImage2D(3553,0,Ae,j,ue,ve);P(I,Ke)&&R(we),rt.__version=Pe.version,I.onUpdate&&I.onUpdate(I)}z.__version=I.version}function Ve(z,I,oe){if(I.image.length!==6)return;const we=Ne(z,I),be=I.source;t.bindTexture(34067,z.__webglTexture,33984+oe);const Pe=i.get(be);if(be.version!==Pe.__version||we===!0){t.activeTexture(33984+oe),n.pixelStorei(37440,I.flipY),n.pixelStorei(37441,I.premultiplyAlpha),n.pixelStorei(3317,I.unpackAlignment),n.pixelStorei(37443,0);const rt=I.isCompressedTexture||I.image[0].isCompressedTexture,De=I.image[0]&&I.image[0].isDataTexture,ve=[];for(let fe=0;fe<6;fe++)!rt&&!De?ve[fe]=w(I.image[fe],!1,!0,c):ve[fe]=De?I.image[fe].image:I.image[fe],ve[fe]=Et(I,ve[fe]);const Ke=ve[0],j=M(Ke)||a,ue=s.convert(I.format,I.encoding),Ae=s.convert(I.type),Te=b(I.internalFormat,ue,Ae,I.encoding),tt=a&&I.isVideoTexture!==!0,xt=Pe.__version===void 0||we===!0;let Xt=B(I,Ke,j);Z(34067,I,j);let Q;if(rt){tt&&xt&&t.texStorage2D(34067,Xt,Te,Ke.width,Ke.height);for(let fe=0;fe<6;fe++){Q=ve[fe].mipmaps;for(let xe=0;xe<Q.length;xe++){const Ue=Q[xe];I.format!==Bi?ue!==null?tt?t.compressedTexSubImage2D(34069+fe,xe,0,0,Ue.width,Ue.height,ue,Ue.data):t.compressedTexImage2D(34069+fe,xe,Te,Ue.width,Ue.height,0,Ue.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):tt?t.texSubImage2D(34069+fe,xe,0,0,Ue.width,Ue.height,ue,Ae,Ue.data):t.texImage2D(34069+fe,xe,Te,Ue.width,Ue.height,0,ue,Ae,Ue.data)}}}else{Q=I.mipmaps,tt&&xt&&(Q.length>0&&Xt++,t.texStorage2D(34067,Xt,Te,ve[0].width,ve[0].height));for(let fe=0;fe<6;fe++)if(De){tt?t.texSubImage2D(34069+fe,0,0,0,ve[fe].width,ve[fe].height,ue,Ae,ve[fe].data):t.texImage2D(34069+fe,0,Te,ve[fe].width,ve[fe].height,0,ue,Ae,ve[fe].data);for(let xe=0;xe<Q.length;xe++){const Qe=Q[xe].image[fe].image;tt?t.texSubImage2D(34069+fe,xe+1,0,0,Qe.width,Qe.height,ue,Ae,Qe.data):t.texImage2D(34069+fe,xe+1,Te,Qe.width,Qe.height,0,ue,Ae,Qe.data)}}else{tt?t.texSubImage2D(34069+fe,0,0,0,ue,Ae,ve[fe]):t.texImage2D(34069+fe,0,Te,ue,Ae,ve[fe]);for(let xe=0;xe<Q.length;xe++){const Ue=Q[xe];tt?t.texSubImage2D(34069+fe,xe+1,0,0,ue,Ae,Ue.image[fe]):t.texImage2D(34069+fe,xe+1,Te,ue,Ae,Ue.image[fe])}}}P(I,j)&&R(34067),Pe.__version=be.version,I.onUpdate&&I.onUpdate(I)}z.__version=I.version}function Se(z,I,oe,we,be){const Pe=s.convert(oe.format,oe.encoding),rt=s.convert(oe.type),De=b(oe.internalFormat,Pe,rt,oe.encoding);i.get(I).__hasExternalTextures||(be===32879||be===35866?t.texImage3D(be,0,De,I.width,I.height,I.depth,0,Pe,rt,null):t.texImage2D(be,0,De,I.width,I.height,0,Pe,rt,null)),t.bindFramebuffer(36160,z),je(I)?p.framebufferTexture2DMultisampleEXT(36160,we,be,i.get(oe).__webglTexture,0,Xe(I)):(be===3553||be>=34069&&be<=34074)&&n.framebufferTexture2D(36160,we,be,i.get(oe).__webglTexture,0),t.bindFramebuffer(36160,null)}function Ie(z,I,oe){if(n.bindRenderbuffer(36161,z),I.depthBuffer&&!I.stencilBuffer){let we=33189;if(oe||je(I)){const be=I.depthTexture;be&&be.isDepthTexture&&(be.type===Ns?we=36012:be.type===Ro&&(we=33190));const Pe=Xe(I);je(I)?p.renderbufferStorageMultisampleEXT(36161,Pe,we,I.width,I.height):n.renderbufferStorageMultisample(36161,Pe,we,I.width,I.height)}else n.renderbufferStorage(36161,we,I.width,I.height);n.framebufferRenderbuffer(36160,36096,36161,z)}else if(I.depthBuffer&&I.stencilBuffer){const we=Xe(I);oe&&je(I)===!1?n.renderbufferStorageMultisample(36161,we,35056,I.width,I.height):je(I)?p.renderbufferStorageMultisampleEXT(36161,we,35056,I.width,I.height):n.renderbufferStorage(36161,34041,I.width,I.height),n.framebufferRenderbuffer(36160,33306,36161,z)}else{const we=I.isWebGLMultipleRenderTargets===!0?I.texture:[I.texture];for(let be=0;be<we.length;be++){const Pe=we[be],rt=s.convert(Pe.format,Pe.encoding),De=s.convert(Pe.type),ve=b(Pe.internalFormat,rt,De,Pe.encoding),Ke=Xe(I);oe&&je(I)===!1?n.renderbufferStorageMultisample(36161,Ke,ve,I.width,I.height):je(I)?p.renderbufferStorageMultisampleEXT(36161,Ke,ve,I.width,I.height):n.renderbufferStorage(36161,ve,I.width,I.height)}}n.bindRenderbuffer(36161,null)}function he(z,I){if(I&&I.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,z),!(I.depthTexture&&I.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(I.depthTexture).__webglTexture||I.depthTexture.image.width!==I.width||I.depthTexture.image.height!==I.height)&&(I.depthTexture.image.width=I.width,I.depthTexture.image.height=I.height,I.depthTexture.needsUpdate=!0),K(I.depthTexture,0);const we=i.get(I.depthTexture).__webglTexture,be=Xe(I);if(I.depthTexture.format===Ho)je(I)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,we,0,be):n.framebufferTexture2D(36160,36096,3553,we,0);else if(I.depthTexture.format===cl)je(I)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,we,0,be):n.framebufferTexture2D(36160,33306,3553,we,0);else throw new Error("Unknown depthTexture format")}function le(z){const I=i.get(z),oe=z.isWebGLCubeRenderTarget===!0;if(z.depthTexture&&!I.__autoAllocateDepthBuffer){if(oe)throw new Error("target.depthTexture not supported in Cube render targets");he(I.__webglFramebuffer,z)}else if(oe){I.__webglDepthbuffer=[];for(let we=0;we<6;we++)t.bindFramebuffer(36160,I.__webglFramebuffer[we]),I.__webglDepthbuffer[we]=n.createRenderbuffer(),Ie(I.__webglDepthbuffer[we],z,!1)}else t.bindFramebuffer(36160,I.__webglFramebuffer),I.__webglDepthbuffer=n.createRenderbuffer(),Ie(I.__webglDepthbuffer,z,!1);t.bindFramebuffer(36160,null)}function Ce(z,I,oe){const we=i.get(z);I!==void 0&&Se(we.__webglFramebuffer,z,z.texture,36064,3553),oe!==void 0&&le(z)}function Ge(z){const I=z.texture,oe=i.get(z),we=i.get(I);z.addEventListener("dispose",H),z.isWebGLMultipleRenderTargets!==!0&&(we.__webglTexture===void 0&&(we.__webglTexture=n.createTexture()),we.__version=I.version,o.memory.textures++);const be=z.isWebGLCubeRenderTarget===!0,Pe=z.isWebGLMultipleRenderTargets===!0,rt=M(z)||a;if(be){oe.__webglFramebuffer=[];for(let De=0;De<6;De++)oe.__webglFramebuffer[De]=n.createFramebuffer()}else{if(oe.__webglFramebuffer=n.createFramebuffer(),Pe)if(r.drawBuffers){const De=z.texture;for(let ve=0,Ke=De.length;ve<Ke;ve++){const j=i.get(De[ve]);j.__webglTexture===void 0&&(j.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&z.samples>0&&je(z)===!1){const De=Pe?I:[I];oe.__webglMultisampledFramebuffer=n.createFramebuffer(),oe.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,oe.__webglMultisampledFramebuffer);for(let ve=0;ve<De.length;ve++){const Ke=De[ve];oe.__webglColorRenderbuffer[ve]=n.createRenderbuffer(),n.bindRenderbuffer(36161,oe.__webglColorRenderbuffer[ve]);const j=s.convert(Ke.format,Ke.encoding),ue=s.convert(Ke.type),Ae=b(Ke.internalFormat,j,ue,Ke.encoding,z.isXRRenderTarget===!0),Te=Xe(z);n.renderbufferStorageMultisample(36161,Te,Ae,z.width,z.height),n.framebufferRenderbuffer(36160,36064+ve,36161,oe.__webglColorRenderbuffer[ve])}n.bindRenderbuffer(36161,null),z.depthBuffer&&(oe.__webglDepthRenderbuffer=n.createRenderbuffer(),Ie(oe.__webglDepthRenderbuffer,z,!0)),t.bindFramebuffer(36160,null)}}if(be){t.bindTexture(34067,we.__webglTexture),Z(34067,I,rt);for(let De=0;De<6;De++)Se(oe.__webglFramebuffer[De],z,I,36064,34069+De);P(I,rt)&&R(34067),t.unbindTexture()}else if(Pe){const De=z.texture;for(let ve=0,Ke=De.length;ve<Ke;ve++){const j=De[ve],ue=i.get(j);t.bindTexture(3553,ue.__webglTexture),Z(3553,j,rt),Se(oe.__webglFramebuffer,z,j,36064+ve,3553),P(j,rt)&&R(3553)}t.unbindTexture()}else{let De=3553;(z.isWebGL3DRenderTarget||z.isWebGLArrayRenderTarget)&&(a?De=z.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(De,we.__webglTexture),Z(De,I,rt),Se(oe.__webglFramebuffer,z,I,36064,De),P(I,rt)&&R(De),t.unbindTexture()}z.depthBuffer&&le(z)}function Be(z){const I=M(z)||a,oe=z.isWebGLMultipleRenderTargets===!0?z.texture:[z.texture];for(let we=0,be=oe.length;we<be;we++){const Pe=oe[we];if(P(Pe,I)){const rt=z.isWebGLCubeRenderTarget?34067:3553,De=i.get(Pe).__webglTexture;t.bindTexture(rt,De),R(rt),t.unbindTexture()}}}function Ze(z){if(a&&z.samples>0&&je(z)===!1){const I=z.isWebGLMultipleRenderTargets?z.texture:[z.texture],oe=z.width,we=z.height;let be=16384;const Pe=[],rt=z.stencilBuffer?33306:36096,De=i.get(z),ve=z.isWebGLMultipleRenderTargets===!0;if(ve)for(let Ke=0;Ke<I.length;Ke++)t.bindFramebuffer(36160,De.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Ke,36161,null),t.bindFramebuffer(36160,De.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Ke,3553,null,0);t.bindFramebuffer(36008,De.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,De.__webglFramebuffer);for(let Ke=0;Ke<I.length;Ke++){Pe.push(36064+Ke),z.depthBuffer&&Pe.push(rt);const j=De.__ignoreDepthValues!==void 0?De.__ignoreDepthValues:!1;if(j===!1&&(z.depthBuffer&&(be|=256),z.stencilBuffer&&(be|=1024)),ve&&n.framebufferRenderbuffer(36008,36064,36161,De.__webglColorRenderbuffer[Ke]),j===!0&&(n.invalidateFramebuffer(36008,[rt]),n.invalidateFramebuffer(36009,[rt])),ve){const ue=i.get(I[Ke]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,ue,0)}n.blitFramebuffer(0,0,oe,we,0,0,oe,we,be,9728),m&&n.invalidateFramebuffer(36008,Pe)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),ve)for(let Ke=0;Ke<I.length;Ke++){t.bindFramebuffer(36160,De.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Ke,36161,De.__webglColorRenderbuffer[Ke]);const j=i.get(I[Ke]).__webglTexture;t.bindFramebuffer(36160,De.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Ke,3553,j,0)}t.bindFramebuffer(36009,De.__webglMultisampledFramebuffer)}}function Xe(z){return Math.min(h,z.samples)}function je(z){const I=i.get(z);return a&&z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&I.__useRenderToTexture!==!1}function _t(z){const I=o.render.frame;y.get(z)!==I&&(y.set(z,I),z.update())}function Et(z,I){const oe=z.encoding,we=z.format,be=z.type;return z.isCompressedTexture===!0||z.isVideoTexture===!0||z.format===ag||oe!==qs&&(oe===Pt?a===!1?e.has("EXT_sRGB")===!0&&we===Bi?(z.format=ag,z.minFilter=ln,z.generateMipmaps=!1):I=nS.sRGBToLinear(I):(we!==Bi||be!==Qs)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",oe)),I}this.allocateTextureUnit=k,this.resetTextureUnits=ie,this.setTexture2D=K,this.setTexture2DArray=ae,this.setTexture3D=V,this.setTextureCube=se,this.rebindTextures=Ce,this.setupRenderTarget=Ge,this.updateRenderTargetMipmap=Be,this.updateMultisampleRenderTarget=Ze,this.setupDepthRenderbuffer=le,this.setupFrameBufferTexture=Se,this.useMultisampledRTT=je}function mL(n,e,t){const i=t.isWebGL2;function r(s,o=null){let a;if(s===Qs)return 5121;if(s===NR)return 32819;if(s===zR)return 32820;if(s===OR)return 5120;if(s===FR)return 5122;if(s===ZA)return 5123;if(s===kR)return 5124;if(s===Ro)return 5125;if(s===Ns)return 5126;if(s===Uu)return i?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===UR)return 6406;if(s===Bi)return 6408;if(s===GR)return 6409;if(s===HR)return 6410;if(s===Ho)return 6402;if(s===cl)return 34041;if(s===ag)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===VR)return 6403;if(s===WR)return 36244;if(s===jR)return 33319;if(s===JR)return 33320;if(s===XR)return 36249;if(s===wm||s===Mm||s===Cm||s===bm)if(o===Pt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===wm)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Mm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Cm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===bm)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===wm)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Mm)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Cm)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===bm)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===E_||s===T_||s===P_||s===B_)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===E_)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===T_)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===P_)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===B_)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===KR)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===R_||s===L_)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===R_)return o===Pt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===L_)return o===Pt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===I_||s===D_||s===O_||s===F_||s===k_||s===N_||s===z_||s===U_||s===G_||s===H_||s===V_||s===W_||s===j_||s===J_)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===I_)return o===Pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===D_)return o===Pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===O_)return o===Pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===F_)return o===Pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===k_)return o===Pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===N_)return o===Pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===z_)return o===Pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===U_)return o===Pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===G_)return o===Pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===H_)return o===Pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===V_)return o===Pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===W_)return o===Pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===j_)return o===Pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===J_)return o===Pt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Em)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Em)return o===Pt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===YR||s===X_||s===K_||s===Y_)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===Em)return a.COMPRESSED_RED_RGTC1_EXT;if(s===X_)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===K_)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===Y_)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Za?i?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class gL extends jt{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Us extends Dt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const c5={type:"move"};class Iy{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Us,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Us,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new D,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new D),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Us,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new D,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new D),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const v of e.hand.values()){const x=t.getJointPose(v,i),A=this._getHandJoint(c,v);x!==null&&(A.matrix.fromArray(x.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.jointRadius=x.radius),A.visible=x!==null}const d=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],p=d.position.distanceTo(h.position),m=.02,y=.005;c.inputState.pinching&&p>m+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(c5)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Us;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class vL extends nn{constructor(e,t,i,r,s,o,a,l,c,d){if(d=d!==void 0?d:Ho,d!==Ho&&d!==cl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===Ho&&(i=Ro),i===void 0&&d===cl&&(i=Za),super(null,r,s,o,a,l,d,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:yn,this.minFilter=l!==void 0?l:yn,this.flipY=!1,this.generateMipmaps=!1}}class f5 extends ps{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,d=null,h=null,p=null,m=null,y=null;const v=t.getContextAttributes();let x=null,A=null;const _=[],w=[],M=new Set,E=new Map,P=new jt;P.layers.enable(1),P.viewport=new Ut;const R=new jt;R.layers.enable(2),R.viewport=new Ut;const b=[P,R],B=new gL;B.layers.enable(1),B.layers.enable(2);let L=null,O=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(V){let se=_[V];return se===void 0&&(se=new Iy,_[V]=se),se.getTargetRaySpace()},this.getControllerGrip=function(V){let se=_[V];return se===void 0&&(se=new Iy,_[V]=se),se.getGripSpace()},this.getHand=function(V){let se=_[V];return se===void 0&&(se=new Iy,_[V]=se),se.getHandSpace()};function H(V){const se=w.indexOf(V.inputSource);if(se===-1)return;const pe=_[se];pe!==void 0&&pe.dispatchEvent({type:V.type,data:V.inputSource})}function U(){r.removeEventListener("select",H),r.removeEventListener("selectstart",H),r.removeEventListener("selectend",H),r.removeEventListener("squeeze",H),r.removeEventListener("squeezestart",H),r.removeEventListener("squeezeend",H),r.removeEventListener("end",U),r.removeEventListener("inputsourceschange",W);for(let V=0;V<_.length;V++){const se=w[V];se!==null&&(w[V]=null,_[V].disconnect(se))}L=null,O=null,e.setRenderTarget(x),m=null,p=null,h=null,r=null,A=null,ae.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(V){s=V,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(V){a=V,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(V){c=V},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return h},this.getFrame=function(){return y},this.getSession=function(){return r},this.setSession=async function(V){if(r=V,r!==null){if(x=e.getRenderTarget(),r.addEventListener("select",H),r.addEventListener("selectstart",H),r.addEventListener("selectend",H),r.addEventListener("squeeze",H),r.addEventListener("squeezestart",H),r.addEventListener("squeezeend",H),r.addEventListener("end",U),r.addEventListener("inputsourceschange",W),v.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const se={antialias:r.renderState.layers===void 0?v.antialias:!0,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,se),r.updateRenderState({baseLayer:m}),A=new Vr(m.framebufferWidth,m.framebufferHeight,{format:Bi,type:Qs,encoding:e.outputEncoding,stencilBuffer:v.stencil})}else{let se=null,pe=null,_e=null;v.depth&&(_e=v.stencil?35056:33190,se=v.stencil?cl:Ho,pe=v.stencil?Za:Ro);const Z={colorFormat:32856,depthFormat:_e,scaleFactor:s};h=new XRWebGLBinding(r,t),p=h.createProjectionLayer(Z),r.updateRenderState({layers:[p]}),A=new Vr(p.textureWidth,p.textureHeight,{format:Bi,type:Qs,depthTexture:new vL(p.textureWidth,p.textureHeight,pe,void 0,void 0,void 0,void 0,void 0,void 0,se),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0});const Ne=e.properties.get(A);Ne.__ignoreDepthValues=p.ignoreDepthValues}A.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),ae.setContext(r),ae.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function W(V){for(let se=0;se<V.removed.length;se++){const pe=V.removed[se],_e=w.indexOf(pe);_e>=0&&(w[_e]=null,_[_e].disconnect(pe))}for(let se=0;se<V.added.length;se++){const pe=V.added[se];let _e=w.indexOf(pe);if(_e===-1){for(let Ne=0;Ne<_.length;Ne++)if(Ne>=w.length){w.push(pe),_e=Ne;break}else if(w[Ne]===null){w[Ne]=pe,_e=Ne;break}if(_e===-1)break}const Z=_[_e];Z&&Z.connect(pe)}}const J=new D,ee=new D;function ie(V,se,pe){J.setFromMatrixPosition(se.matrixWorld),ee.setFromMatrixPosition(pe.matrixWorld);const _e=J.distanceTo(ee),Z=se.projectionMatrix.elements,Ne=pe.projectionMatrix.elements,ze=Z[14]/(Z[10]-1),Ve=Z[14]/(Z[10]+1),Se=(Z[9]+1)/Z[5],Ie=(Z[9]-1)/Z[5],he=(Z[8]-1)/Z[0],le=(Ne[8]+1)/Ne[0],Ce=ze*he,Ge=ze*le,Be=_e/(-he+le),Ze=Be*-he;se.matrixWorld.decompose(V.position,V.quaternion,V.scale),V.translateX(Ze),V.translateZ(Be),V.matrixWorld.compose(V.position,V.quaternion,V.scale),V.matrixWorldInverse.copy(V.matrixWorld).invert();const Xe=ze+Be,je=Ve+Be,_t=Ce-Ze,Et=Ge+(_e-Ze),z=Se*Ve/je*Xe,I=Ie*Ve/je*Xe;V.projectionMatrix.makePerspective(_t,Et,z,I,Xe,je)}function k(V,se){se===null?V.matrixWorld.copy(V.matrix):V.matrixWorld.multiplyMatrices(se.matrixWorld,V.matrix),V.matrixWorldInverse.copy(V.matrixWorld).invert()}this.updateCamera=function(V){if(r===null)return;B.near=R.near=P.near=V.near,B.far=R.far=P.far=V.far,(L!==B.near||O!==B.far)&&(r.updateRenderState({depthNear:B.near,depthFar:B.far}),L=B.near,O=B.far);const se=V.parent,pe=B.cameras;k(B,se);for(let Z=0;Z<pe.length;Z++)k(pe[Z],se);B.matrixWorld.decompose(B.position,B.quaternion,B.scale),V.matrix.copy(B.matrix),V.matrix.decompose(V.position,V.quaternion,V.scale);const _e=V.children;for(let Z=0,Ne=_e.length;Z<Ne;Z++)_e[Z].updateMatrixWorld(!0);pe.length===2?ie(B,P,R):B.projectionMatrix.copy(P.projectionMatrix)},this.getCamera=function(){return B},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(V){l=V,p!==null&&(p.fixedFoveation=V),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=V)},this.getPlanes=function(){return M};let X=null;function K(V,se){if(d=se.getViewerPose(c||o),y=se,d!==null){const pe=d.views;m!==null&&(e.setRenderTargetFramebuffer(A,m.framebuffer),e.setRenderTarget(A));let _e=!1;pe.length!==B.cameras.length&&(B.cameras.length=0,_e=!0);for(let Z=0;Z<pe.length;Z++){const Ne=pe[Z];let ze=null;if(m!==null)ze=m.getViewport(Ne);else{const Se=h.getViewSubImage(p,Ne);ze=Se.viewport,Z===0&&(e.setRenderTargetTextures(A,Se.colorTexture,p.ignoreDepthValues?void 0:Se.depthStencilTexture),e.setRenderTarget(A))}let Ve=b[Z];Ve===void 0&&(Ve=new jt,Ve.layers.enable(Z),Ve.viewport=new Ut,b[Z]=Ve),Ve.matrix.fromArray(Ne.transform.matrix),Ve.projectionMatrix.fromArray(Ne.projectionMatrix),Ve.viewport.set(ze.x,ze.y,ze.width,ze.height),Z===0&&B.matrix.copy(Ve.matrix),_e===!0&&B.cameras.push(Ve)}}for(let pe=0;pe<_.length;pe++){const _e=w[pe],Z=_[pe];_e!==null&&Z!==void 0&&Z.update(_e,se,c||o)}if(X&&X(V,se),se.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:se.detectedPlanes});let pe=null;for(const _e of M)se.detectedPlanes.has(_e)||(pe===null&&(pe=[]),pe.push(_e));if(pe!==null)for(const _e of pe)M.delete(_e),E.delete(_e),i.dispatchEvent({type:"planeremoved",data:_e});for(const _e of se.detectedPlanes)if(!M.has(_e))M.add(_e),E.set(_e,se.lastChangedTime),i.dispatchEvent({type:"planeadded",data:_e});else{const Z=E.get(_e);_e.lastChangedTime>Z&&(E.set(_e,_e.lastChangedTime),i.dispatchEvent({type:"planechanged",data:_e}))}}y=null}const ae=new cL;ae.setAnimationLoop(K),this.setAnimationLoop=function(V){X=V},this.dispose=function(){}}}function d5(n,e){function t(v,x){x.color.getRGB(v.fogColor.value,lL(n)),x.isFog?(v.fogNear.value=x.near,v.fogFar.value=x.far):x.isFogExp2&&(v.fogDensity.value=x.density)}function i(v,x,A,_,w){x.isMeshBasicMaterial||x.isMeshLambertMaterial?r(v,x):x.isMeshToonMaterial?(r(v,x),d(v,x)):x.isMeshPhongMaterial?(r(v,x),c(v,x)):x.isMeshStandardMaterial?(r(v,x),h(v,x),x.isMeshPhysicalMaterial&&p(v,x,w)):x.isMeshMatcapMaterial?(r(v,x),m(v,x)):x.isMeshDepthMaterial?r(v,x):x.isMeshDistanceMaterial?(r(v,x),y(v,x)):x.isMeshNormalMaterial?r(v,x):x.isLineBasicMaterial?(s(v,x),x.isLineDashedMaterial&&o(v,x)):x.isPointsMaterial?a(v,x,A,_):x.isSpriteMaterial?l(v,x):x.isShadowMaterial?(v.color.value.copy(x.color),v.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function r(v,x){v.opacity.value=x.opacity,x.color&&v.diffuse.value.copy(x.color),x.emissive&&v.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(v.map.value=x.map),x.alphaMap&&(v.alphaMap.value=x.alphaMap),x.bumpMap&&(v.bumpMap.value=x.bumpMap,v.bumpScale.value=x.bumpScale,x.side===Oi&&(v.bumpScale.value*=-1)),x.displacementMap&&(v.displacementMap.value=x.displacementMap,v.displacementScale.value=x.displacementScale,v.displacementBias.value=x.displacementBias),x.emissiveMap&&(v.emissiveMap.value=x.emissiveMap),x.normalMap&&(v.normalMap.value=x.normalMap,v.normalScale.value.copy(x.normalScale),x.side===Oi&&v.normalScale.value.negate()),x.specularMap&&(v.specularMap.value=x.specularMap),x.alphaTest>0&&(v.alphaTest.value=x.alphaTest);const A=e.get(x).envMap;if(A&&(v.envMap.value=A,v.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=x.reflectivity,v.ior.value=x.ior,v.refractionRatio.value=x.refractionRatio),x.lightMap){v.lightMap.value=x.lightMap;const M=n.physicallyCorrectLights!==!0?Math.PI:1;v.lightMapIntensity.value=x.lightMapIntensity*M}x.aoMap&&(v.aoMap.value=x.aoMap,v.aoMapIntensity.value=x.aoMapIntensity);let _;x.map?_=x.map:x.specularMap?_=x.specularMap:x.displacementMap?_=x.displacementMap:x.normalMap?_=x.normalMap:x.bumpMap?_=x.bumpMap:x.roughnessMap?_=x.roughnessMap:x.metalnessMap?_=x.metalnessMap:x.alphaMap?_=x.alphaMap:x.emissiveMap?_=x.emissiveMap:x.clearcoatMap?_=x.clearcoatMap:x.clearcoatNormalMap?_=x.clearcoatNormalMap:x.clearcoatRoughnessMap?_=x.clearcoatRoughnessMap:x.iridescenceMap?_=x.iridescenceMap:x.iridescenceThicknessMap?_=x.iridescenceThicknessMap:x.specularIntensityMap?_=x.specularIntensityMap:x.specularColorMap?_=x.specularColorMap:x.transmissionMap?_=x.transmissionMap:x.thicknessMap?_=x.thicknessMap:x.sheenColorMap?_=x.sheenColorMap:x.sheenRoughnessMap&&(_=x.sheenRoughnessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),v.uvTransform.value.copy(_.matrix));let w;x.aoMap?w=x.aoMap:x.lightMap&&(w=x.lightMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uv2Transform.value.copy(w.matrix))}function s(v,x){v.diffuse.value.copy(x.color),v.opacity.value=x.opacity}function o(v,x){v.dashSize.value=x.dashSize,v.totalSize.value=x.dashSize+x.gapSize,v.scale.value=x.scale}function a(v,x,A,_){v.diffuse.value.copy(x.color),v.opacity.value=x.opacity,v.size.value=x.size*A,v.scale.value=_*.5,x.map&&(v.map.value=x.map),x.alphaMap&&(v.alphaMap.value=x.alphaMap),x.alphaTest>0&&(v.alphaTest.value=x.alphaTest);let w;x.map?w=x.map:x.alphaMap&&(w=x.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uvTransform.value.copy(w.matrix))}function l(v,x){v.diffuse.value.copy(x.color),v.opacity.value=x.opacity,v.rotation.value=x.rotation,x.map&&(v.map.value=x.map),x.alphaMap&&(v.alphaMap.value=x.alphaMap),x.alphaTest>0&&(v.alphaTest.value=x.alphaTest);let A;x.map?A=x.map:x.alphaMap&&(A=x.alphaMap),A!==void 0&&(A.matrixAutoUpdate===!0&&A.updateMatrix(),v.uvTransform.value.copy(A.matrix))}function c(v,x){v.specular.value.copy(x.specular),v.shininess.value=Math.max(x.shininess,1e-4)}function d(v,x){x.gradientMap&&(v.gradientMap.value=x.gradientMap)}function h(v,x){v.roughness.value=x.roughness,v.metalness.value=x.metalness,x.roughnessMap&&(v.roughnessMap.value=x.roughnessMap),x.metalnessMap&&(v.metalnessMap.value=x.metalnessMap),e.get(x).envMap&&(v.envMapIntensity.value=x.envMapIntensity)}function p(v,x,A){v.ior.value=x.ior,x.sheen>0&&(v.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),v.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(v.sheenColorMap.value=x.sheenColorMap),x.sheenRoughnessMap&&(v.sheenRoughnessMap.value=x.sheenRoughnessMap)),x.clearcoat>0&&(v.clearcoat.value=x.clearcoat,v.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(v.clearcoatMap.value=x.clearcoatMap),x.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap),x.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),v.clearcoatNormalMap.value=x.clearcoatNormalMap,x.side===Oi&&v.clearcoatNormalScale.value.negate())),x.iridescence>0&&(v.iridescence.value=x.iridescence,v.iridescenceIOR.value=x.iridescenceIOR,v.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(v.iridescenceMap.value=x.iridescenceMap),x.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=x.iridescenceThicknessMap)),x.transmission>0&&(v.transmission.value=x.transmission,v.transmissionSamplerMap.value=A.texture,v.transmissionSamplerSize.value.set(A.width,A.height),x.transmissionMap&&(v.transmissionMap.value=x.transmissionMap),v.thickness.value=x.thickness,x.thicknessMap&&(v.thicknessMap.value=x.thicknessMap),v.attenuationDistance.value=x.attenuationDistance,v.attenuationColor.value.copy(x.attenuationColor)),v.specularIntensity.value=x.specularIntensity,v.specularColor.value.copy(x.specularColor),x.specularIntensityMap&&(v.specularIntensityMap.value=x.specularIntensityMap),x.specularColorMap&&(v.specularColorMap.value=x.specularColorMap)}function m(v,x){x.matcap&&(v.matcap.value=x.matcap)}function y(v,x){v.referencePosition.value.copy(x.referencePosition),v.nearDistance.value=x.nearDistance,v.farDistance.value=x.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:i}}function h5(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(_,w){const M=w.program;i.uniformBlockBinding(_,M)}function c(_,w){let M=r[_.id];M===void 0&&(y(_),M=d(_),r[_.id]=M,_.addEventListener("dispose",x));const E=w.program;i.updateUBOMapping(_,E);const P=e.render.frame;s[_.id]!==P&&(p(_),s[_.id]=P)}function d(_){const w=h();_.__bindingPointIndex=w;const M=n.createBuffer(),E=_.__size,P=_.usage;return n.bindBuffer(35345,M),n.bufferData(35345,E,P),n.bindBuffer(35345,null),n.bindBufferBase(35345,w,M),M}function h(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(_){const w=r[_.id],M=_.uniforms,E=_.__cache;n.bindBuffer(35345,w);for(let P=0,R=M.length;P<R;P++){const b=M[P];if(m(b,P,E)===!0){const B=b.__offset,L=Array.isArray(b.value)?b.value:[b.value];let O=0;for(let H=0;H<L.length;H++){const U=L[H],W=v(U);typeof U=="number"?(b.__data[0]=U,n.bufferSubData(35345,B+O,b.__data)):U.isMatrix3?(b.__data[0]=U.elements[0],b.__data[1]=U.elements[1],b.__data[2]=U.elements[2],b.__data[3]=U.elements[0],b.__data[4]=U.elements[3],b.__data[5]=U.elements[4],b.__data[6]=U.elements[5],b.__data[7]=U.elements[0],b.__data[8]=U.elements[6],b.__data[9]=U.elements[7],b.__data[10]=U.elements[8],b.__data[11]=U.elements[0]):(U.toArray(b.__data,O),O+=W.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,B,b.__data)}}n.bindBuffer(35345,null)}function m(_,w,M){const E=_.value;if(M[w]===void 0){if(typeof E=="number")M[w]=E;else{const P=Array.isArray(E)?E:[E],R=[];for(let b=0;b<P.length;b++)R.push(P[b].clone());M[w]=R}return!0}else if(typeof E=="number"){if(M[w]!==E)return M[w]=E,!0}else{const P=Array.isArray(M[w])?M[w]:[M[w]],R=Array.isArray(E)?E:[E];for(let b=0;b<P.length;b++){const B=P[b];if(B.equals(R[b])===!1)return B.copy(R[b]),!0}}return!1}function y(_){const w=_.uniforms;let M=0;const E=16;let P=0;for(let R=0,b=w.length;R<b;R++){const B=w[R],L={boundary:0,storage:0},O=Array.isArray(B.value)?B.value:[B.value];for(let H=0,U=O.length;H<U;H++){const W=O[H],J=v(W);L.boundary+=J.boundary,L.storage+=J.storage}if(B.__data=new Float32Array(L.storage/Float32Array.BYTES_PER_ELEMENT),B.__offset=M,R>0){P=M%E;const H=E-P;P!==0&&H-L.boundary<0&&(M+=E-P,B.__offset=M)}M+=L.storage}return P=M%E,P>0&&(M+=E-P),_.__size=M,_.__cache={},this}function v(_){const w={boundary:0,storage:0};return typeof _=="number"?(w.boundary=4,w.storage=4):_.isVector2?(w.boundary=8,w.storage=8):_.isVector3||_.isColor?(w.boundary=16,w.storage=12):_.isVector4?(w.boundary=16,w.storage=16):_.isMatrix3?(w.boundary=48,w.storage=48):_.isMatrix4?(w.boundary=64,w.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),w}function x(_){const w=_.target;w.removeEventListener("dispose",x);const M=o.indexOf(w.__bindingPointIndex);o.splice(M,1),n.deleteBuffer(r[w.id]),delete r[w.id],delete s[w.id]}function A(){for(const _ in r)n.deleteBuffer(r[_]);o=[],r={},s={}}return{bind:l,update:c,dispose:A}}function p5(){const n=rd("canvas");return n.style.display="block",n}function fS(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:p5(),t=n.context!==void 0?n.context:null,i=n.depth!==void 0?n.depth:!0,r=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let d;t!==null?d=t.getContextAttributes().alpha:d=n.alpha!==void 0?n.alpha:!1;let h=null,p=null;const m=[],y=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=qs,this.physicallyCorrectLights=!1,this.toneMapping=Ur,this.toneMappingExposure=1;const v=this;let x=!1,A=0,_=0,w=null,M=-1,E=null;const P=new Ut,R=new Ut;let b=null,B=e.width,L=e.height,O=1,H=null,U=null;const W=new Ut(0,0,B,L),J=new Ut(0,0,B,L);let ee=!1;const ie=new s0;let k=!1,X=!1,K=null;const ae=new at,V=new ge,se=new D,pe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function _e(){return w===null?O:1}let Z=t;function Ne(F,te){for(let me=0;me<F.length;me++){const $=F[me],ye=e.getContext($,te);if(ye!==null)return ye}return null}try{const F={alpha:!0,depth:i,stencil:r,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${$g}`),e.addEventListener("webglcontextlost",Ae,!1),e.addEventListener("webglcontextrestored",Te,!1),e.addEventListener("webglcontextcreationerror",tt,!1),Z===null){const te=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&te.shift(),Z=Ne(te,F),Z===null)throw Ne(te)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Z.getShaderPrecisionFormat===void 0&&(Z.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(F){throw console.error("THREE.WebGLRenderer: "+F.message),F}let ze,Ve,Se,Ie,he,le,Ce,Ge,Be,Ze,Xe,je,_t,Et,z,I,oe,we,be,Pe,rt,De,ve,Ke;function j(){ze=new BG(Z),Ve=new MG(Z,ze,n),ze.init(Ve),De=new mL(Z,ze,Ve),Se=new l5(Z,ze,Ve),Ie=new IG,he=new QH,le=new u5(Z,ze,Se,he,Ve,De,Ie),Ce=new bG(v),Ge=new PG(v),Be=new Hz(Z,Ve),ve=new SG(Z,ze,Be,Ve),Ze=new RG(Z,Be,Ie,ve),Xe=new kG(Z,Ze,Be,Ie),be=new FG(Z,Ve,le),I=new CG(he),je=new YH(v,Ce,Ge,ze,Ve,ve,I),_t=new d5(v,he),Et=new ZH,z=new r5(ze,Ve),we=new AG(v,Ce,Ge,Se,Xe,d,o),oe=new a5(v,Xe,Ve),Ke=new h5(Z,Ie,Ve,Se),Pe=new wG(Z,ze,Ie,Ve),rt=new LG(Z,ze,Ie,Ve),Ie.programs=je.programs,v.capabilities=Ve,v.extensions=ze,v.properties=he,v.renderLists=Et,v.shadowMap=oe,v.state=Se,v.info=Ie}j();const ue=new f5(v,Z);this.xr=ue,this.getContext=function(){return Z},this.getContextAttributes=function(){return Z.getContextAttributes()},this.forceContextLoss=function(){const F=ze.get("WEBGL_lose_context");F&&F.loseContext()},this.forceContextRestore=function(){const F=ze.get("WEBGL_lose_context");F&&F.restoreContext()},this.getPixelRatio=function(){return O},this.setPixelRatio=function(F){F!==void 0&&(O=F,this.setSize(B,L,!1))},this.getSize=function(F){return F.set(B,L)},this.setSize=function(F,te,me){if(ue.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}B=F,L=te,e.width=Math.floor(F*O),e.height=Math.floor(te*O),me!==!1&&(e.style.width=F+"px",e.style.height=te+"px"),this.setViewport(0,0,F,te)},this.getDrawingBufferSize=function(F){return F.set(B*O,L*O).floor()},this.setDrawingBufferSize=function(F,te,me){B=F,L=te,O=me,e.width=Math.floor(F*me),e.height=Math.floor(te*me),this.setViewport(0,0,F,te)},this.getCurrentViewport=function(F){return F.copy(P)},this.getViewport=function(F){return F.copy(W)},this.setViewport=function(F,te,me,$){F.isVector4?W.set(F.x,F.y,F.z,F.w):W.set(F,te,me,$),Se.viewport(P.copy(W).multiplyScalar(O).floor())},this.getScissor=function(F){return F.copy(J)},this.setScissor=function(F,te,me,$){F.isVector4?J.set(F.x,F.y,F.z,F.w):J.set(F,te,me,$),Se.scissor(R.copy(J).multiplyScalar(O).floor())},this.getScissorTest=function(){return ee},this.setScissorTest=function(F){Se.setScissorTest(ee=F)},this.setOpaqueSort=function(F){H=F},this.setTransparentSort=function(F){U=F},this.getClearColor=function(F){return F.copy(we.getClearColor())},this.setClearColor=function(){we.setClearColor.apply(we,arguments)},this.getClearAlpha=function(){return we.getClearAlpha()},this.setClearAlpha=function(){we.setClearAlpha.apply(we,arguments)},this.clear=function(F=!0,te=!0,me=!0){let $=0;F&&($|=16384),te&&($|=256),me&&($|=1024),Z.clear($)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Ae,!1),e.removeEventListener("webglcontextrestored",Te,!1),e.removeEventListener("webglcontextcreationerror",tt,!1),Et.dispose(),z.dispose(),he.dispose(),Ce.dispose(),Ge.dispose(),Xe.dispose(),ve.dispose(),Ke.dispose(),je.dispose(),ue.dispose(),ue.removeEventListener("sessionstart",Ue),ue.removeEventListener("sessionend",Qe),K&&(K.dispose(),K=null),Lt.stop()};function Ae(F){F.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function Te(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const F=Ie.autoReset,te=oe.enabled,me=oe.autoUpdate,$=oe.needsUpdate,ye=oe.type;j(),Ie.autoReset=F,oe.enabled=te,oe.autoUpdate=me,oe.needsUpdate=$,oe.type=ye}function tt(F){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",F.statusMessage)}function xt(F){const te=F.target;te.removeEventListener("dispose",xt),Xt(te)}function Xt(F){Q(F),he.remove(F)}function Q(F){const te=he.get(F).programs;te!==void 0&&(te.forEach(function(me){je.releaseProgram(me)}),F.isShaderMaterial&&je.releaseShaderCache(F))}this.renderBufferDirect=function(F,te,me,$,ye,$e){te===null&&(te=pe);const ot=ye.isMesh&&ye.matrixWorld.determinant()<0,ht=R0(F,te,me,$,ye);Se.setMaterial($,ot);let vt=me.index,Tt=1;$.wireframe===!0&&(vt=Ze.getWireframeAttribute(me),Tt=2);const Mt=me.drawRange,Ct=me.attributes.position;let hn=Mt.start*Tt,ui=(Mt.start+Mt.count)*Tt;$e!==null&&(hn=Math.max(hn,$e.start*Tt),ui=Math.min(ui,($e.start+$e.count)*Tt)),vt!==null?(hn=Math.max(hn,0),ui=Math.min(ui,vt.count)):Ct!=null&&(hn=Math.max(hn,0),ui=Math.min(ui,Ct.count));const Mr=ui-hn;if(Mr<0||Mr===1/0)return;ve.setup(ye,$,ht,me,vt);let ms,qt=Pe;if(vt!==null&&(ms=Be.get(vt),qt=rt,qt.setIndex(ms)),ye.isMesh)$.wireframe===!0?(Se.setLineWidth($.wireframeLinewidth*_e()),qt.setMode(1)):qt.setMode(4);else if(ye.isLine){let pt=$.linewidth;pt===void 0&&(pt=1),Se.setLineWidth(pt*_e()),ye.isLineSegments?qt.setMode(1):ye.isLineLoop?qt.setMode(2):qt.setMode(3)}else ye.isPoints?qt.setMode(0):ye.isSprite&&qt.setMode(4);if(ye.isInstancedMesh)qt.renderInstances(hn,Mr,ye.count);else if(me.isInstancedBufferGeometry){const pt=me._maxInstanceCount!==void 0?me._maxInstanceCount:1/0,ua=Math.min(me.instanceCount,pt);qt.renderInstances(hn,Mr,ua)}else qt.render(hn,Mr)},this.compile=function(F,te){function me($,ye,$e){$.transparent===!0&&$.side===kr&&$.forceSinglePass===!1?($.side=Oi,$.needsUpdate=!0,wi($,ye,$e),$.side=fs,$.needsUpdate=!0,wi($,ye,$e),$.side=kr):wi($,ye,$e)}p=z.get(F),p.init(),y.push(p),F.traverseVisible(function($){$.isLight&&$.layers.test(te.layers)&&(p.pushLight($),$.castShadow&&p.pushShadow($))}),p.setupLights(v.physicallyCorrectLights),F.traverse(function($){const ye=$.material;if(ye)if(Array.isArray(ye))for(let $e=0;$e<ye.length;$e++){const ot=ye[$e];me(ot,F,$)}else me(ye,F,$)}),y.pop(),p=null};let fe=null;function xe(F){fe&&fe(F)}function Ue(){Lt.stop()}function Qe(){Lt.start()}const Lt=new cL;Lt.setAnimationLoop(xe),typeof self<"u"&&Lt.setContext(self),this.setAnimationLoop=function(F){fe=F,ue.setAnimationLoop(F),F===null?Lt.stop():Lt.start()},ue.addEventListener("sessionstart",Ue),ue.addEventListener("sessionend",Qe),this.render=function(F,te){if(te!==void 0&&te.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;F.matrixWorldAutoUpdate===!0&&F.updateMatrixWorld(),te.parent===null&&te.matrixWorldAutoUpdate===!0&&te.updateMatrixWorld(),ue.enabled===!0&&ue.isPresenting===!0&&(ue.cameraAutoUpdate===!0&&ue.updateCamera(te),te=ue.getCamera()),F.isScene===!0&&F.onBeforeRender(v,F,te,w),p=z.get(F,y.length),p.init(),y.push(p),ae.multiplyMatrices(te.projectionMatrix,te.matrixWorldInverse),ie.setFromProjectionMatrix(ae),X=this.localClippingEnabled,k=I.init(this.clippingPlanes,X),h=Et.get(F,m.length),h.init(),m.push(h),xn(F,te,0,v.sortObjects),h.finish(),v.sortObjects===!0&&h.sort(H,U),k===!0&&I.beginShadows();const me=p.state.shadowsArray;if(oe.render(me,F,te),k===!0&&I.endShadows(),this.info.autoReset===!0&&this.info.reset(),we.render(h,F),p.setupLights(v.physicallyCorrectLights),te.isArrayCamera){const $=te.cameras;for(let ye=0,$e=$.length;ye<$e;ye++){const ot=$[ye];kn(h,F,ot,ot.viewport)}}else kn(h,F,te);w!==null&&(le.updateMultisampleRenderTarget(w),le.updateRenderTargetMipmap(w)),F.isScene===!0&&F.onAfterRender(v,F,te),ve.resetDefaultState(),M=-1,E=null,y.pop(),y.length>0?p=y[y.length-1]:p=null,m.pop(),m.length>0?h=m[m.length-1]:h=null};function xn(F,te,me,$){if(F.visible===!1)return;if(F.layers.test(te.layers)){if(F.isGroup)me=F.renderOrder;else if(F.isLOD)F.autoUpdate===!0&&F.update(te);else if(F.isLight)p.pushLight(F),F.castShadow&&p.pushShadow(F);else if(F.isSprite){if(!F.frustumCulled||ie.intersectsSprite(F)){$&&se.setFromMatrixPosition(F.matrixWorld).applyMatrix4(ae);const ot=Xe.update(F),ht=F.material;ht.visible&&h.push(F,ot,ht,me,se.z,null)}}else if((F.isMesh||F.isLine||F.isPoints)&&(F.isSkinnedMesh&&F.skeleton.frame!==Ie.render.frame&&(F.skeleton.update(),F.skeleton.frame=Ie.render.frame),!F.frustumCulled||ie.intersectsObject(F))){$&&se.setFromMatrixPosition(F.matrixWorld).applyMatrix4(ae);const ot=Xe.update(F),ht=F.material;if(Array.isArray(ht)){const vt=ot.groups;for(let Tt=0,Mt=vt.length;Tt<Mt;Tt++){const Ct=vt[Tt],hn=ht[Ct.materialIndex];hn&&hn.visible&&h.push(F,ot,hn,me,se.z,Ct)}}else ht.visible&&h.push(F,ot,ht,me,se.z,null)}}const $e=F.children;for(let ot=0,ht=$e.length;ot<ht;ot++)xn($e[ot],te,me,$)}function kn(F,te,me,$){const ye=F.opaque,$e=F.transmissive,ot=F.transparent;p.setupLightsView(me),k===!0&&I.setGlobalState(v.clippingPlanes,me),$e.length>0&&Kr(ye,te,me),$&&Se.viewport(P.copy($)),ye.length>0&&Ht(ye,te,me),$e.length>0&&Ht($e,te,me),ot.length>0&&Ht(ot,te,me),Se.buffers.depth.setTest(!0),Se.buffers.depth.setMask(!0),Se.buffers.color.setMask(!0),Se.setPolygonOffset(!1)}function Kr(F,te,me){const $=Ve.isWebGL2;K===null&&(K=new Vr(1,1,{generateMipmaps:!0,type:ze.has("EXT_color_buffer_half_float")?Uu:Qs,minFilter:ds,samples:$&&s===!0?4:0})),v.getDrawingBufferSize(V),$?K.setSize(V.x,V.y):K.setSize(lg(V.x),lg(V.y));const ye=v.getRenderTarget();v.setRenderTarget(K),v.clear();const $e=v.toneMapping;v.toneMapping=Ur,Ht(F,te,me),v.toneMapping=$e,le.updateMultisampleRenderTarget(K),le.updateRenderTargetMipmap(K),v.setRenderTarget(ye)}function Ht(F,te,me){const $=te.isScene===!0?te.overrideMaterial:null;for(let ye=0,$e=F.length;ye<$e;ye++){const ot=F[ye],ht=ot.object,vt=ot.geometry,Tt=$===null?ot.material:$,Mt=ot.group;ht.layers.test(me.layers)&&$i(ht,te,me,vt,Tt,Mt)}}function $i(F,te,me,$,ye,$e){F.onBeforeRender(v,te,me,$,ye,$e),F.modelViewMatrix.multiplyMatrices(me.matrixWorldInverse,F.matrixWorld),F.normalMatrix.getNormalMatrix(F.modelViewMatrix),ye.onBeforeRender(v,te,me,$,F,$e),ye.transparent===!0&&ye.side===kr&&ye.forceSinglePass===!1?(ye.side=Oi,ye.needsUpdate=!0,v.renderBufferDirect(me,te,$,ye,F,$e),ye.side=fs,ye.needsUpdate=!0,v.renderBufferDirect(me,te,$,ye,F,$e),ye.side=kr):v.renderBufferDirect(me,te,$,ye,F,$e),F.onAfterRender(v,te,me,$,ye,$e)}function wi(F,te,me){te.isScene!==!0&&(te=pe);const $=he.get(F),ye=p.state.lights,$e=p.state.shadowsArray,ot=ye.state.version,ht=je.getParameters(F,ye.state,$e,te,me),vt=je.getProgramCacheKey(ht);let Tt=$.programs;$.environment=F.isMeshStandardMaterial?te.environment:null,$.fog=te.fog,$.envMap=(F.isMeshStandardMaterial?Ge:Ce).get(F.envMap||$.environment),Tt===void 0&&(F.addEventListener("dispose",xt),Tt=new Map,$.programs=Tt);let Mt=Tt.get(vt);if(Mt!==void 0){if($.currentProgram===Mt&&$.lightsStateVersion===ot)return nh(F,ht),Mt}else ht.uniforms=je.getUniforms(F),F.onBuild(me,ht,v),F.onBeforeCompile(ht,v),Mt=je.acquireProgram(ht,vt),Tt.set(vt,Mt),$.uniforms=ht.uniforms;const Ct=$.uniforms;(!F.isShaderMaterial&&!F.isRawShaderMaterial||F.clipping===!0)&&(Ct.clippingPlanes=I.uniform),nh(F,ht),$.needsLights=cc(F),$.lightsStateVersion=ot,$.needsLights&&(Ct.ambientLightColor.value=ye.state.ambient,Ct.lightProbe.value=ye.state.probe,Ct.directionalLights.value=ye.state.directional,Ct.directionalLightShadows.value=ye.state.directionalShadow,Ct.spotLights.value=ye.state.spot,Ct.spotLightShadows.value=ye.state.spotShadow,Ct.rectAreaLights.value=ye.state.rectArea,Ct.ltc_1.value=ye.state.rectAreaLTC1,Ct.ltc_2.value=ye.state.rectAreaLTC2,Ct.pointLights.value=ye.state.point,Ct.pointLightShadows.value=ye.state.pointShadow,Ct.hemisphereLights.value=ye.state.hemi,Ct.directionalShadowMap.value=ye.state.directionalShadowMap,Ct.directionalShadowMatrix.value=ye.state.directionalShadowMatrix,Ct.spotShadowMap.value=ye.state.spotShadowMap,Ct.spotLightMatrix.value=ye.state.spotLightMatrix,Ct.spotLightMap.value=ye.state.spotLightMap,Ct.pointShadowMap.value=ye.state.pointShadowMap,Ct.pointShadowMatrix.value=ye.state.pointShadowMatrix);const hn=Mt.getUniforms(),ui=Rm.seqWithValue(hn.seq,Ct);return $.currentProgram=Mt,$.uniformsList=ui,Mt}function nh(F,te){const me=he.get(F);me.outputEncoding=te.outputEncoding,me.instancing=te.instancing,me.skinning=te.skinning,me.morphTargets=te.morphTargets,me.morphNormals=te.morphNormals,me.morphColors=te.morphColors,me.morphTargetsCount=te.morphTargetsCount,me.numClippingPlanes=te.numClippingPlanes,me.numIntersection=te.numClipIntersection,me.vertexAlphas=te.vertexAlphas,me.vertexTangents=te.vertexTangents,me.toneMapping=te.toneMapping}function R0(F,te,me,$,ye){te.isScene!==!0&&(te=pe),le.resetTextureUnits();const $e=te.fog,ot=$.isMeshStandardMaterial?te.environment:null,ht=w===null?v.outputEncoding:w.isXRRenderTarget===!0?w.texture.encoding:qs,vt=($.isMeshStandardMaterial?Ge:Ce).get($.envMap||ot),Tt=$.vertexColors===!0&&!!me.attributes.color&&me.attributes.color.itemSize===4,Mt=!!$.normalMap&&!!me.attributes.tangent,Ct=!!me.morphAttributes.position,hn=!!me.morphAttributes.normal,ui=!!me.morphAttributes.color,Mr=$.toneMapped?v.toneMapping:Ur,ms=me.morphAttributes.position||me.morphAttributes.normal||me.morphAttributes.color,qt=ms!==void 0?ms.length:0,pt=he.get($),ua=p.state.lights;if(k===!0&&(X===!0||F!==E)){const zt=F===E&&$.id===M;I.setState($,F,zt)}let pn=!1;$.version===pt.__version?(pt.needsLights&&pt.lightsStateVersion!==ua.state.version||pt.outputEncoding!==ht||ye.isInstancedMesh&&pt.instancing===!1||!ye.isInstancedMesh&&pt.instancing===!0||ye.isSkinnedMesh&&pt.skinning===!1||!ye.isSkinnedMesh&&pt.skinning===!0||pt.envMap!==vt||$.fog===!0&&pt.fog!==$e||pt.numClippingPlanes!==void 0&&(pt.numClippingPlanes!==I.numPlanes||pt.numIntersection!==I.numIntersection)||pt.vertexAlphas!==Tt||pt.vertexTangents!==Mt||pt.morphTargets!==Ct||pt.morphNormals!==hn||pt.morphColors!==ui||pt.toneMapping!==Mr||Ve.isWebGL2===!0&&pt.morphTargetsCount!==qt)&&(pn=!0):(pn=!0,pt.__version=$.version);let gs=pt.currentProgram;pn===!0&&(gs=wi($,te,ye));let Sl=!1,er=!1,tr=!1;const dt=gs.getUniforms(),Bt=pt.uniforms;if(Se.useProgram(gs.program)&&(Sl=!0,er=!0,tr=!0),$.id!==M&&(M=$.id,er=!0),Sl||E!==F){if(dt.setValue(Z,"projectionMatrix",F.projectionMatrix),Ve.logarithmicDepthBuffer&&dt.setValue(Z,"logDepthBufFC",2/(Math.log(F.far+1)/Math.LN2)),E!==F&&(E=F,er=!0,tr=!0),$.isShaderMaterial||$.isMeshPhongMaterial||$.isMeshToonMaterial||$.isMeshStandardMaterial||$.envMap){const zt=dt.map.cameraPosition;zt!==void 0&&zt.setValue(Z,se.setFromMatrixPosition(F.matrixWorld))}($.isMeshPhongMaterial||$.isMeshToonMaterial||$.isMeshLambertMaterial||$.isMeshBasicMaterial||$.isMeshStandardMaterial||$.isShaderMaterial)&&dt.setValue(Z,"isOrthographic",F.isOrthographicCamera===!0),($.isMeshPhongMaterial||$.isMeshToonMaterial||$.isMeshLambertMaterial||$.isMeshBasicMaterial||$.isMeshStandardMaterial||$.isShaderMaterial||$.isShadowMaterial||ye.isSkinnedMesh)&&dt.setValue(Z,"viewMatrix",F.matrixWorldInverse)}if(ye.isSkinnedMesh){dt.setOptional(Z,ye,"bindMatrix"),dt.setOptional(Z,ye,"bindMatrixInverse");const zt=ye.skeleton;zt&&(Ve.floatVertexTextures?(zt.boneTexture===null&&zt.computeBoneTexture(),dt.setValue(Z,"boneTexture",zt.boneTexture,le),dt.setValue(Z,"boneTextureSize",zt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const nr=me.morphAttributes;if((nr.position!==void 0||nr.normal!==void 0||nr.color!==void 0&&Ve.isWebGL2===!0)&&be.update(ye,me,$,gs),(er||pt.receiveShadow!==ye.receiveShadow)&&(pt.receiveShadow=ye.receiveShadow,dt.setValue(Z,"receiveShadow",ye.receiveShadow)),$.isMeshGouraudMaterial&&$.envMap!==null&&(Bt.envMap.value=vt,Bt.flipEnvMap.value=vt.isCubeTexture&&vt.isRenderTargetTexture===!1?-1:1),er&&(dt.setValue(Z,"toneMappingExposure",v.toneMappingExposure),pt.needsLights&&ih(Bt,tr),$e&&$.fog===!0&&_t.refreshFogUniforms(Bt,$e),_t.refreshMaterialUniforms(Bt,$,O,L,K),Rm.upload(Z,pt.uniformsList,Bt,le)),$.isShaderMaterial&&$.uniformsNeedUpdate===!0&&(Rm.upload(Z,pt.uniformsList,Bt,le),$.uniformsNeedUpdate=!1),$.isSpriteMaterial&&dt.setValue(Z,"center",ye.center),dt.setValue(Z,"modelViewMatrix",ye.modelViewMatrix),dt.setValue(Z,"normalMatrix",ye.normalMatrix),dt.setValue(Z,"modelMatrix",ye.matrixWorld),$.isShaderMaterial||$.isRawShaderMaterial){const zt=$.uniformsGroups;for(let Nn=0,vs=zt.length;Nn<vs;Nn++)if(Ve.isWebGL2){const ys=zt[Nn];Ke.update(ys,gs),Ke.bind(ys,gs)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return gs}function ih(F,te){F.ambientLightColor.needsUpdate=te,F.lightProbe.needsUpdate=te,F.directionalLights.needsUpdate=te,F.directionalLightShadows.needsUpdate=te,F.pointLights.needsUpdate=te,F.pointLightShadows.needsUpdate=te,F.spotLights.needsUpdate=te,F.spotLightShadows.needsUpdate=te,F.rectAreaLights.needsUpdate=te,F.hemisphereLights.needsUpdate=te}function cc(F){return F.isMeshLambertMaterial||F.isMeshToonMaterial||F.isMeshPhongMaterial||F.isMeshStandardMaterial||F.isShadowMaterial||F.isShaderMaterial&&F.lights===!0}this.getActiveCubeFace=function(){return A},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(F,te,me){he.get(F.texture).__webglTexture=te,he.get(F.depthTexture).__webglTexture=me;const $=he.get(F);$.__hasExternalTextures=!0,$.__hasExternalTextures&&($.__autoAllocateDepthBuffer=me===void 0,$.__autoAllocateDepthBuffer||ze.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),$.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(F,te){const me=he.get(F);me.__webglFramebuffer=te,me.__useDefaultFramebuffer=te===void 0},this.setRenderTarget=function(F,te=0,me=0){w=F,A=te,_=me;let $=!0,ye=null,$e=!1,ot=!1;if(F){const vt=he.get(F);vt.__useDefaultFramebuffer!==void 0?(Se.bindFramebuffer(36160,null),$=!1):vt.__webglFramebuffer===void 0?le.setupRenderTarget(F):vt.__hasExternalTextures&&le.rebindTextures(F,he.get(F.texture).__webglTexture,he.get(F.depthTexture).__webglTexture);const Tt=F.texture;(Tt.isData3DTexture||Tt.isDataArrayTexture||Tt.isCompressedArrayTexture)&&(ot=!0);const Mt=he.get(F).__webglFramebuffer;F.isWebGLCubeRenderTarget?(ye=Mt[te],$e=!0):Ve.isWebGL2&&F.samples>0&&le.useMultisampledRTT(F)===!1?ye=he.get(F).__webglMultisampledFramebuffer:ye=Mt,P.copy(F.viewport),R.copy(F.scissor),b=F.scissorTest}else P.copy(W).multiplyScalar(O).floor(),R.copy(J).multiplyScalar(O).floor(),b=ee;if(Se.bindFramebuffer(36160,ye)&&Ve.drawBuffers&&$&&Se.drawBuffers(F,ye),Se.viewport(P),Se.scissor(R),Se.setScissorTest(b),$e){const vt=he.get(F.texture);Z.framebufferTexture2D(36160,36064,34069+te,vt.__webglTexture,me)}else if(ot){const vt=he.get(F.texture),Tt=te||0;Z.framebufferTextureLayer(36160,36064,vt.__webglTexture,me||0,Tt)}M=-1},this.readRenderTargetPixels=function(F,te,me,$,ye,$e,ot){if(!(F&&F.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ht=he.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&ot!==void 0&&(ht=ht[ot]),ht){Se.bindFramebuffer(36160,ht);try{const vt=F.texture,Tt=vt.format,Mt=vt.type;if(Tt!==Bi&&De.convert(Tt)!==Z.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ct=Mt===Uu&&(ze.has("EXT_color_buffer_half_float")||Ve.isWebGL2&&ze.has("EXT_color_buffer_float"));if(Mt!==Qs&&De.convert(Mt)!==Z.getParameter(35738)&&!(Mt===Ns&&(Ve.isWebGL2||ze.has("OES_texture_float")||ze.has("WEBGL_color_buffer_float")))&&!Ct){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}te>=0&&te<=F.width-$&&me>=0&&me<=F.height-ye&&Z.readPixels(te,me,$,ye,De.convert(Tt),De.convert(Mt),$e)}finally{const vt=w!==null?he.get(w).__webglFramebuffer:null;Se.bindFramebuffer(36160,vt)}}},this.copyFramebufferToTexture=function(F,te,me=0){const $=Math.pow(2,-me),ye=Math.floor(te.image.width*$),$e=Math.floor(te.image.height*$);le.setTexture2D(te,0),Z.copyTexSubImage2D(3553,me,0,0,F.x,F.y,ye,$e),Se.unbindTexture()},this.copyTextureToTexture=function(F,te,me,$=0){const ye=te.image.width,$e=te.image.height,ot=De.convert(me.format),ht=De.convert(me.type);le.setTexture2D(me,0),Z.pixelStorei(37440,me.flipY),Z.pixelStorei(37441,me.premultiplyAlpha),Z.pixelStorei(3317,me.unpackAlignment),te.isDataTexture?Z.texSubImage2D(3553,$,F.x,F.y,ye,$e,ot,ht,te.image.data):te.isCompressedTexture?Z.compressedTexSubImage2D(3553,$,F.x,F.y,te.mipmaps[0].width,te.mipmaps[0].height,ot,te.mipmaps[0].data):Z.texSubImage2D(3553,$,F.x,F.y,ot,ht,te.image),$===0&&me.generateMipmaps&&Z.generateMipmap(3553),Se.unbindTexture()},this.copyTextureToTexture3D=function(F,te,me,$,ye=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const $e=F.max.x-F.min.x+1,ot=F.max.y-F.min.y+1,ht=F.max.z-F.min.z+1,vt=De.convert($.format),Tt=De.convert($.type);let Mt;if($.isData3DTexture)le.setTexture3D($,0),Mt=32879;else if($.isDataArrayTexture)le.setTexture2DArray($,0),Mt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Z.pixelStorei(37440,$.flipY),Z.pixelStorei(37441,$.premultiplyAlpha),Z.pixelStorei(3317,$.unpackAlignment);const Ct=Z.getParameter(3314),hn=Z.getParameter(32878),ui=Z.getParameter(3316),Mr=Z.getParameter(3315),ms=Z.getParameter(32877),qt=me.isCompressedTexture?me.mipmaps[0]:me.image;Z.pixelStorei(3314,qt.width),Z.pixelStorei(32878,qt.height),Z.pixelStorei(3316,F.min.x),Z.pixelStorei(3315,F.min.y),Z.pixelStorei(32877,F.min.z),me.isDataTexture||me.isData3DTexture?Z.texSubImage3D(Mt,ye,te.x,te.y,te.z,$e,ot,ht,vt,Tt,qt.data):me.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Z.compressedTexSubImage3D(Mt,ye,te.x,te.y,te.z,$e,ot,ht,vt,qt.data)):Z.texSubImage3D(Mt,ye,te.x,te.y,te.z,$e,ot,ht,vt,Tt,qt),Z.pixelStorei(3314,Ct),Z.pixelStorei(32878,hn),Z.pixelStorei(3316,ui),Z.pixelStorei(3315,Mr),Z.pixelStorei(32877,ms),ye===0&&$.generateMipmaps&&Z.generateMipmap(Mt),Se.unbindTexture()},this.initTexture=function(F){F.isCubeTexture?le.setTextureCube(F,0):F.isData3DTexture?le.setTexture3D(F,0):F.isDataArrayTexture||F.isCompressedArrayTexture?le.setTexture2DArray(F,0):le.setTexture2D(F,0),Se.unbindTexture()},this.resetState=function(){A=0,_=0,w=null,Se.reset(),ve.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class yL extends fS{}yL.prototype.isWebGL1Renderer=!0;class a0{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Le(e),this.density=t}clone(){return new a0(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class l0{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Le(e),this.near=t,this.far=i}clone(){return new l0(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class ug extends Dt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Rd{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=nd,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Xi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Xi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Xi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const di=new D;class Qo{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)di.fromBufferAttribute(this,t),di.applyMatrix4(e),this.setXYZ(t,di.x,di.y,di.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)di.fromBufferAttribute(this,t),di.applyNormalMatrix(e),this.setXYZ(t,di.x,di.y,di.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)di.fromBufferAttribute(this,t),di.transformDirection(e),this.setXYZ(t,di.x,di.y,di.z);return this}setX(e,t){return this.normalized&&(t=Wt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Wt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Wt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Wt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=zs(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=zs(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=zs(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=zs(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Wt(t,this.array),i=Wt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Wt(t,this.array),i=Wt(i,this.array),r=Wt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Wt(t,this.array),i=Wt(i,this.array),r=Wt(r,this.array),s=Wt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Nt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Qo(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class dS extends Pn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Le(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Ql;const jc=new D,ql=new D,Zl=new D,$l=new ge,Jc=new ge,xL=new at,Dp=new D,Xc=new D,Op=new D,Zb=new ge,Dy=new ge,$b=new ge;class _L extends Dt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Ql===void 0){Ql=new ft;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Rd(t,5);Ql.setIndex([0,1,2,0,2,3]),Ql.setAttribute("position",new Qo(i,3,0,!1)),Ql.setAttribute("uv",new Qo(i,2,3,!1))}this.geometry=Ql,this.material=e!==void 0?e:new dS,this.center=new ge(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ql.setFromMatrixScale(this.matrixWorld),xL.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Zl.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ql.multiplyScalar(-Zl.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;Fp(Dp.set(-.5,-.5,0),Zl,o,ql,r,s),Fp(Xc.set(.5,-.5,0),Zl,o,ql,r,s),Fp(Op.set(.5,.5,0),Zl,o,ql,r,s),Zb.set(0,0),Dy.set(1,0),$b.set(1,1);let a=e.ray.intersectTriangle(Dp,Xc,Op,!1,jc);if(a===null&&(Fp(Xc.set(-.5,.5,0),Zl,o,ql,r,s),Dy.set(0,1),a=e.ray.intersectTriangle(Dp,Op,Xc,!1,jc),a===null))return;const l=e.ray.origin.distanceTo(jc);l<e.near||l>e.far||t.push({distance:l,point:jc.clone(),uv:yr.getUV(jc,Dp,Xc,Op,Zb,Dy,$b,new ge),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Fp(n,e,t,i,r,s){$l.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Jc.x=s*$l.x-r*$l.y,Jc.y=r*$l.x+s*$l.y):Jc.copy($l),n.copy(e),n.x+=Jc.x,n.y+=Jc.y,n.applyMatrix4(xL)}const kp=new D,eE=new D;class AL extends Dt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){kp.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(kp);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){kp.setFromMatrixPosition(e.matrixWorld),eE.setFromMatrixPosition(this.matrixWorld);const i=kp.distanceTo(eE)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const tE=new D,nE=new Ut,iE=new Ut,m5=new D,rE=new at;class hS extends Wn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new at,this.bindMatrixInverse=new at}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ut,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const i=this.skeleton,r=this.geometry;nE.fromBufferAttribute(r.attributes.skinIndex,e),iE.fromBufferAttribute(r.attributes.skinWeight,e),tE.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=iE.getComponent(s);if(o!==0){const a=nE.getComponent(s);rE.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(m5.copy(tE).applyMatrix4(rE),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class u0 extends Dt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Pu extends nn{constructor(e=null,t=1,i=1,r,s,o,a,l,c=yn,d=yn,h,p){super(null,o,a,l,c,d,r,s,h,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const sE=new at,g5=new at;class Ld{constructor(e=[],t=[]){this.uuid=Xi(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new at)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new at;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:g5;sE.multiplyMatrices(a,t[s]),sE.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Ld(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=rL(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Pu(t,e,e,Bi,Ns);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new u0),this.bones.push(o),this.boneInverses.push(new at().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class Wu extends Nt{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const oE=new at,aE=new at,Np=[],v5=new at,Kc=new Wn;class SL extends Wn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Wu(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1;for(let r=0;r<i;r++)this.setMatrixAt(r,v5)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Kc.geometry=this.geometry,Kc.material=this.material,Kc.material!==void 0)for(let s=0;s<r;s++){this.getMatrixAt(s,oE),aE.multiplyMatrices(i,oE),Kc.matrixWorld=aE,Kc.raycast(e,Np);for(let o=0,a=Np.length;o<a;o++){const l=Np[o];l.instanceId=s,l.object=this,t.push(l)}Np.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Wu(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class li extends Pn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Le(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const lE=new D,uE=new D,cE=new at,Oy=new Ed,zp=new sa;class Zs extends Dt{constructor(e=new ft,t=new li){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)lE.fromBufferAttribute(t,r-1),uE.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=lE.distanceTo(uE);e.setAttribute("lineDistance",new Je(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),zp.copy(i.boundingSphere),zp.applyMatrix4(r),zp.radius+=s,e.ray.intersectsSphere(zp)===!1)return;cE.copy(r).invert(),Oy.copy(e.ray).applyMatrix4(cE);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new D,d=new D,h=new D,p=new D,m=this.isLineSegments?2:1,y=i.index,x=i.attributes.position;if(y!==null){const A=Math.max(0,o.start),_=Math.min(y.count,o.start+o.count);for(let w=A,M=_-1;w<M;w+=m){const E=y.getX(w),P=y.getX(w+1);if(c.fromBufferAttribute(x,E),d.fromBufferAttribute(x,P),Oy.distanceSqToSegment(c,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(p);b<e.near||b>e.far||t.push({distance:b,point:h.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const A=Math.max(0,o.start),_=Math.min(x.count,o.start+o.count);for(let w=A,M=_-1;w<M;w+=m){if(c.fromBufferAttribute(x,w),d.fromBufferAttribute(x,w+1),Oy.distanceSqToSegment(c,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||t.push({distance:P,point:h.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const fE=new D,dE=new D;class jr extends Zs{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)fE.fromBufferAttribute(t,r),dE.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+fE.distanceTo(dE);e.setAttribute("lineDistance",new Je(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class pS extends Zs{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Id extends Pn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Le(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const hE=new at,e1=new Ed,Up=new sa,Gp=new D;let mS=class extends Dt{constructor(e=new ft,t=new Id){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Up.copy(i.boundingSphere),Up.applyMatrix4(r),Up.radius+=s,e.ray.intersectsSphere(Up)===!1)return;hE.copy(r).invert(),e1.copy(e.ray).applyMatrix4(hE);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,h=i.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let y=p,v=m;y<v;y++){const x=c.getX(y);Gp.fromBufferAttribute(h,x),pE(Gp,x,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let y=p,v=m;y<v;y++)Gp.fromBufferAttribute(h,y),pE(Gp,y,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};function pE(n,e,t,i,r,s,o){const a=e1.distanceSqToPoint(n);if(a<t){const l=new D;e1.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class y5 extends nn{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:ln,this.magFilter=s!==void 0?s:ln,this.generateMipmaps=!1;const d=this;function h(){d.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class x5 extends nn{constructor(e,t,i){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=i,this.magFilter=yn,this.minFilter=yn,this.generateMipmaps=!1,this.needsUpdate=!0}}class gS extends nn{constructor(e,t,i,r,s,o,a,l,c,d,h,p){super(null,o,a,l,c,d,r,s,h,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class _5 extends gS{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Kn}}class A5 extends nn{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Jr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const d=i[r],p=i[r+1]-d,m=(o-d)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new ge:new D);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new D,r=[],s=[],o=[],a=new D,l=new at;for(let m=0;m<=e;m++){const y=m/e;r[m]=this.getTangentAt(y,new D)}s[0]=new D,o[0]=new D;let c=Number.MAX_VALUE;const d=Math.abs(r[0].x),h=Math.abs(r[0].y),p=Math.abs(r[0].z);d<=c&&(c=d,i.set(1,0,0)),h<=c&&(c=h,i.set(0,1,0)),p<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(wn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,y))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(wn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(r[y],m*y)),o[y].crossVectors(r[y],s[y])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class c0 extends Jr{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new ge,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*d-m*h+this.aX,c=p*h+m*d+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class wL extends c0{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function vS(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,d,h){let p=(o-s)/c-(a-s)/(c+d)+(a-o)/d,m=(a-o)/d-(l-o)/(d+h)+(l-a)/h;p*=d,m*=d,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const Hp=new D,Fy=new vS,ky=new vS,Ny=new vS;class ML extends Jr{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new D){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,d;this.closed||a>0?c=r[(a-1)%s]:(Hp.subVectors(r[0],r[1]).add(r[0]),c=Hp);const h=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?d=r[(a+2)%s]:(Hp.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=Hp),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(c.distanceToSquared(h),m),v=Math.pow(h.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(d),m);v<1e-4&&(v=1),y<1e-4&&(y=v),x<1e-4&&(x=v),Fy.initNonuniformCatmullRom(c.x,h.x,p.x,d.x,y,v,x),ky.initNonuniformCatmullRom(c.y,h.y,p.y,d.y,y,v,x),Ny.initNonuniformCatmullRom(c.z,h.z,p.z,d.z,y,v,x)}else this.curveType==="catmullrom"&&(Fy.initCatmullRom(c.x,h.x,p.x,d.x,this.tension),ky.initCatmullRom(c.y,h.y,p.y,d.y,this.tension),Ny.initCatmullRom(c.z,h.z,p.z,d.z,this.tension));return i.set(Fy.calc(l),ky.calc(l),Ny.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new D().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function mE(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function S5(n,e){const t=1-n;return t*t*e}function w5(n,e){return 2*(1-n)*n*e}function M5(n,e){return n*n*e}function Mf(n,e,t,i){return S5(n,e)+w5(n,t)+M5(n,i)}function C5(n,e){const t=1-n;return t*t*t*e}function b5(n,e){const t=1-n;return 3*t*t*n*e}function E5(n,e){return 3*(1-n)*n*n*e}function T5(n,e){return n*n*n*e}function Cf(n,e,t,i,r){return C5(n,e)+b5(n,t)+E5(n,i)+T5(n,r)}class yS extends Jr{constructor(e=new ge,t=new ge,i=new ge,r=new ge){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new ge){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Cf(e,r.x,s.x,o.x,a.x),Cf(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class CL extends Jr{constructor(e=new D,t=new D,i=new D,r=new D){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new D){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Cf(e,r.x,s.x,o.x,a.x),Cf(e,r.y,s.y,o.y,a.y),Cf(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class f0 extends Jr{constructor(e=new ge,t=new ge){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ge){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const i=t||new ge;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bL extends Jr{constructor(e=new D,t=new D){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new D){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class xS extends Jr{constructor(e=new ge,t=new ge,i=new ge){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new ge){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Mf(e,r.x,s.x,o.x),Mf(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _S extends Jr{constructor(e=new D,t=new D,i=new D){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new D){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Mf(e,r.x,s.x,o.x),Mf(e,r.y,s.y,o.y),Mf(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class AS extends Jr{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ge){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],d=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return i.set(mE(a,l.x,c.x,d.x,h.x),mE(a,l.y,c.y,d.y,h.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new ge().fromArray(r))}return this}}var SS=Object.freeze({__proto__:null,ArcCurve:wL,CatmullRomCurve3:ML,CubicBezierCurve:yS,CubicBezierCurve3:CL,EllipseCurve:c0,LineCurve:f0,LineCurve3:bL,QuadraticBezierCurve:xS,QuadraticBezierCurve3:_S,SplineCurve:AS});class EL extends Jr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new f0(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const d=l[c];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new SS[r.type]().fromJSON(r))}return this}}let sd=class extends EL{constructor(e){super(),this.type="Path",this.currentPoint=new ge,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new f0(this.currentPoint.clone(),new ge(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new xS(this.currentPoint.clone(),new ge(e,t),new ge(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new yS(this.currentPoint.clone(),new ge(e,t),new ge(i,r),new ge(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new AS(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,t+d,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new c0(e,t,i,r,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class sc extends ft{constructor(e=[new ge(0,-.5),new ge(.5,0),new ge(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=wn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],d=1/t,h=new D,p=new ge,m=new D,y=new D,v=new D;let x=0,A=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:x=e[_+1].x-e[_].x,A=e[_+1].y-e[_].y,m.x=A*1,m.y=-x,m.z=A*0,v.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:x=e[_+1].x-e[_].x,A=e[_+1].y-e[_].y,m.x=A*1,m.y=-x,m.z=A*0,y.copy(m),m.x+=v.x,m.y+=v.y,m.z+=v.z,m.normalize(),l.push(m.x,m.y,m.z),v.copy(y)}for(let _=0;_<=t;_++){const w=i+_*d*r,M=Math.sin(w),E=Math.cos(w);for(let P=0;P<=e.length-1;P++){h.x=e[P].x*M,h.y=e[P].y,h.z=e[P].x*E,o.push(h.x,h.y,h.z),p.x=_/t,p.y=P/(e.length-1),a.push(p.x,p.y);const R=l[3*P+0]*M,b=l[3*P+1],B=l[3*P+0]*E;c.push(R,b,B)}}for(let _=0;_<t;_++)for(let w=0;w<e.length-1;w++){const M=w+_*e.length,E=M,P=M+e.length,R=M+e.length+1,b=M+1;s.push(E,P,b),s.push(R,b,P)}this.setIndex(s),this.setAttribute("position",new Je(o,3)),this.setAttribute("uv",new Je(a,2)),this.setAttribute("normal",new Je(c,3))}static fromJSON(e){return new sc(e.points,e.segments,e.phiStart,e.phiLength)}}class Dd extends sc{constructor(e=1,t=1,i=4,r=8){const s=new sd;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new Dd(e.radius,e.length,e.capSegments,e.radialSegments)}}class Od extends ft{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new D,d=new ge;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const m=i+h/t*r;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),d.x=(o[p]/e+1)/2,d.y=(o[p+1]/e+1)/2,l.push(d.x,d.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new Je(o,3)),this.setAttribute("normal",new Je(a,3)),this.setAttribute("uv",new Je(l,2))}static fromJSON(e){return new Od(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class gl extends ft{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const d=[],h=[],p=[],m=[];let y=0;const v=[],x=i/2;let A=0;_(),o===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(d),this.setAttribute("position",new Je(h,3)),this.setAttribute("normal",new Je(p,3)),this.setAttribute("uv",new Je(m,2));function _(){const M=new D,E=new D;let P=0;const R=(t-e)/i;for(let b=0;b<=s;b++){const B=[],L=b/s,O=L*(t-e)+e;for(let H=0;H<=r;H++){const U=H/r,W=U*l+a,J=Math.sin(W),ee=Math.cos(W);E.x=O*J,E.y=-L*i+x,E.z=O*ee,h.push(E.x,E.y,E.z),M.set(J,R,ee).normalize(),p.push(M.x,M.y,M.z),m.push(U,1-L),B.push(y++)}v.push(B)}for(let b=0;b<r;b++)for(let B=0;B<s;B++){const L=v[B][b],O=v[B+1][b],H=v[B+1][b+1],U=v[B][b+1];d.push(L,O,U),d.push(O,H,U),P+=6}c.addGroup(A,P,0),A+=P}function w(M){const E=y,P=new ge,R=new D;let b=0;const B=M===!0?e:t,L=M===!0?1:-1;for(let H=1;H<=r;H++)h.push(0,x*L,0),p.push(0,L,0),m.push(.5,.5),y++;const O=y;for(let H=0;H<=r;H++){const W=H/r*l+a,J=Math.cos(W),ee=Math.sin(W);R.x=B*ee,R.y=x*L,R.z=B*J,h.push(R.x,R.y,R.z),p.push(0,L,0),P.x=J*.5+.5,P.y=ee*.5*L+.5,m.push(P.x,P.y),y++}for(let H=0;H<r;H++){const U=E+H,W=O+H;M===!0?d.push(W,W+1,U):d.push(W+1,W,U),b+=3}c.addGroup(A,b,M===!0?1:2),A+=b}}static fromJSON(e){return new gl(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Fd extends gl{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Fd(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class to extends ft{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),c(i),d(),this.setAttribute("position",new Je(s,3)),this.setAttribute("normal",new Je(s.slice(),3)),this.setAttribute("uv",new Je(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const w=new D,M=new D,E=new D;for(let P=0;P<t.length;P+=3)m(t[P+0],w),m(t[P+1],M),m(t[P+2],E),l(w,M,E,_)}function l(_,w,M,E){const P=E+1,R=[];for(let b=0;b<=P;b++){R[b]=[];const B=_.clone().lerp(M,b/P),L=w.clone().lerp(M,b/P),O=P-b;for(let H=0;H<=O;H++)H===0&&b===P?R[b][H]=B:R[b][H]=B.clone().lerp(L,H/O)}for(let b=0;b<P;b++)for(let B=0;B<2*(P-b)-1;B++){const L=Math.floor(B/2);B%2===0?(p(R[b][L+1]),p(R[b+1][L]),p(R[b][L])):(p(R[b][L+1]),p(R[b+1][L+1]),p(R[b+1][L]))}}function c(_){const w=new D;for(let M=0;M<s.length;M+=3)w.x=s[M+0],w.y=s[M+1],w.z=s[M+2],w.normalize().multiplyScalar(_),s[M+0]=w.x,s[M+1]=w.y,s[M+2]=w.z}function d(){const _=new D;for(let w=0;w<s.length;w+=3){_.x=s[w+0],_.y=s[w+1],_.z=s[w+2];const M=x(_)/2/Math.PI+.5,E=A(_)/Math.PI+.5;o.push(M,1-E)}y(),h()}function h(){for(let _=0;_<o.length;_+=6){const w=o[_+0],M=o[_+2],E=o[_+4],P=Math.max(w,M,E),R=Math.min(w,M,E);P>.9&&R<.1&&(w<.2&&(o[_+0]+=1),M<.2&&(o[_+2]+=1),E<.2&&(o[_+4]+=1))}}function p(_){s.push(_.x,_.y,_.z)}function m(_,w){const M=_*3;w.x=e[M+0],w.y=e[M+1],w.z=e[M+2]}function y(){const _=new D,w=new D,M=new D,E=new D,P=new ge,R=new ge,b=new ge;for(let B=0,L=0;B<s.length;B+=9,L+=6){_.set(s[B+0],s[B+1],s[B+2]),w.set(s[B+3],s[B+4],s[B+5]),M.set(s[B+6],s[B+7],s[B+8]),P.set(o[L+0],o[L+1]),R.set(o[L+2],o[L+3]),b.set(o[L+4],o[L+5]),E.copy(_).add(w).add(M).divideScalar(3);const O=x(E);v(P,L+0,_,O),v(R,L+2,w,O),v(b,L+4,M,O)}}function v(_,w,M,E){E<0&&_.x===1&&(o[w]=_.x-1),M.x===0&&M.z===0&&(o[w]=E/2/Math.PI+.5)}function x(_){return Math.atan2(_.z,-_.x)}function A(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}static fromJSON(e){return new to(e.vertices,e.indices,e.radius,e.details)}}class kd extends to{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new kd(e.radius,e.detail)}}const Vp=new D,Wp=new D,zy=new D,jp=new yr;class TL extends ft{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(el*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],d=["a","b","c"],h=new Array(3),p={},m=[];for(let y=0;y<l;y+=3){o?(c[0]=o.getX(y),c[1]=o.getX(y+1),c[2]=o.getX(y+2)):(c[0]=y,c[1]=y+1,c[2]=y+2);const{a:v,b:x,c:A}=jp;if(v.fromBufferAttribute(a,c[0]),x.fromBufferAttribute(a,c[1]),A.fromBufferAttribute(a,c[2]),jp.getNormal(zy),h[0]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,h[1]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,h[2]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let _=0;_<3;_++){const w=(_+1)%3,M=h[_],E=h[w],P=jp[d[_]],R=jp[d[w]],b=`${M}_${E}`,B=`${E}_${M}`;B in p&&p[B]?(zy.dot(p[B].normal)<=s&&(m.push(P.x,P.y,P.z),m.push(R.x,R.y,R.z)),p[B]=null):b in p||(p[b]={index0:c[_],index1:c[w],normal:zy.clone()})}}for(const y in p)if(p[y]){const{index0:v,index1:x}=p[y];Vp.fromBufferAttribute(a,v),Wp.fromBufferAttribute(a,x),m.push(Vp.x,Vp.y,Vp.z),m.push(Wp.x,Wp.y,Wp.z)}this.setAttribute("position",new Je(m,3))}}}class il extends sd{constructor(e){super(e),this.uuid=Xi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new sd().fromJSON(r))}return this}}const P5={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=PL(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,d,h,p,m;if(i&&(s=D5(n,e,s,t)),n.length>80*t){a=c=n[0],l=d=n[1];for(let y=t;y<r;y+=t)h=n[y],p=n[y+1],h<a&&(a=h),p<l&&(l=p),h>c&&(c=h),p>d&&(d=p);m=Math.max(c-a,d-l),m=m!==0?32767/m:0}return od(s,o,t,a,l,m,0),o}};function PL(n,e,t,i,r){let s,o;if(r===j5(n,e,t,i)>0)for(s=e;s<t;s+=i)o=gE(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=gE(s,n[s],n[s+1],o);return o&&d0(o,o.next)&&(ld(o),o=o.next),o}function dl(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(d0(t,t.next)||un(t.prev,t,t.next)===0)){if(ld(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function od(n,e,t,i,r,s,o){if(!n)return;!o&&s&&z5(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?R5(n,i,r,s):B5(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),ld(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=L5(dl(n),e,t),od(n,e,t,i,r,s,2)):o===2&&I5(n,e,t,i,r,s):od(dl(n),e,t,i,r,s,1);break}}}function B5(n){const e=n.prev,t=n,i=n.next;if(un(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,c=i.y,d=r<s?r<o?r:o:s<o?s:o,h=a<l?a<c?a:c:l<c?l:c,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let y=i.next;for(;y!==e;){if(y.x>=d&&y.x<=p&&y.y>=h&&y.y<=m&&vu(r,a,s,l,o,c,y.x,y.y)&&un(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function R5(n,e,t,i){const r=n.prev,s=n,o=n.next;if(un(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,d=r.y,h=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,y=d<h?d<p?d:p:h<p?h:p,v=a>l?a>c?a:c:l>c?l:c,x=d>h?d>p?d:p:h>p?h:p,A=t1(m,y,e,t,i),_=t1(v,x,e,t,i);let w=n.prevZ,M=n.nextZ;for(;w&&w.z>=A&&M&&M.z<=_;){if(w.x>=m&&w.x<=v&&w.y>=y&&w.y<=x&&w!==r&&w!==o&&vu(a,d,l,h,c,p,w.x,w.y)&&un(w.prev,w,w.next)>=0||(w=w.prevZ,M.x>=m&&M.x<=v&&M.y>=y&&M.y<=x&&M!==r&&M!==o&&vu(a,d,l,h,c,p,M.x,M.y)&&un(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;w&&w.z>=A;){if(w.x>=m&&w.x<=v&&w.y>=y&&w.y<=x&&w!==r&&w!==o&&vu(a,d,l,h,c,p,w.x,w.y)&&un(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;M&&M.z<=_;){if(M.x>=m&&M.x<=v&&M.y>=y&&M.y<=x&&M!==r&&M!==o&&vu(a,d,l,h,c,p,M.x,M.y)&&un(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function L5(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!d0(r,s)&&BL(r,i,i.next,s)&&ad(r,s)&&ad(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),ld(i),ld(i.next),i=n=s),i=i.next}while(i!==n);return dl(i)}function I5(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&H5(o,a)){let l=RL(o,a);o=dl(o,o.next),l=dl(l,l.next),od(o,e,t,i,r,s,0),od(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function D5(n,e,t,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=PL(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(G5(c));for(r.sort(O5),s=0;s<r.length;s++)t=F5(r[s],t);return t}function O5(n,e){return n.x-e.x}function F5(n,e){const t=k5(n,e);if(!t)return e;const i=RL(t,n);return dl(i,i.next),dl(t,t.next)}function k5(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let d=1/0,h;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&vu(o<c?s:i,o,l,c,o<c?i:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),ad(t,n)&&(h<d||h===d&&(t.x>r.x||t.x===r.x&&N5(r,t)))&&(r=t,d=h)),t=t.next;while(t!==a);return r}function N5(n,e){return un(n.prev,n,e.prev)<0&&un(e.next,n,n.next)<0}function z5(n,e,t,i){let r=n;do r.z===0&&(r.z=t1(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,U5(r)}function U5(n){let e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function t1(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function G5(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function vu(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function H5(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!V5(n,e)&&(ad(n,e)&&ad(e,n)&&W5(n,e)&&(un(n.prev,n,e.prev)||un(n,e.prev,e))||d0(n,e)&&un(n.prev,n,n.next)>0&&un(e.prev,e,e.next)>0)}function un(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function d0(n,e){return n.x===e.x&&n.y===e.y}function BL(n,e,t,i){const r=Xp(un(n,e,t)),s=Xp(un(n,e,i)),o=Xp(un(t,i,n)),a=Xp(un(t,i,e));return!!(r!==s&&o!==a||r===0&&Jp(n,t,e)||s===0&&Jp(n,i,e)||o===0&&Jp(t,n,i)||a===0&&Jp(t,e,i))}function Jp(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Xp(n){return n>0?1:n<0?-1:0}function V5(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&BL(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function ad(n,e){return un(n.prev,n,n.next)<0?un(n,e,n.next)>=0&&un(n,n.prev,e)>=0:un(n,e,n.prev)<0||un(n,n.next,e)<0}function W5(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function RL(n,e){const t=new n1(n.i,n.x,n.y),i=new n1(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function gE(n,e,t,i){const r=new n1(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function ld(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function n1(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function j5(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class ls{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return ls.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];vE(e),yE(i,e);let o=e.length;t.forEach(vE);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,yE(i,t[l]);const a=P5.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function vE(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function yE(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Nd extends ft{constructor(e=new il([new ge(.5,.5),new ge(-.5,.5),new ge(-.5,-.5),new ge(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Je(r,3)),this.setAttribute("uv",new Je(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:m-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const A=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:J5;let w,M=!1,E,P,R,b;A&&(w=A.getSpacedPoints(d),M=!0,p=!1,E=A.computeFrenetFrames(d,!1),P=new D,R=new D,b=new D),p||(x=0,m=0,y=0,v=0);const B=a.extractPoints(c);let L=B.shape;const O=B.holes;if(!ls.isClockWise(L)){L=L.reverse();for(let he=0,le=O.length;he<le;he++){const Ce=O[he];ls.isClockWise(Ce)&&(O[he]=Ce.reverse())}}const U=ls.triangulateShape(L,O),W=L;for(let he=0,le=O.length;he<le;he++){const Ce=O[he];L=L.concat(Ce)}function J(he,le,Ce){return le||console.error("THREE.ExtrudeGeometry: vec does not exist"),le.clone().multiplyScalar(Ce).add(he)}const ee=L.length,ie=U.length;function k(he,le,Ce){let Ge,Be,Ze;const Xe=he.x-le.x,je=he.y-le.y,_t=Ce.x-he.x,Et=Ce.y-he.y,z=Xe*Xe+je*je,I=Xe*Et-je*_t;if(Math.abs(I)>Number.EPSILON){const oe=Math.sqrt(z),we=Math.sqrt(_t*_t+Et*Et),be=le.x-je/oe,Pe=le.y+Xe/oe,rt=Ce.x-Et/we,De=Ce.y+_t/we,ve=((rt-be)*Et-(De-Pe)*_t)/(Xe*Et-je*_t);Ge=be+Xe*ve-he.x,Be=Pe+je*ve-he.y;const Ke=Ge*Ge+Be*Be;if(Ke<=2)return new ge(Ge,Be);Ze=Math.sqrt(Ke/2)}else{let oe=!1;Xe>Number.EPSILON?_t>Number.EPSILON&&(oe=!0):Xe<-Number.EPSILON?_t<-Number.EPSILON&&(oe=!0):Math.sign(je)===Math.sign(Et)&&(oe=!0),oe?(Ge=-je,Be=Xe,Ze=Math.sqrt(z)):(Ge=Xe,Be=je,Ze=Math.sqrt(z/2))}return new ge(Ge/Ze,Be/Ze)}const X=[];for(let he=0,le=W.length,Ce=le-1,Ge=he+1;he<le;he++,Ce++,Ge++)Ce===le&&(Ce=0),Ge===le&&(Ge=0),X[he]=k(W[he],W[Ce],W[Ge]);const K=[];let ae,V=X.concat();for(let he=0,le=O.length;he<le;he++){const Ce=O[he];ae=[];for(let Ge=0,Be=Ce.length,Ze=Be-1,Xe=Ge+1;Ge<Be;Ge++,Ze++,Xe++)Ze===Be&&(Ze=0),Xe===Be&&(Xe=0),ae[Ge]=k(Ce[Ge],Ce[Ze],Ce[Xe]);K.push(ae),V=V.concat(ae)}for(let he=0;he<x;he++){const le=he/x,Ce=m*Math.cos(le*Math.PI/2),Ge=y*Math.sin(le*Math.PI/2)+v;for(let Be=0,Ze=W.length;Be<Ze;Be++){const Xe=J(W[Be],X[Be],Ge);Ne(Xe.x,Xe.y,-Ce)}for(let Be=0,Ze=O.length;Be<Ze;Be++){const Xe=O[Be];ae=K[Be];for(let je=0,_t=Xe.length;je<_t;je++){const Et=J(Xe[je],ae[je],Ge);Ne(Et.x,Et.y,-Ce)}}}const se=y+v;for(let he=0;he<ee;he++){const le=p?J(L[he],V[he],se):L[he];M?(R.copy(E.normals[0]).multiplyScalar(le.x),P.copy(E.binormals[0]).multiplyScalar(le.y),b.copy(w[0]).add(R).add(P),Ne(b.x,b.y,b.z)):Ne(le.x,le.y,0)}for(let he=1;he<=d;he++)for(let le=0;le<ee;le++){const Ce=p?J(L[le],V[le],se):L[le];M?(R.copy(E.normals[he]).multiplyScalar(Ce.x),P.copy(E.binormals[he]).multiplyScalar(Ce.y),b.copy(w[he]).add(R).add(P),Ne(b.x,b.y,b.z)):Ne(Ce.x,Ce.y,h/d*he)}for(let he=x-1;he>=0;he--){const le=he/x,Ce=m*Math.cos(le*Math.PI/2),Ge=y*Math.sin(le*Math.PI/2)+v;for(let Be=0,Ze=W.length;Be<Ze;Be++){const Xe=J(W[Be],X[Be],Ge);Ne(Xe.x,Xe.y,h+Ce)}for(let Be=0,Ze=O.length;Be<Ze;Be++){const Xe=O[Be];ae=K[Be];for(let je=0,_t=Xe.length;je<_t;je++){const Et=J(Xe[je],ae[je],Ge);M?Ne(Et.x,Et.y+w[d-1].y,w[d-1].x+Ce):Ne(Et.x,Et.y,h+Ce)}}}pe(),_e();function pe(){const he=r.length/3;if(p){let le=0,Ce=ee*le;for(let Ge=0;Ge<ie;Ge++){const Be=U[Ge];ze(Be[2]+Ce,Be[1]+Ce,Be[0]+Ce)}le=d+x*2,Ce=ee*le;for(let Ge=0;Ge<ie;Ge++){const Be=U[Ge];ze(Be[0]+Ce,Be[1]+Ce,Be[2]+Ce)}}else{for(let le=0;le<ie;le++){const Ce=U[le];ze(Ce[2],Ce[1],Ce[0])}for(let le=0;le<ie;le++){const Ce=U[le];ze(Ce[0]+ee*d,Ce[1]+ee*d,Ce[2]+ee*d)}}i.addGroup(he,r.length/3-he,0)}function _e(){const he=r.length/3;let le=0;Z(W,le),le+=W.length;for(let Ce=0,Ge=O.length;Ce<Ge;Ce++){const Be=O[Ce];Z(Be,le),le+=Be.length}i.addGroup(he,r.length/3-he,1)}function Z(he,le){let Ce=he.length;for(;--Ce>=0;){const Ge=Ce;let Be=Ce-1;Be<0&&(Be=he.length-1);for(let Ze=0,Xe=d+x*2;Ze<Xe;Ze++){const je=ee*Ze,_t=ee*(Ze+1),Et=le+Ge+je,z=le+Be+je,I=le+Be+_t,oe=le+Ge+_t;Ve(Et,z,I,oe)}}}function Ne(he,le,Ce){l.push(he),l.push(le),l.push(Ce)}function ze(he,le,Ce){Se(he),Se(le),Se(Ce);const Ge=r.length/3,Be=_.generateTopUV(i,r,Ge-3,Ge-2,Ge-1);Ie(Be[0]),Ie(Be[1]),Ie(Be[2])}function Ve(he,le,Ce,Ge){Se(he),Se(le),Se(Ge),Se(le),Se(Ce),Se(Ge);const Be=r.length/3,Ze=_.generateSideWallUV(i,r,Be-6,Be-3,Be-2,Be-1);Ie(Ze[0]),Ie(Ze[1]),Ie(Ze[3]),Ie(Ze[1]),Ie(Ze[2]),Ie(Ze[3])}function Se(he){r.push(l[he*3+0]),r.push(l[he*3+1]),r.push(l[he*3+2])}function Ie(he){s.push(he.x),s.push(he.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return X5(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new SS[r.type]().fromJSON(r)),new Nd(i,e.options)}}const J5={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],d=e[r*3+1];return[new ge(s,o),new ge(a,l),new ge(c,d)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[i*3],d=e[i*3+1],h=e[i*3+2],p=e[r*3],m=e[r*3+1],y=e[r*3+2],v=e[s*3],x=e[s*3+1],A=e[s*3+2];return Math.abs(a-d)<Math.abs(o-c)?[new ge(o,1-l),new ge(c,1-h),new ge(p,1-y),new ge(v,1-A)]:[new ge(a,1-l),new ge(d,1-h),new ge(m,1-y),new ge(x,1-A)]}};function X5(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class zd extends to{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new zd(e.radius,e.detail)}}class oc extends to{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new oc(e.radius,e.detail)}}class Ud extends ft{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],d=[];let h=e;const p=(t-e)/r,m=new D,y=new ge;for(let v=0;v<=r;v++){for(let x=0;x<=i;x++){const A=s+x/i*o;m.x=h*Math.cos(A),m.y=h*Math.sin(A),l.push(m.x,m.y,m.z),c.push(0,0,1),y.x=(m.x/t+1)/2,y.y=(m.y/t+1)/2,d.push(y.x,y.y)}h+=p}for(let v=0;v<r;v++){const x=v*(i+1);for(let A=0;A<i;A++){const _=A+x,w=_,M=_+i+1,E=_+i+2,P=_+1;a.push(w,M,P),a.push(M,E,P)}}this.setIndex(a),this.setAttribute("position",new Je(l,3)),this.setAttribute("normal",new Je(c,3)),this.setAttribute("uv",new Je(d,2))}static fromJSON(e){return new Ud(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Gd extends ft{constructor(e=new il([new ge(0,.5),new ge(-.5,-.5),new ge(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let d=0;d<e.length;d++)c(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Je(r,3)),this.setAttribute("normal",new Je(s,3)),this.setAttribute("uv",new Je(o,2));function c(d){const h=r.length/3,p=d.extractPoints(t);let m=p.shape;const y=p.holes;ls.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,A=y.length;x<A;x++){const _=y[x];ls.isClockWise(_)===!0&&(y[x]=_.reverse())}const v=ls.triangulateShape(m,y);for(let x=0,A=y.length;x<A;x++){const _=y[x];m=m.concat(_)}for(let x=0,A=m.length;x<A;x++){const _=m[x];r.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let x=0,A=v.length;x<A;x++){const _=v[x],w=_[0]+h,M=_[1]+h,E=_[2]+h;i.push(w,M,E),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return K5(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new Gd(i,e.curveSegments)}}function K5(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class ac extends ft{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const d=[],h=new D,p=new D,m=[],y=[],v=[],x=[];for(let A=0;A<=i;A++){const _=[],w=A/i;let M=0;A==0&&o==0?M=.5/t:A==i&&l==Math.PI&&(M=-.5/t);for(let E=0;E<=t;E++){const P=E/t;h.x=-e*Math.cos(r+P*s)*Math.sin(o+w*a),h.y=e*Math.cos(o+w*a),h.z=e*Math.sin(r+P*s)*Math.sin(o+w*a),y.push(h.x,h.y,h.z),p.copy(h).normalize(),v.push(p.x,p.y,p.z),x.push(P+M,1-w),_.push(c++)}d.push(_)}for(let A=0;A<i;A++)for(let _=0;_<t;_++){const w=d[A][_+1],M=d[A][_],E=d[A+1][_],P=d[A+1][_+1];(A!==0||o>0)&&m.push(w,M,P),(A!==i-1||l<Math.PI)&&m.push(M,E,P)}this.setIndex(m),this.setAttribute("position",new Je(y,3)),this.setAttribute("normal",new Je(v,3)),this.setAttribute("uv",new Je(x,2))}static fromJSON(e){return new ac(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Hd extends to{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Hd(e.radius,e.detail)}}class Vd extends ft{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],d=new D,h=new D,p=new D;for(let m=0;m<=i;m++)for(let y=0;y<=r;y++){const v=y/r*s,x=m/i*Math.PI*2;h.x=(e+t*Math.cos(x))*Math.cos(v),h.y=(e+t*Math.cos(x))*Math.sin(v),h.z=t*Math.sin(x),a.push(h.x,h.y,h.z),d.x=e*Math.cos(v),d.y=e*Math.sin(v),p.subVectors(h,d).normalize(),l.push(p.x,p.y,p.z),c.push(y/r),c.push(m/i)}for(let m=1;m<=i;m++)for(let y=1;y<=r;y++){const v=(r+1)*m+y-1,x=(r+1)*(m-1)+y-1,A=(r+1)*(m-1)+y,_=(r+1)*m+y;o.push(v,x,_),o.push(x,A,_)}this.setIndex(o),this.setAttribute("position",new Je(a,3)),this.setAttribute("normal",new Je(l,3)),this.setAttribute("uv",new Je(c,2))}static fromJSON(e){return new Vd(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Wd extends ft{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],d=[],h=new D,p=new D,m=new D,y=new D,v=new D,x=new D,A=new D;for(let w=0;w<=i;++w){const M=w/i*s*Math.PI*2;_(M,s,o,e,m),_(M+.01,s,o,e,y),x.subVectors(y,m),A.addVectors(y,m),v.crossVectors(x,A),A.crossVectors(v,x),v.normalize(),A.normalize();for(let E=0;E<=r;++E){const P=E/r*Math.PI*2,R=-t*Math.cos(P),b=t*Math.sin(P);h.x=m.x+(R*A.x+b*v.x),h.y=m.y+(R*A.y+b*v.y),h.z=m.z+(R*A.z+b*v.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),c.push(p.x,p.y,p.z),d.push(w/i),d.push(E/r)}}for(let w=1;w<=i;w++)for(let M=1;M<=r;M++){const E=(r+1)*(w-1)+(M-1),P=(r+1)*w+(M-1),R=(r+1)*w+M,b=(r+1)*(w-1)+M;a.push(E,P,b),a.push(P,R,b)}this.setIndex(a),this.setAttribute("position",new Je(l,3)),this.setAttribute("normal",new Je(c,3)),this.setAttribute("uv",new Je(d,2));function _(w,M,E,P,R){const b=Math.cos(w),B=Math.sin(w),L=E/M*w,O=Math.cos(L);R.x=P*(2+O)*.5*b,R.y=P*(2+O)*B*.5,R.z=P*Math.sin(L)*.5}}static fromJSON(e){return new Wd(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class jd extends ft{constructor(e=new _S(new D(-1,-1,0),new D(-1,1,0),new D(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new D,l=new D,c=new ge;let d=new D;const h=[],p=[],m=[],y=[];v(),this.setIndex(y),this.setAttribute("position",new Je(h,3)),this.setAttribute("normal",new Je(p,3)),this.setAttribute("uv",new Je(m,2));function v(){for(let w=0;w<t;w++)x(w);x(s===!1?t:0),_(),A()}function x(w){d=e.getPointAt(w/t,d);const M=o.normals[w],E=o.binormals[w];for(let P=0;P<=r;P++){const R=P/r*Math.PI*2,b=Math.sin(R),B=-Math.cos(R);l.x=B*M.x+b*E.x,l.y=B*M.y+b*E.y,l.z=B*M.z+b*E.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=d.x+i*l.x,a.y=d.y+i*l.y,a.z=d.z+i*l.z,h.push(a.x,a.y,a.z)}}function A(){for(let w=1;w<=t;w++)for(let M=1;M<=r;M++){const E=(r+1)*(w-1)+(M-1),P=(r+1)*w+(M-1),R=(r+1)*w+M,b=(r+1)*(w-1)+M;y.push(E,P,b),y.push(P,R,b)}}function _(){for(let w=0;w<=t;w++)for(let M=0;M<=r;M++)c.x=w/t,c.y=M/r,m.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new jd(new SS[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class LL extends ft{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new D,s=new D;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,d=l.length;c<d;++c){const h=l[c],p=h.start,m=h.count;for(let y=p,v=p+m;y<v;y+=3)for(let x=0;x<3;x++){const A=a.getX(y+x),_=a.getX(y+(x+1)%3);r.fromBufferAttribute(o,A),s.fromBufferAttribute(o,_),xE(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const d=3*a+c,h=3*a+(c+1)%3;r.fromBufferAttribute(o,d),s.fromBufferAttribute(o,h),xE(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Je(t,3))}}}function xE(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var _E=Object.freeze({__proto__:null,BoxGeometry:oa,CapsuleGeometry:Dd,CircleGeometry:Od,ConeGeometry:Fd,CylinderGeometry:gl,DodecahedronGeometry:kd,EdgesGeometry:TL,ExtrudeGeometry:Nd,IcosahedronGeometry:zd,LatheGeometry:sc,OctahedronGeometry:oc,PlaneGeometry:ic,PolyhedronGeometry:to,RingGeometry:Ud,ShapeGeometry:Gd,SphereGeometry:ac,TetrahedronGeometry:Hd,TorusGeometry:Vd,TorusKnotGeometry:Wd,TubeGeometry:jd,WireframeGeometry:LL});class IL extends Pn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Le(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class DL extends hs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class lc extends Pn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Le(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Le(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eo,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class no extends lc{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ge(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return wn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Le(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Le(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Le(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class OL extends Pn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Le(16777215),this.specular=new Le(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Le(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eo,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=bd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class FL extends Pn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Le(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Le(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eo,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class kL extends Pn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eo,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class NL extends Pn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Le(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Le(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eo,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=bd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class zL extends Pn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Le(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=eo,this.normalScale=new ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class UL extends li{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function pr(n,e,t){return wS(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Xa(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function wS(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function GL(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function i1(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function MS(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function Y5(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],d=c.getValueSize(),h=[],p=[];for(let m=0;m<c.times.length;++m){const y=c.times[m]*r;if(!(y<t||y>=i)){h.push(c.times[m]);for(let v=0;v<d;++v)p.push(c.values[m*d+v])}}h.length!==0&&(c.times=Xa(h,c.times.constructor),c.values=Xa(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function Q5(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(A){return A.name===a.name&&A.ValueTypeName===l});if(c===void 0)continue;let d=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const y=a.times.length-1;let v;if(s<=a.times[0]){const A=d,_=h-d;v=pr(a.values,A,_)}else if(s>=a.times[y]){const A=y*h+d,_=A+h-d;v=pr(a.values,A,_)}else{const A=a.createInterpolant(),_=d,w=h-d;A.evaluate(s),v=pr(A.resultBuffer,_,w)}l==="quaternion"&&new Qn().fromArray(v).normalize().conjugate().toArray(v);const x=c.times.length;for(let A=0;A<x;++A){const _=A*m+p;if(l==="quaternion")Qn.multiplyQuaternionsFlat(c.values,_,v,0,c.values,_);else{const w=m-p*2;for(let M=0;M<w;++M)c.values[_+M]-=v[M]}}}return n.blendMode=$A,n}var q5=Object.freeze({__proto__:null,arraySlice:pr,convertArray:Xa,flattenJSON:MS,getKeyframeOrder:GL,isTypedArray:wS,makeClipAdditive:Q5,sortedArray:i1,subclip:Y5});class uc{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class HL extends uc{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Wa,endingEnd:Wa}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case ja:s=e,a=2*t-i;break;case td:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case ja:o=e,l=2*i-t;break;case td:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,d=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,y=(i-t)/(r-t),v=y*y,x=v*y,A=-p*x+2*p*v-p*y,_=(1+p)*x+(-1.5-2*p)*v+(-.5+p)*y+1,w=(-1-m)*x+(1.5+m)*v+.5*y,M=m*x-m*v;for(let E=0;E!==a;++E)s[E]=A*o[d+E]+_*o[c+E]+w*o[l+E]+M*o[h+E];return s}}class CS extends uc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=(i-t)/(r-t),h=1-d;for(let p=0;p!==a;++p)s[p]=o[c+p]*h+o[l+p]*d;return s}}class VL extends uc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Xr{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Xa(t,this.TimeBufferType),this.values=Xa(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Xa(e.times,Array),values:Xa(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new VL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new CS(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new HL(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Gu:t=this.InterpolantFactoryMethodDiscrete;break;case fl:t=this.InterpolantFactoryMethodLinear;break;case Tm:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Gu;case this.InterpolantFactoryMethodLinear:return fl;case this.InterpolantFactoryMethodSmooth:return Tm}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=pr(i,s,o),this.values=pr(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&wS(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=pr(this.times),t=pr(this.values),i=this.getValueSize(),r=this.getInterpolation()===Tm,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],d=e[a+1];if(c!==d&&(a!==1||c!==e[0]))if(r)l=!0;else{const h=a*i,p=h-i,m=h+i;for(let y=0;y!==i;++y){const v=t[h+y];if(v!==t[p+y]||v!==t[m+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=pr(e,0,o),this.values=pr(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=pr(this.times,0),t=pr(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Xr.prototype.TimeBufferType=Float32Array;Xr.prototype.ValueBufferType=Float32Array;Xr.prototype.DefaultInterpolation=fl;class vl extends Xr{}vl.prototype.ValueTypeName="bool";vl.prototype.ValueBufferType=Array;vl.prototype.DefaultInterpolation=Gu;vl.prototype.InterpolantFactoryMethodLinear=void 0;vl.prototype.InterpolantFactoryMethodSmooth=void 0;class bS extends Xr{}bS.prototype.ValueTypeName="color";class ju extends Xr{}ju.prototype.ValueTypeName="number";class WL extends uc{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let d=c+a;c!==d;c+=4)Qn.slerpFlat(s,0,o,c-a,o,c,l);return s}}class qo extends Xr{InterpolantFactoryMethodLinear(e){return new WL(this.times,this.values,this.getValueSize(),e)}}qo.prototype.ValueTypeName="quaternion";qo.prototype.DefaultInterpolation=fl;qo.prototype.InterpolantFactoryMethodSmooth=void 0;class yl extends Xr{}yl.prototype.ValueTypeName="string";yl.prototype.ValueBufferType=Array;yl.prototype.DefaultInterpolation=Gu;yl.prototype.InterpolantFactoryMethodLinear=void 0;yl.prototype.InterpolantFactoryMethodSmooth=void 0;class Ju extends Xr{}Ju.prototype.ValueTypeName="vector";class Xu{constructor(e,t=-1,i,r=i0){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Xi(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push($5(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Xr.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const d=GL(l);l=i1(l,1,d),c=i1(c,1,d),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new ju(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],d=c.name.match(s);if(d&&d.length>1){const h=d[1];let p=r[h];p||(r[h]=p=[]),p.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,p,m,y,v){if(m.length!==0){const x=[],A=[];MS(m,x,A,y),x.length!==0&&v.push(new h(p,x,A))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const p=c[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let v=0;v<p[y].morphTargets.length;v++)m[p[y].morphTargets[v]]=-1;for(const v in m){const x=[],A=[];for(let _=0;_!==p[y].morphTargets.length;++_){const w=p[y];x.push(w.time),A.push(w.morphTarget===v?1:0)}r.push(new ju(".morphTargetInfluence["+v+"]",x,A))}l=m.length*o}else{const m=".bones["+t[h].name+"]";i(Ju,m+".position",p,"pos",r),i(qo,m+".quaternion",p,"rot",r),i(Ju,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Z5(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ju;case"vector":case"vector2":case"vector3":case"vector4":return Ju;case"color":return bS;case"quaternion":return qo;case"bool":case"boolean":return vl;case"string":return yl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function $5(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Z5(n.type);if(n.times===void 0){const t=[],i=[];MS(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const hl={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class ES{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(d){a++,s===!1&&r.onStart!==void 0&&r.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,r.onProgress!==void 0&&r.onProgress(d,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,h){return c.push(d,h),this},this.removeHandler=function(d){const h=c.indexOf(d);return h!==-1&&c.splice(h,2),this},this.getHandler=function(d){for(let h=0,p=c.length;h<p;h+=2){const m=c[h],y=c[h+1];if(m.global&&(m.lastIndex=0),m.test(d))return y}return null}}}const yu=new ES;let Si=class{constructor(e){this.manager=e!==void 0?e:yu,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};const Bs={};class eV extends Error{constructor(e,t){super(e),this.response=t}}class Yi extends Si{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=hl.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Bs[e]!==void 0){Bs[e].push({onLoad:t,onProgress:i,onError:r});return}Bs[e]=[],Bs[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=Bs[e],h=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,y=m!==0;let v=0;const x=new ReadableStream({start(A){_();function _(){h.read().then(({done:w,value:M})=>{if(w)A.close();else{v+=M.byteLength;const E=new ProgressEvent("progress",{lengthComputable:y,loaded:v,total:m});for(let P=0,R=d.length;P<R;P++){const b=d[P];b.onProgress&&b.onProgress(E)}A.enqueue(M),_()}})}}});return new Response(x)}else throw new eV(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(y=>m.decode(y))}}}).then(c=>{hl.add(e,c);const d=Bs[e];delete Bs[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onLoad&&m.onLoad(c)}}).catch(c=>{const d=Bs[e];if(d===void 0)throw this.manager.itemError(e),c;delete Bs[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class tV extends Si{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Yi(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Xu.parse(e[i]);t.push(r)}return t}}class nV extends Si{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new gS,l=new Yi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function d(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=ln),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)d(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let y=0;y<m;y++){o[y]={mipmaps:[]};for(let v=0;v<p.mipmapCount;v++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+v]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=ln),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class ud extends Si{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=hl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=rd("img");function l(){d(),hl.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(h){d(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class iV extends Si{constructor(e){super(e)}load(e,t,i,r){const s=new Bd,o=new ud(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(d){s.images[c]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class rV extends Si{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Pu,a=new Yi(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Kn,o.wrapT=c.wrapT!==void 0?c.wrapT:Kn,o.magFilter=c.magFilter!==void 0?c.magFilter:ln,o.minFilter=c.minFilter!==void 0?c.minFilter:ln,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=ds),c.mipmapCount===1&&(o.minFilter=ln),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},i,r),o}}class jL extends Si{constructor(e){super(e)}load(e,t,i,r){const s=new nn,o=new ud(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class aa extends Dt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Le(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class JL extends aa{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Dt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Le(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Uy=new at,AE=new D,SE=new D;class TS{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ge(512,512),this.map=null,this.mapPass=null,this.matrix=new at,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new s0,this._frameExtents=new ge(1,1),this._viewportCount=1,this._viewports=[new Ut(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;AE.setFromMatrixPosition(e.matrixWorld),t.position.copy(AE),SE.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(SE),t.updateMatrixWorld(),Uy.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Uy),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Uy)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class sV extends TS{constructor(){super(new jt(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=id*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class PS extends aa{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Dt.DEFAULT_UP),this.updateMatrix(),this.target=new Dt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new sV}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const wE=new at,Yc=new D,Gy=new D;class oV extends TS{constructor(){super(new jt(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ge(4,2),this._viewportCount=6,this._viewports=[new Ut(2,1,1,1),new Ut(0,1,1,1),new Ut(3,1,1,1),new Ut(1,1,1,1),new Ut(3,0,1,1),new Ut(1,0,1,1)],this._cubeDirections=[new D(1,0,0),new D(-1,0,0),new D(0,0,1),new D(0,0,-1),new D(0,1,0),new D(0,-1,0)],this._cubeUps=[new D(0,1,0),new D(0,1,0),new D(0,1,0),new D(0,1,0),new D(0,0,1),new D(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Yc.setFromMatrixPosition(e.matrixWorld),i.position.copy(Yc),Gy.copy(i.position),Gy.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(Gy),i.updateMatrixWorld(),r.makeTranslation(-Yc.x,-Yc.y,-Yc.z),wE.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(wE)}}class BS extends aa{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new oV}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class aV extends TS{constructor(){super(new Gr(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class RS extends aa{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Dt.DEFAULT_UP),this.updateMatrix(),this.target=new Dt,this.shadow=new aV}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class XL extends aa{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class KL extends aa{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class YL{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new D)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class h0 extends aa{constructor(e=new YL,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class p0 extends Si{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new Yi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=p0.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Le().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Le().setHex(o.value);break;case"v2":r.uniforms[s].value=new ge().fromArray(o.value);break;case"v3":r.uniforms[s].value=new D().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Ut().fromArray(o.value);break;case"m3":r.uniforms[s].value=new vi().fromArray(o.value);break;case"m4":r.uniforms[s].value=new at().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new ge().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new ge().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:IL,SpriteMaterial:dS,RawShaderMaterial:DL,ShaderMaterial:hs,PointsMaterial:Id,MeshPhysicalMaterial:no,MeshStandardMaterial:lc,MeshPhongMaterial:OL,MeshToonMaterial:FL,MeshNormalMaterial:kL,MeshLambertMaterial:NL,MeshDepthMaterial:uS,MeshDistanceMaterial:cS,MeshBasicMaterial:ji,MeshMatcapMaterial:zL,LineDashedMaterial:UL,LineBasicMaterial:li,Material:Pn};return new t[e]}}class us{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class QL extends ft{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class qL extends Si{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Yi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,y){if(t[y]!==void 0)return t[y];const x=m.interleavedBuffers[y],A=s(m,x.buffer),_=mu(x.type,A),w=new Rd(_,x.stride);return w.uuid=x.uuid,t[y]=w,w}function s(m,y){if(i[y]!==void 0)return i[y];const x=m.arrayBuffers[y],A=new Uint32Array(x).buffer;return i[y]=A,A}const o=e.isInstancedBufferGeometry?new QL:new ft,a=e.data.index;if(a!==void 0){const m=mu(a.type,a.array);o.setIndex(new Nt(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let v;if(y.isInterleavedBufferAttribute){const x=r(e.data,y.data);v=new Qo(x,y.itemSize,y.offset,y.normalized)}else{const x=mu(y.type,y.array),A=y.isInstancedBufferAttribute?Wu:Nt;v=new A(x,y.itemSize,y.normalized)}y.name!==void 0&&(v.name=y.name),y.usage!==void 0&&v.setUsage(y.usage),y.updateRange!==void 0&&(v.updateRange.offset=y.updateRange.offset,v.updateRange.count=y.updateRange.count),o.setAttribute(m,v)}const c=e.data.morphAttributes;if(c)for(const m in c){const y=c[m],v=[];for(let x=0,A=y.length;x<A;x++){const _=y[x];let w;if(_.isInterleavedBufferAttribute){const M=r(e.data,_.data);w=new Qo(M,_.itemSize,_.offset,_.normalized)}else{const M=mu(_.type,_.array);w=new Nt(M,_.itemSize,_.normalized)}_.name!==void 0&&(w.name=_.name),v.push(w)}o.morphAttributes[m]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,y=h.length;m!==y;++m){const v=h[m];o.addGroup(v.start,v.count,v.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new D;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new sa(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class lV extends Si{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?us.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Yi(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?us.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Yi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),d=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,d),t!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new il().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Ld().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new qL;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in _E?a=_E[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new p0;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Xu.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(d)}else return l.data?{data:mu(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new ES(t);s=new ud(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,d=e.length;c<d;c++){const h=e[c],p=h.url;if(Array.isArray(p)){const m=[];for(let y=0,v=p.length;y<v;y++){const x=p[y],A=a(x);A!==null&&(A instanceof HTMLImageElement?m.push(A):m.push(new Pu(A.data,A.width,A.height)))}r[h.uuid]=new Ja(m)}else{const m=a(h.url);r[h.uuid]=new Ja(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:mu(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new ud(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const d=[];for(let h=0,p=c.length;h<p;h++){const m=c[h],y=await s(m);y!==null&&(y instanceof HTMLImageElement?d.push(y):d.push(new Pu(y.data,y.width,y.height)))}i[l.uuid]=new Ja(d)}else{const d=await s(l.url);i[l.uuid]=new Ja(d)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let d;Array.isArray(c)?(d=new Bd,c.length===6&&(d.needsUpdate=!0)):(c&&c.data?d=new Pu:d=new nn,c&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=i(a.mapping,uV)),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=i(a.wrap[0],ME),d.wrapT=i(a.wrap[1],ME)),a.format!==void 0&&(d.format=a.format),a.type!==void 0&&(d.type=a.type),a.encoding!==void 0&&(d.encoding=a.encoding),a.minFilter!==void 0&&(d.minFilter=i(a.minFilter,CE)),a.magFilter!==void 0&&(d.magFilter=i(a.magFilter,CE)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(d.userData=a.userData),r[a.uuid]=d}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let y=0,v=p.length;y<v;y++){const x=p[y];i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(i[x])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function c(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let d,h;switch(e.type){case"Scene":o=new ug,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Le(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new l0(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new a0(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new jt(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Gr(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new XL(e.color,e.intensity);break;case"DirectionalLight":o=new RS(e.color,e.intensity);break;case"PointLight":o=new BS(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new KL(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new PS(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new JL(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new h0().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),h=l(e.material),o=new hS(d,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),h=l(e.material),o=new Wn(d,h);break;case"InstancedMesh":d=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,y=e.instanceColor;o=new SL(d,h,p),o.instanceMatrix=new Wu(new Float32Array(m.array),16),y!==void 0&&(o.instanceColor=new Wu(new Float32Array(y.array),y.itemSize));break;case"LOD":o=new AL;break;case"Line":o=new Zs(a(e.geometry),l(e.material));break;case"LineLoop":o=new pS(a(e.geometry),l(e.material));break;case"LineSegments":o=new jr(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new mS(a(e.geometry),l(e.material));break;case"Sprite":o=new _L(l(e.material));break;case"Group":o=new Us;break;case"Bone":o=new u0;break;default:o=new Dt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const y=p[m];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const y=p[m],v=o.getObjectByProperty("uuid",y.object);v!==void 0&&o.addLevel(v,y.distance,y.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const uV={UVMapping:t0,CubeReflectionMapping:Xo,CubeRefractionMapping:Ko,EquirectangularReflectionMapping:Zf,EquirectangularRefractionMapping:$f,CubeUVReflectionMapping:nc},ME={RepeatWrapping:Yo,ClampToEdgeWrapping:Kn,MirroredRepeatWrapping:zu},CE={NearestFilter:yn,NearestMipmapNearestFilter:ed,NearestMipmapLinearFilter:Tu,LinearFilter:ln,LinearMipmapNearestFilter:n0,LinearMipmapLinearFilter:ds};class ZL extends Si{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=hl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){hl.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Kp;class LS{static getContext(){return Kp===void 0&&(Kp=new(window.AudioContext||window.webkitAudioContext)),Kp}static setContext(e){Kp=e}}class cV extends Si{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Yi(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);LS.getContext().decodeAudioData(l,function(d){t(d)})}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}}class fV extends h0{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new Le().set(e),s=new Le().set(t),o=new D(r.r,r.g,r.b),a=new D(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class dV extends h0{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new Le().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const bE=new at,EE=new at,Sa=new at;class hV{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new jt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new jt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Sa.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(el*t.fov*.5)/t.zoom;let a,l;EE.elements[12]=-r,bE.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,Sa.elements[0]=2*t.near/(l-a),Sa.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Sa),a=-o*t.aspect-s,l=o*t.aspect-s,Sa.elements[0]=2*t.near/(l-a),Sa.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Sa)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(EE),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(bE)}}class IS{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=TE(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=TE();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function TE(){return(typeof performance>"u"?Date:performance).now()}const wa=new D,PE=new Qn,pV=new D,Ma=new D;class mV extends Dt{constructor(){super(),this.type="AudioListener",this.context=LS.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new IS}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(wa,PE,pV),Ma.set(0,0,-1).applyQuaternion(PE),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(wa.x,r),t.positionY.linearRampToValueAtTime(wa.y,r),t.positionZ.linearRampToValueAtTime(wa.z,r),t.forwardX.linearRampToValueAtTime(Ma.x,r),t.forwardY.linearRampToValueAtTime(Ma.y,r),t.forwardZ.linearRampToValueAtTime(Ma.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(wa.x,wa.y,wa.z),t.setOrientation(Ma.x,Ma.y,Ma.z,i.x,i.y,i.z)}}class $L extends Dt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Ca=new D,BE=new Qn,gV=new D,ba=new D;class vV extends $L{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Ca,BE,gV),ba.set(0,0,1).applyQuaternion(BE);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Ca.x,i),t.positionY.linearRampToValueAtTime(Ca.y,i),t.positionZ.linearRampToValueAtTime(Ca.z,i),t.orientationX.linearRampToValueAtTime(ba.x,i),t.orientationY.linearRampToValueAtTime(ba.y,i),t.orientationZ.linearRampToValueAtTime(ba.z,i)}else t.setPosition(Ca.x,Ca.y,Ca.z),t.setOrientation(ba.x,ba.y,ba.z)}}class yV{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class e3{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){Qn.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;Qn.multiplyQuaternionsFlat(e,o,e,t,e,i),Qn.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const DS="\\[\\]\\.:\\/",xV=new RegExp("["+DS+"]","g"),OS="[^"+DS+"]",_V="[^"+DS.replace("\\.","")+"]",AV=/((?:WC+[\/:])*)/.source.replace("WC",OS),SV=/(WCOD+)?/.source.replace("WCOD",_V),wV=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",OS),MV=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",OS),CV=new RegExp("^"+AV+SV+wV+MV+"$"),bV=["material","materials","bones","map"];class EV{constructor(e,t,i){const r=i||Rt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Rt{constructor(e,t,i){this.path=t,this.parsedPath=i||Rt.parseTrackName(t),this.node=Rt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Rt.Composite(e,t,i):new Rt(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(xV,"")}static parseTrackName(e){const t=CV.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);bV.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Rt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Rt.Composite=EV;Rt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Rt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Rt.prototype.GetterByBindingType=[Rt.prototype._getValue_direct,Rt.prototype._getValue_array,Rt.prototype._getValue_arrayElement,Rt.prototype._getValue_toArray];Rt.prototype.SetterByBindingTypeAndVersioning=[[Rt.prototype._setValue_direct,Rt.prototype._setValue_direct_setNeedsUpdate,Rt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Rt.prototype._setValue_array,Rt.prototype._setValue_array_setNeedsUpdate,Rt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Rt.prototype._setValue_arrayElement,Rt.prototype._setValue_arrayElement_setNeedsUpdate,Rt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Rt.prototype._setValue_fromArray,Rt.prototype._setValue_fromArray_setNeedsUpdate,Rt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class TV{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Xi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let d=0,h=arguments.length;d!==h;++d){const p=arguments[d],m=p.uuid;let y=t[m];if(y===void 0){y=l++,t[m]=y,e.push(p);for(let v=0,x=o;v!==x;++v)s[v].push(new Rt(p,i[v],r[v]))}else if(y<c){a=e[y];const v=--c,x=e[v];t[x.uuid]=y,e[y]=x,t[m]=v,e[v]=p;for(let A=0,_=o;A!==_;++A){const w=s[A],M=w[v];let E=w[y];w[y]=M,E===void 0&&(E=new Rt(p,i[A],r[A])),w[v]=E}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,d=t[c];if(d!==void 0&&d>=s){const h=s++,p=e[h];t[p.uuid]=d,e[d]=p,t[c]=h,e[h]=l;for(let m=0,y=r;m!==y;++m){const v=i[m],x=v[h],A=v[d];v[d]=x,v[h]=A}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],d=c.uuid,h=t[d];if(h!==void 0)if(delete t[d],h<s){const p=--s,m=e[p],y=--o,v=e[y];t[m.uuid]=h,e[h]=m,t[v.uuid]=p,e[p]=v,e.pop();for(let x=0,A=r;x!==A;++x){const _=i[x],w=_[p],M=_[y];_[h]=w,_[p]=M,_.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let y=0,v=r;y!==v;++y){const x=i[y];x[h]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,d=this.nCachedObjects_,h=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(h);for(let p=d,m=l.length;p!==m;++p){const y=l[p];h[p]=new Rt(y,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class PV{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Wa,endingEnd:Wa};for(let c=0;c!==o;++c){const d=s[c].createInterpolant(null);a[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=qR,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case $A:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),c[d].accumulateAdditive(a);break;case i0:default:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),c[d].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===ZR;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===QR){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=ja,r.endingEnd=ja):(e?r.endingStart=this.zeroSlopeAtStart?ja:Wa:r.endingStart=td,t?r.endingEnd=this.zeroSlopeAtEnd?ja:Wa:r.endingEnd=td)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const BV=new Float32Array(1);class RV extends ps{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let d=c[l];d===void 0&&(d={},c[l]=d);for(let h=0;h!==s;++h){const p=r[h],m=p.name;let y=d[m];if(y!==void 0)++y.referenceCount,o[h]=y;else{if(y=o[h],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const v=t&&t._propertyBindings[h].binding.parsedPath;y=new e3(Rt.create(i,m,v),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),o[h]=y}a[h].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new CS(new Float32Array(2),new Float32Array(2),1,BV),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?Xu.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=i0),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const d=new PV(this,o,t,i);return this._bindAction(d,c),this._addInactiveAction(d,a,s),d}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?Xu.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const d=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=d,t[d]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class FS{constructor(e){this.value=e}clone(){return new FS(this.value.clone===void 0?this.value:this.value.clone())}}let LV=0;class IV extends ps{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:LV++}),this.name="",this.usage=nd,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class DV extends Rd{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class OV{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class t3{constructor(e,t,i=0,r=1/0){this.ray=new Ed(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new nl,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return r1(e,this,i,t),i.sort(RE),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)r1(e[r],this,i,t);return i.sort(RE),i}}function RE(n,e){return n.distance-e.distance}function r1(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)r1(r[s],e,t,!0)}}class s1{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(wn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class FV{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const LE=new ge;class kV{constructor(e=new ge(1/0,1/0),t=new ge(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=LE.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return LE.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const IE=new D,Yp=new D;class NV{constructor(e=new D,t=new D){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){IE.subVectors(e,this.start),Yp.subVectors(this.end,this.start);const i=Yp.dot(Yp);let s=Yp.dot(IE)/i;return t&&(s=wn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const DE=new D;class zV extends Dt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new ft,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,d=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new Je(r,3));const s=new li({fog:!1,toneMapped:!1});this.cone=new jr(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),DE.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(DE),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const vo=new D,Qp=new at,Hy=new at;class UV extends jr{constructor(e){const t=n3(e),i=new ft,r=[],s=[],o=new Le(0,0,1),a=new Le(0,1,0);for(let c=0;c<t.length;c++){const d=t[c];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Je(r,3)),i.setAttribute("color",new Je(s,3));const l=new li({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");Hy.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Qp.multiplyMatrices(Hy,a.matrixWorld),vo.setFromMatrixPosition(Qp),r.setXYZ(o,vo.x,vo.y,vo.z),Qp.multiplyMatrices(Hy,a.parent.matrixWorld),vo.setFromMatrixPosition(Qp),r.setXYZ(o+1,vo.x,vo.y,vo.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function n3(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,n3(n.children[t]));return e}class GV extends Wn{constructor(e,t,i){const r=new ac(t,4,2),s=new ji({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const HV=new D,OE=new Le,FE=new Le;class VV extends Dt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new oc(t);r.rotateY(Math.PI*.5),this.material=new ji({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Nt(o,3)),this.add(new Wn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");OE.copy(this.light.color),FE.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?OE:FE;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(HV.setFromMatrixPosition(this.light.matrixWorld).negate())}}class WV extends jr{constructor(e=10,t=10,i=4473924,r=8947848){i=new Le(i),r=new Le(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,y=-a;p<=t;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const v=p===s?i:r;v.toArray(c,m),m+=3,v.toArray(c,m),m+=3,v.toArray(c,m),m+=3,v.toArray(c,m),m+=3}const d=new ft;d.setAttribute("position",new Je(l,3)),d.setAttribute("color",new Je(c,3));const h=new li({vertexColors:!0,toneMapped:!1});super(d,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class jV extends jr{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new Le(s),o=new Le(o);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const p=h/t*(Math.PI*2),m=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,y);const v=h&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let h=0;h<i;h++){const p=h&1?s:o,m=e-e/i*h;for(let y=0;y<r;y++){let v=y/r*(Math.PI*2),x=Math.sin(v)*m,A=Math.cos(v)*m;a.push(x,0,A),l.push(p.r,p.g,p.b),v=(y+1)/r*(Math.PI*2),x=Math.sin(v)*m,A=Math.cos(v)*m,a.push(x,0,A),l.push(p.r,p.g,p.b)}}const c=new ft;c.setAttribute("position",new Je(a,3)),c.setAttribute("color",new Je(l,3));const d=new li({vertexColors:!0,toneMapped:!1});super(c,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const kE=new D,qp=new D,NE=new D;class JV extends Dt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new ft;r.setAttribute("position",new Je([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new li({fog:!1,toneMapped:!1});this.lightPlane=new Zs(r,s),this.add(this.lightPlane),r=new ft,r.setAttribute("position",new Je([0,0,0,0,0,1],3)),this.targetLine=new Zs(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),kE.setFromMatrixPosition(this.light.matrixWorld),qp.setFromMatrixPosition(this.light.target.matrixWorld),NE.subVectors(qp,kE),this.lightPlane.lookAt(qp),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(qp),this.targetLine.scale.z=NE.length()}}const Zp=new D,gn=new Pd;class XV extends jr{constructor(e){const t=new ft,i=new li({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,v){l(y),l(v)}function l(y){r.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(r.length/3-1)}t.setAttribute("position",new Je(r,3)),t.setAttribute("color",new Je(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Le(16755200),d=new Le(16711680),h=new Le(43775),p=new Le(16777215),m=new Le(3355443);this.setColors(c,d,h,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;gn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),An("c",t,e,gn,0,0,-1),An("t",t,e,gn,0,0,1),An("n1",t,e,gn,-i,-r,-1),An("n2",t,e,gn,i,-r,-1),An("n3",t,e,gn,-i,r,-1),An("n4",t,e,gn,i,r,-1),An("f1",t,e,gn,-i,-r,1),An("f2",t,e,gn,i,-r,1),An("f3",t,e,gn,-i,r,1),An("f4",t,e,gn,i,r,1),An("u1",t,e,gn,i*.7,r*1.1,-1),An("u2",t,e,gn,-i*.7,r*1.1,-1),An("u3",t,e,gn,0,r*2,-1),An("cf1",t,e,gn,-i,0,1),An("cf2",t,e,gn,i,0,1),An("cf3",t,e,gn,0,-r,1),An("cf4",t,e,gn,0,r,1),An("cn1",t,e,gn,-i,0,-1),An("cn2",t,e,gn,i,0,-1),An("cn3",t,e,gn,0,-r,-1),An("cn4",t,e,gn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function An(n,e,t,i,r,s,o){Zp.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,d=a.length;c<d;c++)l.setXYZ(a[c],Zp.x,Zp.y,Zp.z)}}const $p=new ra;class KV extends jr{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new ft;s.setIndex(new Nt(i,1)),s.setAttribute("position",new Nt(r,3)),super(s,new li({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&$p.setFromObject(this.object),$p.isEmpty())return;const t=$p.min,i=$p.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class YV extends jr{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ft;s.setIndex(new Nt(i,1)),s.setAttribute("position",new Je(r,3)),super(s,new li({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class QV extends Zs{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new ft;o.setAttribute("position",new Je(s,3)),o.computeBoundingSphere(),super(o,new li({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new ft;l.setAttribute("position",new Je(a,3)),l.computeBoundingSphere(),this.add(new Wn(l,new ji({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const zE=new D;let em,Vy;class qV extends Dt{constructor(e=new D(0,0,1),t=new D(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",em===void 0&&(em=new ft,em.setAttribute("position",new Je([0,0,0,0,1,0],3)),Vy=new gl(0,.5,1,5,1),Vy.translate(0,-.5,0)),this.position.copy(t),this.line=new Zs(em,new li({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Wn(Vy,new ji({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{zE.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(zE,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class ZV extends jr{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new ft;r.setAttribute("position",new Je(t,3)),r.setAttribute("color",new Je(i,3));const s=new li({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Le,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class $V{constructor(){this.type="ShapePath",this.color=new Le,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new sd,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(A){const _=[];for(let w=0,M=A.length;w<M;w++){const E=A[w],P=new il;P.curves=E.curves,_.push(P)}return _}function i(A,_){const w=_.length;let M=!1;for(let E=w-1,P=0;P<w;E=P++){let R=_[E],b=_[P],B=b.x-R.x,L=b.y-R.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(R=_[P],B=-B,b=_[E],L=-L),A.y<R.y||A.y>b.y)continue;if(A.y===R.y){if(A.x===R.x)return!0}else{const O=L*(A.x-R.x)-B*(A.y-R.y);if(O===0)return!0;if(O<0)continue;M=!M}}else{if(A.y!==R.y)continue;if(b.x<=A.x&&A.x<=R.x||R.x<=A.x&&A.x<=b.x)return!0}}return M}const r=ls.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new il,l.curves=a.curves,c.push(l),c;let d=!r(s[0].getPoints());d=e?!d:d;const h=[],p=[];let m=[],y=0,v;p[y]=void 0,m[y]=[];for(let A=0,_=s.length;A<_;A++)a=s[A],v=a.getPoints(),o=r(v),o=e?!o:o,o?(!d&&p[y]&&y++,p[y]={s:new il,p:v},p[y].s.curves=a.curves,d&&y++,m[y]=[]):m[y].push({h:a,p:v[0]});if(!p[0])return t(s);if(p.length>1){let A=!1,_=0;for(let w=0,M=p.length;w<M;w++)h[w]=[];for(let w=0,M=p.length;w<M;w++){const E=m[w];for(let P=0;P<E.length;P++){const R=E[P];let b=!0;for(let B=0;B<p.length;B++)i(R.p,p[B].p)&&(w!==B&&_++,b?(b=!1,h[B].push(R)):A=!0);b&&h[w].push(R)}}_>0&&A===!1&&(m=h)}let x;for(let A=0,_=p.length;A<_;A++){l=p[A].s,c.push(l),x=m[A];for(let w=0,M=x.length;w<M;w++)l.holes.push(x[w].h)}return c}}const Ds=e9();function e9(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;!(c&8388608);)c<<=1,d-=8388608;c&=-8388609,d+=947912704,s[l]=c|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function t9(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=wn(n,-65504,65504),Ds.floatView[0]=n;const e=Ds.uint32View[0],t=e>>23&511;return Ds.baseTable[t]+((e&8388607)>>Ds.shiftTable[t])}function n9(n){const e=n>>10;return Ds.uint32View[0]=Ds.mantissaTable[Ds.offsetTable[e]+(n&1023)]+Ds.exponentTable[e],Ds.floatView[0]}var i9=Object.freeze({__proto__:null,fromHalfFloat:n9,toHalfFloat:t9});class r9 extends oa{constructor(e,t,i,r,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,i,r,s,o)}}class s9 extends Dd{constructor(e,t,i,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,i,r)}}class o9 extends Od{constructor(e,t,i,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,i,r)}}class a9 extends Fd{constructor(e,t,i,r,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,i,r,s,o,a)}}class l9 extends gl{constructor(e,t,i,r,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,i,r,s,o,a,l)}}class u9 extends kd{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class c9 extends Nd{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class f9 extends zd{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class d9 extends sc{constructor(e,t,i,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,i,r)}}class h9 extends oc{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class p9 extends ic{constructor(e,t,i,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,i,r)}}class m9 extends to{constructor(e,t,i,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,i,r)}}class g9 extends Ud{constructor(e,t,i,r,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,i,r,s,o)}}class v9 extends Gd{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class y9 extends ac{constructor(e,t,i,r,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,i,r,s,o,a)}}class x9 extends Hd{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class _9 extends Vd{constructor(e,t,i,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,i,r,s)}}class A9 extends Wd{constructor(e,t,i,r,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,i,r,s,o)}}class S9 extends jd{constructor(e,t,i,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,i,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:$g}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=$g);const w9=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:qA,AddEquation:ka,AddOperation:BR,AdditiveAnimationBlendMode:$A,AdditiveBlending:S_,AlphaFormat:UR,AlwaysDepth:wR,AlwaysStencilFunc:iL,AmbientLight:XL,AmbientLightProbe:dV,AnimationClip:Xu,AnimationLoader:tV,AnimationMixer:RV,AnimationObjectGroup:TV,AnimationUtils:q5,ArcCurve:wL,ArrayCamera:gL,ArrowHelper:qV,Audio:$L,AudioAnalyser:yV,AudioContext:LS,AudioListener:mV,AudioLoader:cV,AxesHelper:ZV,BackSide:Oi,BasicDepthPacking:eL,BasicShadowMap:uR,Bone:u0,BooleanKeyframeTrack:vl,Box2:kV,Box3:ra,Box3Helper:YV,BoxBufferGeometry:r9,BoxGeometry:oa,BoxHelper:KV,BufferAttribute:Nt,BufferGeometry:ft,BufferGeometryLoader:qL,ByteType:OR,Cache:hl,Camera:Pd,CameraHelper:XV,CanvasTexture:A5,CapsuleBufferGeometry:s9,CapsuleGeometry:Dd,CatmullRomCurve3:ML,CineonToneMapping:IR,CircleBufferGeometry:o9,CircleGeometry:Od,ClampToEdgeWrapping:Kn,Clock:IS,Color:Le,ColorKeyframeTrack:bS,ColorManagement:si,CompressedArrayTexture:_5,CompressedTexture:gS,CompressedTextureLoader:nV,ConeBufferGeometry:a9,ConeGeometry:Fd,CubeCamera:oS,CubeReflectionMapping:Xo,CubeRefractionMapping:Ko,CubeTexture:Bd,CubeTextureLoader:iV,CubeUVReflectionMapping:nc,CubicBezierCurve:yS,CubicBezierCurve3:CL,CubicInterpolant:HL,CullFaceBack:A_,CullFaceFront:lR,CullFaceFrontBack:bN,CullFaceNone:aR,Curve:Jr,CurvePath:EL,CustomBlending:cR,CustomToneMapping:DR,CylinderBufferGeometry:l9,CylinderGeometry:gl,Cylindrical:FV,Data3DTexture:iS,DataArrayTexture:r0,DataTexture:Pu,DataTextureLoader:rV,DataUtils:i9,DecrementStencilOp:kN,DecrementWrapStencilOp:zN,DefaultLoadingManager:yu,DepthFormat:Ho,DepthStencilFormat:cl,DepthTexture:vL,DirectionalLight:RS,DirectionalLightHelper:JV,DiscreteInterpolant:VL,DodecahedronBufferGeometry:u9,DodecahedronGeometry:kd,DoubleSide:kr,DstAlphaFactor:vR,DstColorFactor:xR,DynamicCopyUsage:$N,DynamicDrawUsage:$a,DynamicReadUsage:QN,EdgesGeometry:TL,EllipseCurve:c0,EqualDepth:CR,EqualStencilFunc:VN,EquirectangularReflectionMapping:Zf,EquirectangularRefractionMapping:$f,Euler:Td,EventDispatcher:ps,ExtrudeBufferGeometry:c9,ExtrudeGeometry:Nd,FileLoader:Yi,Float16BufferAttribute:Iz,Float32BufferAttribute:Je,Float64BufferAttribute:Dz,FloatType:Ns,Fog:l0,FogExp2:a0,FramebufferTexture:x5,FrontSide:fs,Frustum:s0,GLBufferAttribute:OV,GLSL1:tz,GLSL3:Q_,GreaterDepth:ER,GreaterEqualDepth:bR,GreaterEqualStencilFunc:XN,GreaterStencilFunc:jN,GridHelper:WV,Group:Us,HalfFloatType:Uu,HemisphereLight:JL,HemisphereLightHelper:VV,HemisphereLightProbe:fV,IcosahedronBufferGeometry:f9,IcosahedronGeometry:zd,ImageBitmapLoader:ZL,ImageLoader:ud,ImageUtils:nS,IncrementStencilOp:FN,IncrementWrapStencilOp:NN,InstancedBufferAttribute:Wu,InstancedBufferGeometry:QL,InstancedInterleavedBuffer:DV,InstancedMesh:SL,Int16BufferAttribute:Rz,Int32BufferAttribute:Lz,Int8BufferAttribute:Tz,IntType:kR,InterleavedBuffer:Rd,InterleavedBufferAttribute:Qo,Interpolant:uc,InterpolateDiscrete:Gu,InterpolateLinear:fl,InterpolateSmooth:Tm,InvertStencilOp:UN,KeepStencilOp:Pm,KeyframeTrack:Xr,LOD:AL,LatheBufferGeometry:d9,LatheGeometry:sc,Layers:nl,LessDepth:MR,LessEqualDepth:og,LessEqualStencilFunc:WN,LessStencilFunc:HN,Light:aa,LightProbe:h0,Line:Zs,Line3:NV,LineBasicMaterial:li,LineCurve:f0,LineCurve3:bL,LineDashedMaterial:UL,LineLoop:pS,LineSegments:jr,LinearEncoding:qs,LinearFilter:ln,LinearInterpolant:CS,LinearMipMapLinearFilter:RN,LinearMipMapNearestFilter:BN,LinearMipmapLinearFilter:ds,LinearMipmapNearestFilter:n0,LinearSRGBColorSpace:Hu,LinearToneMapping:RR,Loader:Si,LoaderUtils:us,LoadingManager:ES,LoopOnce:QR,LoopPingPong:ZR,LoopRepeat:qR,LuminanceAlphaFormat:HR,LuminanceFormat:GR,MOUSE:Ra,Material:Pn,MaterialLoader:p0,MathUtils:sL,Matrix3:vi,Matrix4:at,MaxEquation:b_,Mesh:Wn,MeshBasicMaterial:ji,MeshDepthMaterial:uS,MeshDistanceMaterial:cS,MeshLambertMaterial:NL,MeshMatcapMaterial:zL,MeshNormalMaterial:kL,MeshPhongMaterial:OL,MeshPhysicalMaterial:no,MeshStandardMaterial:lc,MeshToonMaterial:FL,MinEquation:C_,MirroredRepeatWrapping:zu,MixOperation:PR,MultiplyBlending:M_,MultiplyOperation:bd,NearestFilter:yn,NearestMipMapLinearFilter:PN,NearestMipMapNearestFilter:TN,NearestMipmapLinearFilter:Tu,NearestMipmapNearestFilter:ed,NeverDepth:SR,NeverStencilFunc:GN,NoBlending:Vs,NoColorSpace:IN,NoToneMapping:Ur,NormalAnimationBlendMode:i0,NormalBlending:qa,NotEqualDepth:TR,NotEqualStencilFunc:JN,NumberKeyframeTrack:ju,Object3D:Dt,ObjectLoader:lV,ObjectSpaceNormalMap:nL,OctahedronBufferGeometry:h9,OctahedronGeometry:oc,OneFactor:pR,OneMinusDstAlphaFactor:yR,OneMinusDstColorFactor:_R,OneMinusSrcAlphaFactor:QA,OneMinusSrcColorFactor:gR,OrthographicCamera:Gr,PCFShadowMap:e0,PCFSoftShadowMap:Sf,PMREMGenerator:Z_,Path:sd,PerspectiveCamera:jt,Plane:Mo,PlaneBufferGeometry:p9,PlaneGeometry:ic,PlaneHelper:QV,PointLight:BS,PointLightHelper:GV,Points:mS,PointsMaterial:Id,PolarGridHelper:jV,PolyhedronBufferGeometry:m9,PolyhedronGeometry:to,PositionalAudio:vV,PropertyBinding:Rt,PropertyMixer:e3,QuadraticBezierCurve:xS,QuadraticBezierCurve3:_S,Quaternion:Qn,QuaternionKeyframeTrack:qo,QuaternionLinearInterpolant:WL,RED_GREEN_RGTC2_Format:K_,RED_RGTC1_Format:YR,REVISION:$g,RGBADepthPacking:tL,RGBAFormat:Bi,RGBAIntegerFormat:XR,RGBA_ASTC_10x10_Format:W_,RGBA_ASTC_10x5_Format:G_,RGBA_ASTC_10x6_Format:H_,RGBA_ASTC_10x8_Format:V_,RGBA_ASTC_12x10_Format:j_,RGBA_ASTC_12x12_Format:J_,RGBA_ASTC_4x4_Format:I_,RGBA_ASTC_5x4_Format:D_,RGBA_ASTC_5x5_Format:O_,RGBA_ASTC_6x5_Format:F_,RGBA_ASTC_6x6_Format:k_,RGBA_ASTC_8x5_Format:N_,RGBA_ASTC_8x6_Format:z_,RGBA_ASTC_8x8_Format:U_,RGBA_BPTC_Format:Em,RGBA_ETC2_EAC_Format:L_,RGBA_PVRTC_2BPPV1_Format:B_,RGBA_PVRTC_4BPPV1_Format:P_,RGBA_S3TC_DXT1_Format:Mm,RGBA_S3TC_DXT3_Format:Cm,RGBA_S3TC_DXT5_Format:bm,RGB_ETC1_Format:KR,RGB_ETC2_Format:R_,RGB_PVRTC_2BPPV1_Format:T_,RGB_PVRTC_4BPPV1_Format:E_,RGB_S3TC_DXT1_Format:wm,RGFormat:jR,RGIntegerFormat:JR,RawShaderMaterial:DL,Ray:Ed,Raycaster:t3,RectAreaLight:KL,RedFormat:VR,RedIntegerFormat:WR,ReinhardToneMapping:LR,RepeatWrapping:Yo,ReplaceStencilOp:ON,ReverseSubtractEquation:dR,RingBufferGeometry:g9,RingGeometry:Ud,SIGNED_RED_GREEN_RGTC2_Format:Y_,SIGNED_RED_RGTC1_Format:X_,SRGBColorSpace:Dr,Scene:ug,ShaderChunk:gt,ShaderLib:Fr,ShaderMaterial:hs,ShadowMaterial:IL,Shape:il,ShapeBufferGeometry:v9,ShapeGeometry:Gd,ShapePath:$V,ShapeUtils:ls,ShortType:FR,Skeleton:Ld,SkeletonHelper:UV,SkinnedMesh:hS,Source:Ja,Sphere:sa,SphereBufferGeometry:y9,SphereGeometry:ac,Spherical:s1,SphericalHarmonics3:YL,SplineCurve:AS,SpotLight:PS,SpotLightHelper:zV,Sprite:_L,SpriteMaterial:dS,SrcAlphaFactor:YA,SrcAlphaSaturateFactor:AR,SrcColorFactor:mR,StaticCopyUsage:ZN,StaticDrawUsage:nd,StaticReadUsage:YN,StereoCamera:hV,StreamCopyUsage:ez,StreamDrawUsage:KN,StreamReadUsage:qN,StringKeyframeTrack:yl,SubtractEquation:fR,SubtractiveBlending:w_,TOUCH:La,TangentSpaceNormalMap:eo,TetrahedronBufferGeometry:x9,TetrahedronGeometry:Hd,Texture:nn,TextureLoader:jL,TorusBufferGeometry:_9,TorusGeometry:Vd,TorusKnotBufferGeometry:A9,TorusKnotGeometry:Wd,Triangle:yr,TriangleFanDrawMode:eS,TriangleStripDrawMode:$R,TrianglesDrawMode:LN,TubeBufferGeometry:S9,TubeGeometry:jd,TwoPassDoubleSide:EN,UVMapping:t0,Uint16BufferAttribute:rS,Uint32BufferAttribute:sS,Uint8BufferAttribute:Pz,Uint8ClampedBufferAttribute:Bz,Uniform:FS,UniformsGroup:IV,UniformsLib:Re,UniformsUtils:uL,UnsignedByteType:Qs,UnsignedInt248Type:Za,UnsignedIntType:Ro,UnsignedShort4444Type:NR,UnsignedShort5551Type:zR,UnsignedShortType:ZA,VSMShadowMap:Va,Vector2:ge,Vector3:D,Vector4:Ut,VectorKeyframeTrack:Ju,VideoTexture:y5,WebGL1Renderer:yL,WebGL3DRenderTarget:yz,WebGLArrayRenderTarget:vz,WebGLCubeRenderTarget:aS,WebGLMultipleRenderTargets:xz,WebGLRenderTarget:Vr,WebGLRenderer:fS,WebGLUtils:mL,WireframeGeometry:LL,WrapAroundEnding:td,ZeroCurvatureEnding:Wa,ZeroFactor:hR,ZeroSlopeEnding:ja,ZeroStencilOp:DN,_SRGBAFormat:ag,sRGBEncoding:Pt},Symbol.toStringTag,{value:"Module"}));var Lo={},M9={get exports(){return Lo},set exports(n){Lo=n}},xl={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */xl.ConcurrentRoot=1;xl.ContinuousEventPriority=4;xl.DefaultEventPriority=16;xl.DiscreteEventPriority=1;xl.IdleEventPriority=536870912;xl.LegacyRoot=0;(function(n){n.exports=xl})(M9);function C9(n){let e;const t=new Set,i=(c,d)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const p=e;e=d?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},r=()=>e,s=(c,d=r,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=d(e);function m(){const y=d(e);if(!h(p,y)){const v=p;c(p=y,v)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(c,d,h)=>d||h?s(c,d,h):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(i,r,l),l}const b9=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),UE=b9?G.useEffect:G.useLayoutEffect;function i3(n){const e=typeof n=="function"?C9(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=G.useReducer(x=>x+1,0),o=e.getState(),a=G.useRef(o),l=G.useRef(i),c=G.useRef(r),d=G.useRef(!1),h=G.useRef();h.current===void 0&&(h.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||c.current!==r||d.current)&&(p=i(o),m=!r(h.current,p)),UE(()=>{m&&(h.current=p),a.current=o,l.current=i,c.current=r,d.current=!1});const y=G.useRef(o);UE(()=>{const x=()=>{try{const _=e.getState(),w=l.current(_);c.current(h.current,w)||(a.current=_,h.current=w,s())}catch{d.current=!0,s()}},A=e.subscribe(x);return e.getState()!==y.current&&x(),A},[]);const v=m?p:h.current;return G.useDebugValue(v),v};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var o1={},E9={get exports(){return o1},set exports(n){o1=n}},cd={},T9={get exports(){return cd},set exports(n){cd=n}},r3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(k,X){var K=k.length;k.push(X);e:for(;0<K;){var ae=K-1>>>1,V=k[ae];if(0<r(V,X))k[ae]=X,k[K]=V,K=ae;else break e}}function t(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var X=k[0],K=k.pop();if(K!==X){k[0]=K;e:for(var ae=0,V=k.length,se=V>>>1;ae<se;){var pe=2*(ae+1)-1,_e=k[pe],Z=pe+1,Ne=k[Z];if(0>r(_e,K))Z<V&&0>r(Ne,_e)?(k[ae]=Ne,k[Z]=K,ae=Z):(k[ae]=_e,k[pe]=K,ae=pe);else if(Z<V&&0>r(Ne,K))k[ae]=Ne,k[Z]=K,ae=Z;else break e}}return X}function r(k,X){var K=k.sortIndex-X.sortIndex;return K!==0?K:k.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(k){for(var X=t(c);X!==null;){if(X.callback===null)i(c);else if(X.startTime<=k)i(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(c)}}function M(k){if(v=!1,w(k),!y)if(t(l)!==null)y=!0,ee(E);else{var X=t(c);X!==null&&ie(M,X.startTime-k)}}function E(k,X){y=!1,v&&(v=!1,A(b),b=-1),m=!0;var K=p;try{for(w(X),h=t(l);h!==null&&(!(h.expirationTime>X)||k&&!O());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,p=h.priorityLevel;var V=ae(h.expirationTime<=X);X=n.unstable_now(),typeof V=="function"?h.callback=V:h===t(l)&&i(l),w(X)}else i(l);h=t(l)}if(h!==null)var se=!0;else{var pe=t(c);pe!==null&&ie(M,pe.startTime-X),se=!1}return se}finally{h=null,p=K,m=!1}}var P=!1,R=null,b=-1,B=5,L=-1;function O(){return!(n.unstable_now()-L<B)}function H(){if(R!==null){var k=n.unstable_now();L=k;var X=!0;try{X=R(!0,k)}finally{X?U():(P=!1,R=null)}}else P=!1}var U;if(typeof _=="function")U=function(){_(H)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,J=W.port2;W.port1.onmessage=H,U=function(){J.postMessage(null)}}else U=function(){x(H,0)};function ee(k){R=k,P||(P=!0,U())}function ie(k,X){b=x(function(){k(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,ee(E))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(k){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var K=p;p=X;try{return k()}finally{p=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,X){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var K=p;p=k;try{return X()}finally{p=K}},n.unstable_scheduleCallback=function(k,X,K){var ae=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ae+K:ae):K=ae,k){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=K+V,k={id:d++,callback:X,priorityLevel:k,startTime:K,expirationTime:V,sortIndex:-1},K>ae?(k.sortIndex=K,e(c,k),t(l)===null&&k===t(c)&&(v?(A(b),b=-1):v=!0,ie(M,K-ae))):(k.sortIndex=V,e(l,k),y||m||(y=!0,ee(E))),k},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(k){var X=p;return function(){var K=p;p=X;try{return k.apply(this,arguments)}finally{p=K}}}})(r3);(function(n){n.exports=r3})(T9);/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P9=function(e){var t={},i=G,r=cd,s=Object.assign;function o(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,g=1;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),E=Symbol.iterator;function P(u){return u===null||typeof u!="object"?null:(u=E&&u[E]||u["@@iterator"],typeof u=="function"?u:null)}function R(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case d:return"Fragment";case c:return"Portal";case p:return"Profiler";case h:return"StrictMode";case x:return"Suspense";case A:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case y:return(u.displayName||"Context")+".Consumer";case m:return(u._context.displayName||"Context")+".Provider";case v:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case _:return f=u.displayName||null,f!==null?f:R(u.type)||"Memo";case w:f=u._payload,u=u._init;try{return R(u(f))}catch{}}return null}function b(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(f);case 8:return f===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function B(u){var f=u,g=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(g=f.return),u=f.return;while(u)}return f.tag===3?g:null}function L(u){if(B(u)!==u)throw Error(o(188))}function O(u){var f=u.alternate;if(!f){if(f=B(u),f===null)throw Error(o(188));return f!==u?null:u}for(var g=u,S=f;;){var C=g.return;if(C===null)break;var T=C.alternate;if(T===null){if(S=C.return,S!==null){g=S;continue}break}if(C.child===T.child){for(T=C.child;T;){if(T===g)return L(C),u;if(T===S)return L(C),f;T=T.sibling}throw Error(o(188))}if(g.return!==S.return)g=C,S=T;else{for(var N=!1,Y=C.child;Y;){if(Y===g){N=!0,g=C,S=T;break}if(Y===S){N=!0,S=C,g=T;break}Y=Y.sibling}if(!N){for(Y=T.child;Y;){if(Y===g){N=!0,g=T,S=C;break}if(Y===S){N=!0,S=T,g=C;break}Y=Y.sibling}if(!N)throw Error(o(189))}}if(g.alternate!==S)throw Error(o(190))}if(g.tag!==3)throw Error(o(188));return g.stateNode.current===g?u:f}function H(u){return u=O(u),u!==null?U(u):null}function U(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=U(u);if(f!==null)return f;u=u.sibling}return null}function W(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var f=W(u);if(f!==null)return f}u=u.sibling}return null}var J=Array.isArray,ee=e.getPublicInstance,ie=e.getRootHostContext,k=e.getChildHostContext,X=e.prepareForCommit,K=e.resetAfterCommit,ae=e.createInstance,V=e.appendInitialChild,se=e.finalizeInitialChildren,pe=e.prepareUpdate,_e=e.shouldSetTextContent,Z=e.createTextInstance,Ne=e.scheduleTimeout,ze=e.cancelTimeout,Ve=e.noTimeout,Se=e.isPrimaryRenderer,Ie=e.supportsMutation,he=e.supportsPersistence,le=e.supportsHydration,Ce=e.getInstanceFromNode,Ge=e.preparePortalMount,Be=e.getCurrentEventPriority,Ze=e.detachDeletedInstance,Xe=e.supportsMicrotasks,je=e.scheduleMicrotask,_t=e.supportsTestSelectors,Et=e.findFiberRoot,z=e.getBoundingRect,I=e.getTextContent,oe=e.isHiddenSubtree,we=e.matchAccessibilityRole,be=e.setFocusIfFocusable,Pe=e.setupIntersectionObserver,rt=e.appendChild,De=e.appendChildToContainer,ve=e.commitTextUpdate,Ke=e.commitMount,j=e.commitUpdate,ue=e.insertBefore,Ae=e.insertInContainerBefore,Te=e.removeChild,tt=e.removeChildFromContainer,xt=e.resetTextContent,Xt=e.hideInstance,Q=e.hideTextInstance,fe=e.unhideInstance,xe=e.unhideTextInstance,Ue=e.clearContainer,Qe=e.cloneInstance,Lt=e.createContainerChildSet,xn=e.appendChildToContainerChildSet,kn=e.finalizeContainerChildren,Kr=e.replaceContainerChildren,Ht=e.cloneHiddenInstance,$i=e.cloneHiddenTextInstance,wi=e.canHydrateInstance,nh=e.canHydrateTextInstance,R0=e.canHydrateSuspenseInstance,ih=e.isSuspenseInstancePending,cc=e.isSuspenseInstanceFallback,F=e.registerSuspenseInstanceRetry,te=e.getNextHydratableSibling,me=e.getFirstHydratableChild,$=e.getFirstHydratableChildWithinContainer,ye=e.getFirstHydratableChildWithinSuspenseInstance,$e=e.hydrateInstance,ot=e.hydrateTextInstance,ht=e.hydrateSuspenseInstance,vt=e.getNextHydratableInstanceAfterSuspenseInstance,Tt=e.commitHydratedContainer,Mt=e.commitHydratedSuspenseInstance,Ct=e.clearSuspenseBoundary,hn=e.clearSuspenseBoundaryFromContainer,ui=e.shouldDeleteUnhydratedTailInstances,Mr=e.didNotMatchHydratedContainerTextInstance,ms=e.didNotMatchHydratedTextInstance,qt;function pt(u){if(qt===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);qt=f&&f[1]||""}return`
`+qt+u}var ua=!1;function pn(u,f){if(!u||ua)return"";ua=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Ee){var S=Ee}Reflect.construct(u,[],f)}else{try{f.call()}catch(Ee){S=Ee}u.call(f.prototype)}else{try{throw Error()}catch(Ee){S=Ee}u()}}catch(Ee){if(Ee&&S&&typeof Ee.stack=="string"){for(var C=Ee.stack.split(`
`),T=S.stack.split(`
`),N=C.length-1,Y=T.length-1;1<=N&&0<=Y&&C[N]!==T[Y];)Y--;for(;1<=N&&0<=Y;N--,Y--)if(C[N]!==T[Y]){if(N!==1||Y!==1)do if(N--,Y--,0>Y||C[N]!==T[Y]){var de=`
`+C[N].replace(" at new "," at ");return u.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",u.displayName)),de}while(1<=N&&0<=Y);break}}}finally{ua=!1,Error.prepareStackTrace=g}return(u=u?u.displayName||u.name:"")?pt(u):""}var gs=Object.prototype.hasOwnProperty,Sl=[],er=-1;function tr(u){return{current:u}}function dt(u){0>er||(u.current=Sl[er],Sl[er]=null,er--)}function Bt(u,f){er++,Sl[er]=u.current,u.current=f}var nr={},zt=tr(nr),Nn=tr(!1),vs=nr;function ys(u,f){var g=u.type.contextTypes;if(!g)return nr;var S=u.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===f)return S.__reactInternalMemoizedMaskedChildContext;var C={},T;for(T in g)C[T]=f[T];return S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=C),C}function Mi(u){return u=u.childContextTypes,u!=null}function rh(){dt(Nn),dt(zt)}function ww(u,f,g){if(zt.current!==nr)throw Error(o(168));Bt(zt,f),Bt(Nn,g)}function Mw(u,f,g){var S=u.stateNode;if(f=f.childContextTypes,typeof S.getChildContext!="function")return g;S=S.getChildContext();for(var C in S)if(!(C in f))throw Error(o(108,b(u)||"Unknown",C));return s({},g,S)}function sh(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||nr,vs=zt.current,Bt(zt,u),Bt(Nn,Nn.current),!0}function Cw(u,f,g){var S=u.stateNode;if(!S)throw Error(o(169));g?(u=Mw(u,f,vs),S.__reactInternalMemoizedMergedChildContext=u,dt(Nn),dt(zt),Bt(zt,u)):dt(Nn),Bt(Nn,g)}var Cr=Math.clz32?Math.clz32:ID,RD=Math.log,LD=Math.LN2;function ID(u){return u>>>=0,u===0?32:31-(RD(u)/LD|0)|0}var oh=64,ah=4194304;function fc(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function lh(u,f){var g=u.pendingLanes;if(g===0)return 0;var S=0,C=u.suspendedLanes,T=u.pingedLanes,N=g&268435455;if(N!==0){var Y=N&~C;Y!==0?S=fc(Y):(T&=N,T!==0&&(S=fc(T)))}else N=g&~C,N!==0?S=fc(N):T!==0&&(S=fc(T));if(S===0)return 0;if(f!==0&&f!==S&&!(f&C)&&(C=S&-S,T=f&-f,C>=T||C===16&&(T&4194240)!==0))return f;if(S&4&&(S|=g&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=S;0<f;)g=31-Cr(f),C=1<<g,S|=u[g],f&=~C;return S}function DD(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OD(u,f){for(var g=u.suspendedLanes,S=u.pingedLanes,C=u.expirationTimes,T=u.pendingLanes;0<T;){var N=31-Cr(T),Y=1<<N,de=C[N];de===-1?(!(Y&g)||Y&S)&&(C[N]=DD(Y,f)):de<=f&&(u.expiredLanes|=Y),T&=~Y}}function L0(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function I0(u){for(var f=[],g=0;31>g;g++)f.push(u);return f}function dc(u,f,g){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-Cr(f),u[f]=g}function FD(u,f){var g=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var S=u.eventTimes;for(u=u.expirationTimes;0<g;){var C=31-Cr(g),T=1<<C;f[C]=0,S[C]=-1,u[C]=-1,g&=~T}}function D0(u,f){var g=u.entangledLanes|=f;for(u=u.entanglements;g;){var S=31-Cr(g),C=1<<S;C&f|u[S]&f&&(u[S]|=f),g&=~C}}var Ot=0;function bw(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var O0=r.unstable_scheduleCallback,Ew=r.unstable_cancelCallback,kD=r.unstable_shouldYield,ND=r.unstable_requestPaint,zn=r.unstable_now,F0=r.unstable_ImmediatePriority,zD=r.unstable_UserBlockingPriority,k0=r.unstable_NormalPriority,UD=r.unstable_IdlePriority,uh=null,Yr=null;function GD(u){if(Yr&&typeof Yr.onCommitFiberRoot=="function")try{Yr.onCommitFiberRoot(uh,u,void 0,(u.current.flags&128)===128)}catch{}}function HD(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var Qr=typeof Object.is=="function"?Object.is:HD,xs=null,ch=!1,N0=!1;function Tw(u){xs===null?xs=[u]:xs.push(u)}function VD(u){ch=!0,Tw(u)}function qr(){if(!N0&&xs!==null){N0=!0;var u=0,f=Ot;try{var g=xs;for(Ot=1;u<g.length;u++){var S=g[u];do S=S(!0);while(S!==null)}xs=null,ch=!1}catch(C){throw xs!==null&&(xs=xs.slice(u+1)),O0(F0,qr),C}finally{Ot=f,N0=!1}}return null}var WD=a.ReactCurrentBatchConfig;function fh(u,f){if(Qr(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var g=Object.keys(u),S=Object.keys(f);if(g.length!==S.length)return!1;for(S=0;S<g.length;S++){var C=g[S];if(!gs.call(f,C)||!Qr(u[C],f[C]))return!1}return!0}function jD(u){switch(u.tag){case 5:return pt(u.type);case 16:return pt("Lazy");case 13:return pt("Suspense");case 19:return pt("SuspenseList");case 0:case 2:case 15:return u=pn(u.type,!1),u;case 11:return u=pn(u.type.render,!1),u;case 1:return u=pn(u.type,!0),u;default:return""}}function br(u,f){if(u&&u.defaultProps){f=s({},f),u=u.defaultProps;for(var g in u)f[g]===void 0&&(f[g]=u[g]);return f}return f}var dh=tr(null),hh=null,wl=null,z0=null;function U0(){z0=wl=hh=null}function Pw(u,f,g){Se?(Bt(dh,f._currentValue),f._currentValue=g):(Bt(dh,f._currentValue2),f._currentValue2=g)}function G0(u){var f=dh.current;dt(dh),Se?u._currentValue=f:u._currentValue2=f}function H0(u,f,g){for(;u!==null;){var S=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),u===g)break;u=u.return}}function Ml(u,f){hh=u,z0=wl=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&f&&(zi=!0),u.firstContext=null)}function ir(u){var f=Se?u._currentValue:u._currentValue2;if(z0!==u)if(u={context:u,memoizedValue:f,next:null},wl===null){if(hh===null)throw Error(o(308));wl=u,hh.dependencies={lanes:0,firstContext:u}}else wl=wl.next=u;return f}var Zr=null,io=!1;function V0(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bw(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function _s(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function ro(u,f){var g=u.updateQueue;g!==null&&(g=g.shared,Mn!==null&&u.mode&1&&!(yt&2)?(u=g.interleaved,u===null?(f.next=f,Zr===null?Zr=[g]:Zr.push(g)):(f.next=u.next,u.next=f),g.interleaved=f):(u=g.pending,u===null?f.next=f:(f.next=u.next,u.next=f),g.pending=f))}function ph(u,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194240)!==0)){var S=f.lanes;S&=u.pendingLanes,g|=S,f.lanes=g,D0(u,g)}}function Rw(u,f){var g=u.updateQueue,S=u.alternate;if(S!==null&&(S=S.updateQueue,g===S)){var C=null,T=null;if(g=g.firstBaseUpdate,g!==null){do{var N={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};T===null?C=T=N:T=T.next=N,g=g.next}while(g!==null);T===null?C=T=f:T=T.next=f}else C=T=f;g={baseState:S.baseState,firstBaseUpdate:C,lastBaseUpdate:T,shared:S.shared,effects:S.effects},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=f:u.next=f,g.lastBaseUpdate=f}function mh(u,f,g,S){var C=u.updateQueue;io=!1;var T=C.firstBaseUpdate,N=C.lastBaseUpdate,Y=C.shared.pending;if(Y!==null){C.shared.pending=null;var de=Y,Ee=de.next;de.next=null,N===null?T=Ee:N.next=Ee,N=de;var We=u.alternate;We!==null&&(We=We.updateQueue,Y=We.lastBaseUpdate,Y!==N&&(Y===null?We.firstBaseUpdate=Ee:Y.next=Ee,We.lastBaseUpdate=de))}if(T!==null){var lt=C.baseState;N=0,We=Ee=de=null,Y=T;do{var nt=Y.lane,Vt=Y.eventTime;if((S&nt)===nt){We!==null&&(We=We.next={eventTime:Vt,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var qe=u,ti=Y;switch(nt=f,Vt=g,ti.tag){case 1:if(qe=ti.payload,typeof qe=="function"){lt=qe.call(Vt,lt,nt);break e}lt=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=ti.payload,nt=typeof qe=="function"?qe.call(Vt,lt,nt):qe,nt==null)break e;lt=s({},lt,nt);break e;case 2:io=!0}}Y.callback!==null&&Y.lane!==0&&(u.flags|=64,nt=C.effects,nt===null?C.effects=[Y]:nt.push(Y))}else Vt={eventTime:Vt,lane:nt,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},We===null?(Ee=We=Vt,de=lt):We=We.next=Vt,N|=nt;if(Y=Y.next,Y===null){if(Y=C.shared.pending,Y===null)break;nt=Y,Y=nt.next,nt.next=null,C.lastBaseUpdate=nt,C.shared.pending=null}}while(1);if(We===null&&(de=lt),C.baseState=de,C.firstBaseUpdate=Ee,C.lastBaseUpdate=We,f=C.shared.interleaved,f!==null){C=f;do N|=C.lane,C=C.next;while(C!==f)}else T===null&&(C.shared.lanes=0);Il|=N,u.lanes=N,u.memoizedState=lt}}function Lw(u,f,g){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var S=u[f],C=S.callback;if(C!==null){if(S.callback=null,S=g,typeof C!="function")throw Error(o(191,C));C.call(S)}}}var Iw=new i.Component().refs;function W0(u,f,g,S){f=u.memoizedState,g=g(S,f),g=g==null?f:s({},f,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var gh={isMounted:function(u){return(u=u._reactInternals)?B(u)===u:!1},enqueueSetState:function(u,f,g){u=u._reactInternals;var S=fi(),C=ao(u),T=_s(S,C);T.payload=f,g!=null&&(T.callback=g),ro(u,T),f=lr(u,C,S),f!==null&&ph(f,u,C)},enqueueReplaceState:function(u,f,g){u=u._reactInternals;var S=fi(),C=ao(u),T=_s(S,C);T.tag=1,T.payload=f,g!=null&&(T.callback=g),ro(u,T),f=lr(u,C,S),f!==null&&ph(f,u,C)},enqueueForceUpdate:function(u,f){u=u._reactInternals;var g=fi(),S=ao(u),C=_s(g,S);C.tag=2,f!=null&&(C.callback=f),ro(u,C),f=lr(u,S,g),f!==null&&ph(f,u,S)}};function Dw(u,f,g,S,C,T,N){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(S,T,N):f.prototype&&f.prototype.isPureReactComponent?!fh(g,S)||!fh(C,T):!0}function Ow(u,f,g){var S=!1,C=nr,T=f.contextType;return typeof T=="object"&&T!==null?T=ir(T):(C=Mi(f)?vs:zt.current,S=f.contextTypes,T=(S=S!=null)?ys(u,C):nr),f=new f(g,T),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=gh,u.stateNode=f,f._reactInternals=u,S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=C,u.__reactInternalMemoizedMaskedChildContext=T),f}function Fw(u,f,g,S){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,S),f.state!==u&&gh.enqueueReplaceState(f,f.state,null)}function j0(u,f,g,S){var C=u.stateNode;C.props=g,C.state=u.memoizedState,C.refs=Iw,V0(u);var T=f.contextType;typeof T=="object"&&T!==null?C.context=ir(T):(T=Mi(f)?vs:zt.current,C.context=ys(u,T)),C.state=u.memoizedState,T=f.getDerivedStateFromProps,typeof T=="function"&&(W0(u,f,T,g),C.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(f=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),f!==C.state&&gh.enqueueReplaceState(C,C.state,null),mh(u,g,C,S),C.state=u.memoizedState),typeof C.componentDidMount=="function"&&(u.flags|=4194308)}var Cl=[],bl=0,vh=null,yh=0,rr=[],sr=0,ca=null,As=1,Ss="";function fa(u,f){Cl[bl++]=yh,Cl[bl++]=vh,vh=u,yh=f}function kw(u,f,g){rr[sr++]=As,rr[sr++]=Ss,rr[sr++]=ca,ca=u;var S=As;u=Ss;var C=32-Cr(S)-1;S&=~(1<<C),g+=1;var T=32-Cr(f)+C;if(30<T){var N=C-C%5;T=(S&(1<<N)-1).toString(32),S>>=N,C-=N,As=1<<32-Cr(f)+C|g<<C|S,Ss=T+u}else As=1<<T|g<<C|S,Ss=u}function J0(u){u.return!==null&&(fa(u,1),kw(u,1,0))}function X0(u){for(;u===vh;)vh=Cl[--bl],Cl[bl]=null,yh=Cl[--bl],Cl[bl]=null;for(;u===ca;)ca=rr[--sr],rr[sr]=null,Ss=rr[--sr],rr[sr]=null,As=rr[--sr],rr[sr]=null}var ki=null,Ni=null,Zt=!1,hc=!1,Er=null;function Nw(u,f){var g=ur(5,null,null,0);g.elementType="DELETED",g.stateNode=f,g.return=u,f=u.deletions,f===null?(u.deletions=[g],u.flags|=16):f.push(g)}function zw(u,f){switch(u.tag){case 5:return f=wi(f,u.type,u.pendingProps),f!==null?(u.stateNode=f,ki=u,Ni=me(f),!0):!1;case 6:return f=nh(f,u.pendingProps),f!==null?(u.stateNode=f,ki=u,Ni=null,!0):!1;case 13:if(f=R0(f),f!==null){var g=ca!==null?{id:As,overflow:Ss}:null;return u.memoizedState={dehydrated:f,treeContext:g,retryLane:1073741824},g=ur(18,null,null,0),g.stateNode=f,g.return=u,u.child=g,ki=u,Ni=null,!0}return!1;default:return!1}}function K0(u){return(u.mode&1)!==0&&(u.flags&128)===0}function Y0(u){if(Zt){var f=Ni;if(f){var g=f;if(!zw(u,f)){if(K0(u))throw Error(o(418));f=te(g);var S=ki;f&&zw(u,f)?Nw(S,g):(u.flags=u.flags&-4097|2,Zt=!1,ki=u)}}else{if(K0(u))throw Error(o(418));u.flags=u.flags&-4097|2,Zt=!1,ki=u}}}function Uw(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;ki=u}function pc(u){if(!le||u!==ki)return!1;if(!Zt)return Uw(u),Zt=!0,!1;if(u.tag!==3&&(u.tag!==5||ui(u.type)&&!_e(u.type,u.memoizedProps))){var f=Ni;if(f){if(K0(u)){for(u=Ni;u;)u=te(u);throw Error(o(418))}for(;f;)Nw(u,f),f=te(f)}}if(Uw(u),u.tag===13){if(!le)throw Error(o(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));Ni=vt(u)}else Ni=ki?te(u.stateNode):null;return!0}function El(){le&&(Ni=ki=null,hc=Zt=!1)}function Q0(u){Er===null?Er=[u]:Er.push(u)}function mc(u,f,g){if(u=g.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(o(309));var S=g.stateNode}if(!S)throw Error(o(147,u));var C=S,T=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===T?f.ref:(f=function(N){var Y=C.refs;Y===Iw&&(Y=C.refs={}),N===null?delete Y[T]:Y[T]=N},f._stringRef=T,f)}if(typeof u!="string")throw Error(o(284));if(!g._owner)throw Error(o(290,u))}return u}function xh(u,f){throw u=Object.prototype.toString.call(f),Error(o(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function Gw(u){var f=u._init;return f(u._payload)}function Hw(u){function f(ne,q){if(u){var ce=ne.deletions;ce===null?(ne.deletions=[q],ne.flags|=16):ce.push(q)}}function g(ne,q){if(!u)return null;for(;q!==null;)f(ne,q),q=q.sibling;return null}function S(ne,q){for(ne=new Map;q!==null;)q.key!==null?ne.set(q.key,q):ne.set(q.index,q),q=q.sibling;return ne}function C(ne,q){return ne=uo(ne,q),ne.index=0,ne.sibling=null,ne}function T(ne,q,ce){return ne.index=ce,u?(ce=ne.alternate,ce!==null?(ce=ce.index,ce<q?(ne.flags|=2,q):ce):(ne.flags|=2,q)):(ne.flags|=1048576,q)}function N(ne){return u&&ne.alternate===null&&(ne.flags|=2),ne}function Y(ne,q,ce,ke){return q===null||q.tag!==6?(q=Iv(ce,ne.mode,ke),q.return=ne,q):(q=C(q,ce),q.return=ne,q)}function de(ne,q,ce,ke){var Ye=ce.type;return Ye===d?We(ne,q,ce.props.children,ke,ce.key):q!==null&&(q.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===w&&Gw(Ye)===q.type)?(ke=C(q,ce.props),ke.ref=mc(ne,q,ce),ke.return=ne,ke):(ke=Qh(ce.type,ce.key,ce.props,null,ne.mode,ke),ke.ref=mc(ne,q,ce),ke.return=ne,ke)}function Ee(ne,q,ce,ke){return q===null||q.tag!==4||q.stateNode.containerInfo!==ce.containerInfo||q.stateNode.implementation!==ce.implementation?(q=Dv(ce,ne.mode,ke),q.return=ne,q):(q=C(q,ce.children||[]),q.return=ne,q)}function We(ne,q,ce,ke,Ye){return q===null||q.tag!==7?(q=ya(ce,ne.mode,ke,Ye),q.return=ne,q):(q=C(q,ce),q.return=ne,q)}function lt(ne,q,ce){if(typeof q=="string"&&q!==""||typeof q=="number")return q=Iv(""+q,ne.mode,ce),q.return=ne,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case l:return ce=Qh(q.type,q.key,q.props,null,ne.mode,ce),ce.ref=mc(ne,null,q),ce.return=ne,ce;case c:return q=Dv(q,ne.mode,ce),q.return=ne,q;case w:var ke=q._init;return lt(ne,ke(q._payload),ce)}if(J(q)||P(q))return q=ya(q,ne.mode,ce,null),q.return=ne,q;xh(ne,q)}return null}function nt(ne,q,ce,ke){var Ye=q!==null?q.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Ye!==null?null:Y(ne,q,""+ce,ke);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:return ce.key===Ye?de(ne,q,ce,ke):null;case c:return ce.key===Ye?Ee(ne,q,ce,ke):null;case w:return Ye=ce._init,nt(ne,q,Ye(ce._payload),ke)}if(J(ce)||P(ce))return Ye!==null?null:We(ne,q,ce,ke,null);xh(ne,ce)}return null}function Vt(ne,q,ce,ke,Ye){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ne=ne.get(ce)||null,Y(q,ne,""+ke,Ye);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case l:return ne=ne.get(ke.key===null?ce:ke.key)||null,de(q,ne,ke,Ye);case c:return ne=ne.get(ke.key===null?ce:ke.key)||null,Ee(q,ne,ke,Ye);case w:var mt=ke._init;return Vt(ne,q,ce,mt(ke._payload),Ye)}if(J(ke)||P(ke))return ne=ne.get(ce)||null,We(q,ne,ke,Ye,null);xh(q,ke)}return null}function qe(ne,q,ce,ke){for(var Ye=null,mt=null,ut=q,Ft=q=0,Gn=null;ut!==null&&Ft<ce.length;Ft++){ut.index>Ft?(Gn=ut,ut=null):Gn=ut.sibling;var kt=nt(ne,ut,ce[Ft],ke);if(kt===null){ut===null&&(ut=Gn);break}u&&ut&&kt.alternate===null&&f(ne,ut),q=T(kt,q,Ft),mt===null?Ye=kt:mt.sibling=kt,mt=kt,ut=Gn}if(Ft===ce.length)return g(ne,ut),Zt&&fa(ne,Ft),Ye;if(ut===null){for(;Ft<ce.length;Ft++)ut=lt(ne,ce[Ft],ke),ut!==null&&(q=T(ut,q,Ft),mt===null?Ye=ut:mt.sibling=ut,mt=ut);return Zt&&fa(ne,Ft),Ye}for(ut=S(ne,ut);Ft<ce.length;Ft++)Gn=Vt(ut,ne,Ft,ce[Ft],ke),Gn!==null&&(u&&Gn.alternate!==null&&ut.delete(Gn.key===null?Ft:Gn.key),q=T(Gn,q,Ft),mt===null?Ye=Gn:mt.sibling=Gn,mt=Gn);return u&&ut.forEach(function(co){return f(ne,co)}),Zt&&fa(ne,Ft),Ye}function ti(ne,q,ce,ke){var Ye=P(ce);if(typeof Ye!="function")throw Error(o(150));if(ce=Ye.call(ce),ce==null)throw Error(o(151));for(var mt=Ye=null,ut=q,Ft=q=0,Gn=null,kt=ce.next();ut!==null&&!kt.done;Ft++,kt=ce.next()){ut.index>Ft?(Gn=ut,ut=null):Gn=ut.sibling;var co=nt(ne,ut,kt.value,ke);if(co===null){ut===null&&(ut=Gn);break}u&&ut&&co.alternate===null&&f(ne,ut),q=T(co,q,Ft),mt===null?Ye=co:mt.sibling=co,mt=co,ut=Gn}if(kt.done)return g(ne,ut),Zt&&fa(ne,Ft),Ye;if(ut===null){for(;!kt.done;Ft++,kt=ce.next())kt=lt(ne,kt.value,ke),kt!==null&&(q=T(kt,q,Ft),mt===null?Ye=kt:mt.sibling=kt,mt=kt);return Zt&&fa(ne,Ft),Ye}for(ut=S(ne,ut);!kt.done;Ft++,kt=ce.next())kt=Vt(ut,ne,Ft,kt.value,ke),kt!==null&&(u&&kt.alternate!==null&&ut.delete(kt.key===null?Ft:kt.key),q=T(kt,q,Ft),mt===null?Ye=kt:mt.sibling=kt,mt=kt);return u&&ut.forEach(function(AO){return f(ne,AO)}),Zt&&fa(ne,Ft),Ye}function cr(ne,q,ce,ke){if(typeof ce=="object"&&ce!==null&&ce.type===d&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:e:{for(var Ye=ce.key,mt=q;mt!==null;){if(mt.key===Ye){if(Ye=ce.type,Ye===d){if(mt.tag===7){g(ne,mt.sibling),q=C(mt,ce.props.children),q.return=ne,ne=q;break e}}else if(mt.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===w&&Gw(Ye)===mt.type){g(ne,mt.sibling),q=C(mt,ce.props),q.ref=mc(ne,mt,ce),q.return=ne,ne=q;break e}g(ne,mt);break}else f(ne,mt);mt=mt.sibling}ce.type===d?(q=ya(ce.props.children,ne.mode,ke,ce.key),q.return=ne,ne=q):(ke=Qh(ce.type,ce.key,ce.props,null,ne.mode,ke),ke.ref=mc(ne,q,ce),ke.return=ne,ne=ke)}return N(ne);case c:e:{for(mt=ce.key;q!==null;){if(q.key===mt)if(q.tag===4&&q.stateNode.containerInfo===ce.containerInfo&&q.stateNode.implementation===ce.implementation){g(ne,q.sibling),q=C(q,ce.children||[]),q.return=ne,ne=q;break e}else{g(ne,q);break}else f(ne,q);q=q.sibling}q=Dv(ce,ne.mode,ke),q.return=ne,ne=q}return N(ne);case w:return mt=ce._init,cr(ne,q,mt(ce._payload),ke)}if(J(ce))return qe(ne,q,ce,ke);if(P(ce))return ti(ne,q,ce,ke);xh(ne,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,q!==null&&q.tag===6?(g(ne,q.sibling),q=C(q,ce),q.return=ne,ne=q):(g(ne,q),q=Iv(ce,ne.mode,ke),q.return=ne,ne=q),N(ne)):g(ne,q)}return cr}var Tl=Hw(!0),Vw=Hw(!1),gc={},or=tr(gc),vc=tr(gc),Pl=tr(gc);function $r(u){if(u===gc)throw Error(o(174));return u}function q0(u,f){Bt(Pl,f),Bt(vc,u),Bt(or,gc),u=ie(f),dt(or),Bt(or,u)}function Bl(){dt(or),dt(vc),dt(Pl)}function Ww(u){var f=$r(Pl.current),g=$r(or.current);f=k(g,u.type,f),g!==f&&(Bt(vc,u),Bt(or,f))}function Z0(u){vc.current===u&&(dt(or),dt(vc))}var rn=tr(0);function _h(u){for(var f=u;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||ih(g)||cc(g)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var $0=[];function ev(){for(var u=0;u<$0.length;u++){var f=$0[u];Se?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}$0.length=0}var Ah=a.ReactCurrentDispatcher,ar=a.ReactCurrentBatchConfig,Rl=0,mn=null,Zn=null,Un=null,Sh=!1,yc=!1,xc=0,JD=0;function $n(){throw Error(o(321))}function tv(u,f){if(f===null)return!1;for(var g=0;g<f.length&&g<u.length;g++)if(!Qr(u[g],f[g]))return!1;return!0}function nv(u,f,g,S,C,T){if(Rl=T,mn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Ah.current=u===null||u.memoizedState===null?QD:qD,u=g(S,C),yc){T=0;do{if(yc=!1,xc=0,25<=T)throw Error(o(301));T+=1,Un=Zn=null,f.updateQueue=null,Ah.current=ZD,u=g(S,C)}while(yc)}if(Ah.current=Eh,f=Zn!==null&&Zn.next!==null,Rl=0,Un=Zn=mn=null,Sh=!1,f)throw Error(o(300));return u}function iv(){var u=xc!==0;return xc=0,u}function ws(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?mn.memoizedState=Un=u:Un=Un.next=u,Un}function es(){if(Zn===null){var u=mn.alternate;u=u!==null?u.memoizedState:null}else u=Zn.next;var f=Un===null?mn.memoizedState:Un.next;if(f!==null)Un=f,Zn=u;else{if(u===null)throw Error(o(310));Zn=u,u={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},Un===null?mn.memoizedState=Un=u:Un=Un.next=u}return Un}function da(u,f){return typeof f=="function"?f(u):f}function wh(u){var f=es(),g=f.queue;if(g===null)throw Error(o(311));g.lastRenderedReducer=u;var S=Zn,C=S.baseQueue,T=g.pending;if(T!==null){if(C!==null){var N=C.next;C.next=T.next,T.next=N}S.baseQueue=C=T,g.pending=null}if(C!==null){T=C.next,S=S.baseState;var Y=N=null,de=null,Ee=T;do{var We=Ee.lane;if((Rl&We)===We)de!==null&&(de=de.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),S=Ee.hasEagerState?Ee.eagerState:u(S,Ee.action);else{var lt={lane:We,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};de===null?(Y=de=lt,N=S):de=de.next=lt,mn.lanes|=We,Il|=We}Ee=Ee.next}while(Ee!==null&&Ee!==T);de===null?N=S:de.next=Y,Qr(S,f.memoizedState)||(zi=!0),f.memoizedState=S,f.baseState=N,f.baseQueue=de,g.lastRenderedState=S}if(u=g.interleaved,u!==null){C=u;do T=C.lane,mn.lanes|=T,Il|=T,C=C.next;while(C!==u)}else C===null&&(g.lanes=0);return[f.memoizedState,g.dispatch]}function Mh(u){var f=es(),g=f.queue;if(g===null)throw Error(o(311));g.lastRenderedReducer=u;var S=g.dispatch,C=g.pending,T=f.memoizedState;if(C!==null){g.pending=null;var N=C=C.next;do T=u(T,N.action),N=N.next;while(N!==C);Qr(T,f.memoizedState)||(zi=!0),f.memoizedState=T,f.baseQueue===null&&(f.baseState=T),g.lastRenderedState=T}return[T,S]}function jw(){}function Jw(u,f){var g=mn,S=es(),C=f(),T=!Qr(S.memoizedState,C);if(T&&(S.memoizedState=C,zi=!0),S=S.queue,Ac(Yw.bind(null,g,S,u),[u]),S.getSnapshot!==f||T||Un!==null&&Un.memoizedState.tag&1){if(g.flags|=2048,_c(9,Kw.bind(null,g,S,C,f),void 0,null),Mn===null)throw Error(o(349));Rl&30||Xw(g,f,C)}return C}function Xw(u,f,g){u.flags|=16384,u={getSnapshot:f,value:g},f=mn.updateQueue,f===null?(f={lastEffect:null,stores:null},mn.updateQueue=f,f.stores=[u]):(g=f.stores,g===null?f.stores=[u]:g.push(u))}function Kw(u,f,g,S){f.value=g,f.getSnapshot=S,Qw(f)&&lr(u,1,-1)}function Yw(u,f,g){return g(function(){Qw(f)&&lr(u,1,-1)})}function Qw(u){var f=u.getSnapshot;u=u.value;try{var g=f();return!Qr(u,g)}catch{return!0}}function rv(u){var f=ws();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:u},f.queue=u,u=u.dispatch=YD.bind(null,mn,u),[f.memoizedState,u]}function _c(u,f,g,S){return u={tag:u,create:f,destroy:g,deps:S,next:null},f=mn.updateQueue,f===null?(f={lastEffect:null,stores:null},mn.updateQueue=f,f.lastEffect=u.next=u):(g=f.lastEffect,g===null?f.lastEffect=u.next=u:(S=g.next,g.next=u,u.next=S,f.lastEffect=u)),u}function qw(){return es().memoizedState}function Ch(u,f,g,S){var C=ws();mn.flags|=u,C.memoizedState=_c(1|f,g,void 0,S===void 0?null:S)}function bh(u,f,g,S){var C=es();S=S===void 0?null:S;var T=void 0;if(Zn!==null){var N=Zn.memoizedState;if(T=N.destroy,S!==null&&tv(S,N.deps)){C.memoizedState=_c(f,g,T,S);return}}mn.flags|=u,C.memoizedState=_c(1|f,g,T,S)}function sv(u,f){return Ch(8390656,8,u,f)}function Ac(u,f){return bh(2048,8,u,f)}function Zw(u,f){return bh(4,2,u,f)}function $w(u,f){return bh(4,4,u,f)}function eM(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function tM(u,f,g){return g=g!=null?g.concat([u]):null,bh(4,4,eM.bind(null,f,u),g)}function ov(){}function nM(u,f){var g=es();f=f===void 0?null:f;var S=g.memoizedState;return S!==null&&f!==null&&tv(f,S[1])?S[0]:(g.memoizedState=[u,f],u)}function iM(u,f){var g=es();f=f===void 0?null:f;var S=g.memoizedState;return S!==null&&f!==null&&tv(f,S[1])?S[0]:(u=u(),g.memoizedState=[u,f],u)}function XD(u,f){var g=Ot;Ot=g!==0&&4>g?g:4,u(!0);var S=ar.transition;ar.transition={};try{u(!1),f()}finally{Ot=g,ar.transition=S}}function rM(){return es().memoizedState}function KD(u,f,g){var S=ao(u);g={lane:S,action:g,hasEagerState:!1,eagerState:null,next:null},sM(u)?oM(f,g):(aM(u,f,g),g=fi(),u=lr(u,S,g),u!==null&&lM(u,f,S))}function YD(u,f,g){var S=ao(u),C={lane:S,action:g,hasEagerState:!1,eagerState:null,next:null};if(sM(u))oM(f,C);else{aM(u,f,C);var T=u.alternate;if(u.lanes===0&&(T===null||T.lanes===0)&&(T=f.lastRenderedReducer,T!==null))try{var N=f.lastRenderedState,Y=T(N,g);if(C.hasEagerState=!0,C.eagerState=Y,Qr(Y,N))return}catch{}finally{}g=fi(),u=lr(u,S,g),u!==null&&lM(u,f,S)}}function sM(u){var f=u.alternate;return u===mn||f!==null&&f===mn}function oM(u,f){yc=Sh=!0;var g=u.pending;g===null?f.next=f:(f.next=g.next,g.next=f),u.pending=f}function aM(u,f,g){Mn!==null&&u.mode&1&&!(yt&2)?(u=f.interleaved,u===null?(g.next=g,Zr===null?Zr=[f]:Zr.push(f)):(g.next=u.next,u.next=g),f.interleaved=g):(u=f.pending,u===null?g.next=g:(g.next=u.next,u.next=g),f.pending=g)}function lM(u,f,g){if(g&4194240){var S=f.lanes;S&=u.pendingLanes,g|=S,f.lanes=g,D0(u,g)}}var Eh={readContext:ir,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useInsertionEffect:$n,useLayoutEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useMutableSource:$n,useSyncExternalStore:$n,useId:$n,unstable_isNewReconciler:!1},QD={readContext:ir,useCallback:function(u,f){return ws().memoizedState=[u,f===void 0?null:f],u},useContext:ir,useEffect:sv,useImperativeHandle:function(u,f,g){return g=g!=null?g.concat([u]):null,Ch(4194308,4,eM.bind(null,f,u),g)},useLayoutEffect:function(u,f){return Ch(4194308,4,u,f)},useInsertionEffect:function(u,f){return Ch(4,2,u,f)},useMemo:function(u,f){var g=ws();return f=f===void 0?null:f,u=u(),g.memoizedState=[u,f],u},useReducer:function(u,f,g){var S=ws();return f=g!==void 0?g(f):f,S.memoizedState=S.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},S.queue=u,u=u.dispatch=KD.bind(null,mn,u),[S.memoizedState,u]},useRef:function(u){var f=ws();return u={current:u},f.memoizedState=u},useState:rv,useDebugValue:ov,useDeferredValue:function(u){var f=rv(u),g=f[0],S=f[1];return sv(function(){var C=ar.transition;ar.transition={};try{S(u)}finally{ar.transition=C}},[u]),g},useTransition:function(){var u=rv(!1),f=u[0];return u=XD.bind(null,u[1]),ws().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,g){var S=mn,C=ws();if(Zt){if(g===void 0)throw Error(o(407));g=g()}else{if(g=f(),Mn===null)throw Error(o(349));Rl&30||Xw(S,f,g)}C.memoizedState=g;var T={value:g,getSnapshot:f};return C.queue=T,sv(Yw.bind(null,S,T,u),[u]),S.flags|=2048,_c(9,Kw.bind(null,S,T,g,f),void 0,null),g},useId:function(){var u=ws(),f=Mn.identifierPrefix;if(Zt){var g=Ss,S=As;g=(S&~(1<<32-Cr(S)-1)).toString(32)+g,f=":"+f+"R"+g,g=xc++,0<g&&(f+="H"+g.toString(32)),f+=":"}else g=JD++,f=":"+f+"r"+g.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},qD={readContext:ir,useCallback:nM,useContext:ir,useEffect:Ac,useImperativeHandle:tM,useInsertionEffect:Zw,useLayoutEffect:$w,useMemo:iM,useReducer:wh,useRef:qw,useState:function(){return wh(da)},useDebugValue:ov,useDeferredValue:function(u){var f=wh(da),g=f[0],S=f[1];return Ac(function(){var C=ar.transition;ar.transition={};try{S(u)}finally{ar.transition=C}},[u]),g},useTransition:function(){var u=wh(da)[0],f=es().memoizedState;return[u,f]},useMutableSource:jw,useSyncExternalStore:Jw,useId:rM,unstable_isNewReconciler:!1},ZD={readContext:ir,useCallback:nM,useContext:ir,useEffect:Ac,useImperativeHandle:tM,useInsertionEffect:Zw,useLayoutEffect:$w,useMemo:iM,useReducer:Mh,useRef:qw,useState:function(){return Mh(da)},useDebugValue:ov,useDeferredValue:function(u){var f=Mh(da),g=f[0],S=f[1];return Ac(function(){var C=ar.transition;ar.transition={};try{S(u)}finally{ar.transition=C}},[u]),g},useTransition:function(){var u=Mh(da)[0],f=es().memoizedState;return[u,f]},useMutableSource:jw,useSyncExternalStore:Jw,useId:rM,unstable_isNewReconciler:!1};function av(u,f){try{var g="",S=f;do g+=jD(S),S=S.return;while(S);var C=g}catch(T){C=`
Error generating stack: `+T.message+`
`+T.stack}return{value:u,source:f,stack:C}}function lv(u,f){try{console.error(f.value)}catch(g){setTimeout(function(){throw g})}}var $D=typeof WeakMap=="function"?WeakMap:Map;function uM(u,f,g){g=_s(-1,g),g.tag=3,g.payload={element:null};var S=f.value;return g.callback=function(){Vh||(Vh=!0,bv=S),lv(u,f)},g}function cM(u,f,g){g=_s(-1,g),g.tag=3;var S=u.type.getDerivedStateFromError;if(typeof S=="function"){var C=f.value;g.payload=function(){return S(C)},g.callback=function(){lv(u,f)}}var T=u.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(g.callback=function(){lv(u,f),typeof S!="function"&&(so===null?so=new Set([this]):so.add(this));var N=f.stack;this.componentDidCatch(f.value,{componentStack:N!==null?N:""})}),g}function fM(u,f,g){var S=u.pingCache;if(S===null){S=u.pingCache=new $D;var C=new Set;S.set(f,C)}else C=S.get(f),C===void 0&&(C=new Set,S.set(f,C));C.has(g)||(C.add(g),u=hO.bind(null,u,f,g),f.then(u,u))}function dM(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function hM(u,f,g,S,C){return u.mode&1?(u.flags|=65536,u.lanes=C,u):(u===f?u.flags|=65536:(u.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(f=_s(-1,1),f.tag=2,ro(g,f))),g.lanes|=1),u)}function ts(u){u.flags|=4}function pM(u,f){if(u!==null&&u.child===f.child)return!0;if(f.flags&16)return!1;for(u=f.child;u!==null;){if(u.flags&12854||u.subtreeFlags&12854)return!1;u=u.sibling}return!0}var Sc,wc,Th,Ph;if(Ie)Sc=function(u,f){for(var g=f.child;g!==null;){if(g.tag===5||g.tag===6)V(u,g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},wc=function(){},Th=function(u,f,g,S,C){if(u=u.memoizedProps,u!==S){var T=f.stateNode,N=$r(or.current);g=pe(T,g,u,S,C,N),(f.updateQueue=g)&&ts(f)}},Ph=function(u,f,g,S){g!==S&&ts(f)};else if(he){Sc=function(u,f,g,S){for(var C=f.child;C!==null;){if(C.tag===5){var T=C.stateNode;g&&S&&(T=Ht(T,C.type,C.memoizedProps,C)),V(u,T)}else if(C.tag===6)T=C.stateNode,g&&S&&(T=$i(T,C.memoizedProps,C)),V(u,T);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)T=C.child,T!==null&&(T.return=C),Sc(u,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===f)break;for(;C.sibling===null;){if(C.return===null||C.return===f)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};var mM=function(u,f,g,S){for(var C=f.child;C!==null;){if(C.tag===5){var T=C.stateNode;g&&S&&(T=Ht(T,C.type,C.memoizedProps,C)),xn(u,T)}else if(C.tag===6)T=C.stateNode,g&&S&&(T=$i(T,C.memoizedProps,C)),xn(u,T);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)T=C.child,T!==null&&(T.return=C),mM(u,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===f)break;for(;C.sibling===null;){if(C.return===null||C.return===f)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};wc=function(u,f){var g=f.stateNode;if(!pM(u,f)){u=g.containerInfo;var S=Lt(u);mM(S,f,!1,!1),g.pendingChildren=S,ts(f),kn(u,S)}},Th=function(u,f,g,S,C){var T=u.stateNode,N=u.memoizedProps;if((u=pM(u,f))&&N===S)f.stateNode=T;else{var Y=f.stateNode,de=$r(or.current),Ee=null;N!==S&&(Ee=pe(Y,g,N,S,C,de)),u&&Ee===null?f.stateNode=T:(T=Qe(T,Ee,g,N,S,f,u,Y),se(T,g,S,C,de)&&ts(f),f.stateNode=T,u?ts(f):Sc(T,f,!1,!1))}},Ph=function(u,f,g,S){g!==S?(u=$r(Pl.current),g=$r(or.current),f.stateNode=Z(S,u,g,f),ts(f)):f.stateNode=u.stateNode}}else wc=function(){},Th=function(){},Ph=function(){};function Mc(u,f){if(!Zt)switch(u.tailMode){case"hidden":f=u.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:S.sibling=null}}function ei(u){var f=u.alternate!==null&&u.alternate.child===u.child,g=0,S=0;if(f)for(var C=u.child;C!==null;)g|=C.lanes|C.childLanes,S|=C.subtreeFlags&14680064,S|=C.flags&14680064,C.return=u,C=C.sibling;else for(C=u.child;C!==null;)g|=C.lanes|C.childLanes,S|=C.subtreeFlags,S|=C.flags,C.return=u,C=C.sibling;return u.subtreeFlags|=S,u.childLanes=g,f}function eO(u,f,g){var S=f.pendingProps;switch(X0(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ei(f),null;case 1:return Mi(f.type)&&rh(),ei(f),null;case 3:return S=f.stateNode,Bl(),dt(Nn),dt(zt),ev(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(u===null||u.child===null)&&(pc(f)?ts(f):u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Er!==null&&(Pv(Er),Er=null))),wc(u,f),ei(f),null;case 5:Z0(f),g=$r(Pl.current);var C=f.type;if(u!==null&&f.stateNode!=null)Th(u,f,C,S,g),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!S){if(f.stateNode===null)throw Error(o(166));return ei(f),null}if(u=$r(or.current),pc(f)){if(!le)throw Error(o(175));u=$e(f.stateNode,f.type,f.memoizedProps,g,u,f,!hc),f.updateQueue=u,u!==null&&ts(f)}else{var T=ae(C,S,g,u,f);Sc(T,f,!1,!1),f.stateNode=T,se(T,C,S,g,u)&&ts(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return ei(f),null;case 6:if(u&&f.stateNode!=null)Ph(u,f,u.memoizedProps,S);else{if(typeof S!="string"&&f.stateNode===null)throw Error(o(166));if(u=$r(Pl.current),g=$r(or.current),pc(f)){if(!le)throw Error(o(176));if(u=f.stateNode,S=f.memoizedProps,(g=ot(u,S,f,!hc))&&(C=ki,C!==null))switch(T=(C.mode&1)!==0,C.tag){case 3:Mr(C.stateNode.containerInfo,u,S,T);break;case 5:ms(C.type,C.memoizedProps,C.stateNode,u,S,T)}g&&ts(f)}else f.stateNode=Z(S,u,g,f)}return ei(f),null;case 13:if(dt(rn),S=f.memoizedState,Zt&&Ni!==null&&f.mode&1&&!(f.flags&128)){for(u=Ni;u;)u=te(u);return El(),f.flags|=98560,f}if(S!==null&&S.dehydrated!==null){if(S=pc(f),u===null){if(!S)throw Error(o(318));if(!le)throw Error(o(344));if(u=f.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));ht(u,f)}else El(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;return ei(f),null}return Er!==null&&(Pv(Er),Er=null),f.flags&128?(f.lanes=g,f):(S=S!==null,g=!1,u===null?pc(f):g=u.memoizedState!==null,S&&!g&&(f.child.flags|=8192,f.mode&1&&(u===null||rn.current&1?Bn===0&&(Bn=3):Rv())),f.updateQueue!==null&&(f.flags|=4),ei(f),null);case 4:return Bl(),wc(u,f),u===null&&Ge(f.stateNode.containerInfo),ei(f),null;case 10:return G0(f.type._context),ei(f),null;case 17:return Mi(f.type)&&rh(),ei(f),null;case 19:if(dt(rn),C=f.memoizedState,C===null)return ei(f),null;if(S=(f.flags&128)!==0,T=C.rendering,T===null)if(S)Mc(C,!1);else{if(Bn!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(T=_h(u),T!==null){for(f.flags|=128,Mc(C,!1),u=T.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),f.subtreeFlags=0,u=g,S=f.child;S!==null;)g=S,C=u,g.flags&=14680066,T=g.alternate,T===null?(g.childLanes=0,g.lanes=C,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=T.childLanes,g.lanes=T.lanes,g.child=T.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=T.memoizedProps,g.memoizedState=T.memoizedState,g.updateQueue=T.updateQueue,g.type=T.type,C=T.dependencies,g.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext}),S=S.sibling;return Bt(rn,rn.current&1|2),f.child}u=u.sibling}C.tail!==null&&zn()>Cv&&(f.flags|=128,S=!0,Mc(C,!1),f.lanes=4194304)}else{if(!S)if(u=_h(T),u!==null){if(f.flags|=128,S=!0,u=u.updateQueue,u!==null&&(f.updateQueue=u,f.flags|=4),Mc(C,!0),C.tail===null&&C.tailMode==="hidden"&&!T.alternate&&!Zt)return ei(f),null}else 2*zn()-C.renderingStartTime>Cv&&g!==1073741824&&(f.flags|=128,S=!0,Mc(C,!1),f.lanes=4194304);C.isBackwards?(T.sibling=f.child,f.child=T):(u=C.last,u!==null?u.sibling=T:f.child=T,C.last=T)}return C.tail!==null?(f=C.tail,C.rendering=f,C.tail=f.sibling,C.renderingStartTime=zn(),f.sibling=null,u=rn.current,Bt(rn,S?u&1|2:u&1),f):(ei(f),null);case 22:case 23:return Bv(),S=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==S&&(f.flags|=8192),S&&f.mode&1?Ui&1073741824&&(ei(f),Ie&&f.subtreeFlags&6&&(f.flags|=8192)):ei(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var tO=a.ReactCurrentOwner,zi=!1;function ci(u,f,g,S){f.child=u===null?Vw(f,null,g,S):Tl(f,u.child,g,S)}function gM(u,f,g,S,C){g=g.render;var T=f.ref;return Ml(f,C),S=nv(u,f,g,S,T,C),g=iv(),u!==null&&!zi?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~C,Ms(u,f,C)):(Zt&&g&&J0(f),f.flags|=1,ci(u,f,S,C),f.child)}function vM(u,f,g,S,C){if(u===null){var T=g.type;return typeof T=="function"&&!Lv(T)&&T.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(f.tag=15,f.type=T,yM(u,f,T,S,C)):(u=Qh(g.type,null,S,f,f.mode,C),u.ref=f.ref,u.return=f,f.child=u)}if(T=u.child,!(u.lanes&C)){var N=T.memoizedProps;if(g=g.compare,g=g!==null?g:fh,g(N,S)&&u.ref===f.ref)return Ms(u,f,C)}return f.flags|=1,u=uo(T,S),u.ref=f.ref,u.return=f,f.child=u}function yM(u,f,g,S,C){if(u!==null&&fh(u.memoizedProps,S)&&u.ref===f.ref)if(zi=!1,(u.lanes&C)!==0)u.flags&131072&&(zi=!0);else return f.lanes=u.lanes,Ms(u,f,C);return uv(u,f,g,S,C)}function xM(u,f,g){var S=f.pendingProps,C=S.children,T=u!==null?u.memoizedState:null;if(S.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null},Bt(Ll,Ui),Ui|=g;else if(g&1073741824)f.memoizedState={baseLanes:0,cachePool:null},S=T!==null?T.baseLanes:g,Bt(Ll,Ui),Ui|=S;else return u=T!==null?T.baseLanes|g:g,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null},f.updateQueue=null,Bt(Ll,Ui),Ui|=u,null;else T!==null?(S=T.baseLanes|g,f.memoizedState=null):S=g,Bt(Ll,Ui),Ui|=S;return ci(u,f,C,g),f.child}function _M(u,f){var g=f.ref;(u===null&&g!==null||u!==null&&u.ref!==g)&&(f.flags|=512,f.flags|=2097152)}function uv(u,f,g,S,C){var T=Mi(g)?vs:zt.current;return T=ys(f,T),Ml(f,C),g=nv(u,f,g,S,T,C),S=iv(),u!==null&&!zi?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~C,Ms(u,f,C)):(Zt&&S&&J0(f),f.flags|=1,ci(u,f,g,C),f.child)}function AM(u,f,g,S,C){if(Mi(g)){var T=!0;sh(f)}else T=!1;if(Ml(f,C),f.stateNode===null)u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),Ow(f,g,S),j0(f,g,S,C),S=!0;else if(u===null){var N=f.stateNode,Y=f.memoizedProps;N.props=Y;var de=N.context,Ee=g.contextType;typeof Ee=="object"&&Ee!==null?Ee=ir(Ee):(Ee=Mi(g)?vs:zt.current,Ee=ys(f,Ee));var We=g.getDerivedStateFromProps,lt=typeof We=="function"||typeof N.getSnapshotBeforeUpdate=="function";lt||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Y!==S||de!==Ee)&&Fw(f,N,S,Ee),io=!1;var nt=f.memoizedState;N.state=nt,mh(f,S,N,C),de=f.memoizedState,Y!==S||nt!==de||Nn.current||io?(typeof We=="function"&&(W0(f,g,We,S),de=f.memoizedState),(Y=io||Dw(f,g,Y,S,nt,de,Ee))?(lt||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(f.flags|=4194308)):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=de),N.props=S,N.state=de,N.context=Ee,S=Y):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{N=f.stateNode,Bw(u,f),Y=f.memoizedProps,Ee=f.type===f.elementType?Y:br(f.type,Y),N.props=Ee,lt=f.pendingProps,nt=N.context,de=g.contextType,typeof de=="object"&&de!==null?de=ir(de):(de=Mi(g)?vs:zt.current,de=ys(f,de));var Vt=g.getDerivedStateFromProps;(We=typeof Vt=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Y!==lt||nt!==de)&&Fw(f,N,S,de),io=!1,nt=f.memoizedState,N.state=nt,mh(f,S,N,C);var qe=f.memoizedState;Y!==lt||nt!==qe||Nn.current||io?(typeof Vt=="function"&&(W0(f,g,Vt,S),qe=f.memoizedState),(Ee=io||Dw(f,g,Ee,S,nt,qe,de)||!1)?(We||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(S,qe,de),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(S,qe,de)),typeof N.componentDidUpdate=="function"&&(f.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof N.componentDidUpdate!="function"||Y===u.memoizedProps&&nt===u.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Y===u.memoizedProps&&nt===u.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=qe),N.props=S,N.state=qe,N.context=de,S=Ee):(typeof N.componentDidUpdate!="function"||Y===u.memoizedProps&&nt===u.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Y===u.memoizedProps&&nt===u.memoizedState||(f.flags|=1024),S=!1)}return cv(u,f,g,S,T,C)}function cv(u,f,g,S,C,T){_M(u,f);var N=(f.flags&128)!==0;if(!S&&!N)return C&&Cw(f,g,!1),Ms(u,f,T);S=f.stateNode,tO.current=f;var Y=N&&typeof g.getDerivedStateFromError!="function"?null:S.render();return f.flags|=1,u!==null&&N?(f.child=Tl(f,u.child,null,T),f.child=Tl(f,null,Y,T)):ci(u,f,Y,T),f.memoizedState=S.state,C&&Cw(f,g,!0),f.child}function SM(u){var f=u.stateNode;f.pendingContext?ww(u,f.pendingContext,f.pendingContext!==f.context):f.context&&ww(u,f.context,!1),q0(u,f.containerInfo)}function wM(u,f,g,S,C){return El(),Q0(C),f.flags|=256,ci(u,f,g,S),f.child}var Bh={dehydrated:null,treeContext:null,retryLane:0};function Rh(u){return{baseLanes:u,cachePool:null}}function MM(u,f,g){var S=f.pendingProps,C=rn.current,T=!1,N=(f.flags&128)!==0,Y;if((Y=N)||(Y=u!==null&&u.memoizedState===null?!1:(C&2)!==0),Y?(T=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(C|=1),Bt(rn,C&1),u===null)return Y0(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(f.mode&1?cc(u)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(C=S.children,u=S.fallback,T?(S=f.mode,T=f.child,C={mode:"hidden",children:C},!(S&1)&&T!==null?(T.childLanes=0,T.pendingProps=C):T=qh(C,S,0,null),u=ya(u,S,g,null),T.return=f,u.return=f,T.sibling=u,f.child=T,f.child.memoizedState=Rh(g),f.memoizedState=Bh,u):fv(f,C));if(C=u.memoizedState,C!==null){if(Y=C.dehydrated,Y!==null){if(N)return f.flags&256?(f.flags&=-257,Lh(u,f,g,Error(o(422)))):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(T=S.fallback,C=f.mode,S=qh({mode:"visible",children:S.children},C,0,null),T=ya(T,C,g,null),T.flags|=2,S.return=f,T.return=f,S.sibling=T,f.child=S,f.mode&1&&Tl(f,u.child,null,g),f.child.memoizedState=Rh(g),f.memoizedState=Bh,T);if(!(f.mode&1))f=Lh(u,f,g,null);else if(cc(Y))f=Lh(u,f,g,Error(o(419)));else if(S=(g&u.childLanes)!==0,zi||S){if(S=Mn,S!==null){switch(g&-g){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}S=T&(S.suspendedLanes|g)?0:T,S!==0&&S!==C.retryLane&&(C.retryLane=S,lr(u,S,-1))}Rv(),f=Lh(u,f,g,Error(o(421)))}else ih(Y)?(f.flags|=128,f.child=u.child,f=pO.bind(null,u),F(Y,f),f=null):(g=C.treeContext,le&&(Ni=ye(Y),ki=f,Zt=!0,Er=null,hc=!1,g!==null&&(rr[sr++]=As,rr[sr++]=Ss,rr[sr++]=ca,As=g.id,Ss=g.overflow,ca=f)),f=fv(f,f.pendingProps.children),f.flags|=4096);return f}return T?(S=bM(u,f,S.children,S.fallback,g),T=f.child,C=u.child.memoizedState,T.memoizedState=C===null?Rh(g):{baseLanes:C.baseLanes|g,cachePool:null},T.childLanes=u.childLanes&~g,f.memoizedState=Bh,S):(g=CM(u,f,S.children,g),f.memoizedState=null,g)}return T?(S=bM(u,f,S.children,S.fallback,g),T=f.child,C=u.child.memoizedState,T.memoizedState=C===null?Rh(g):{baseLanes:C.baseLanes|g,cachePool:null},T.childLanes=u.childLanes&~g,f.memoizedState=Bh,S):(g=CM(u,f,S.children,g),f.memoizedState=null,g)}function fv(u,f){return f=qh({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function CM(u,f,g,S){var C=u.child;return u=C.sibling,g=uo(C,{mode:"visible",children:g}),!(f.mode&1)&&(g.lanes=S),g.return=f,g.sibling=null,u!==null&&(S=f.deletions,S===null?(f.deletions=[u],f.flags|=16):S.push(u)),f.child=g}function bM(u,f,g,S,C){var T=f.mode;u=u.child;var N=u.sibling,Y={mode:"hidden",children:g};return!(T&1)&&f.child!==u?(g=f.child,g.childLanes=0,g.pendingProps=Y,f.deletions=null):(g=uo(u,Y),g.subtreeFlags=u.subtreeFlags&14680064),N!==null?S=uo(N,S):(S=ya(S,T,C,null),S.flags|=2),S.return=f,g.return=f,g.sibling=S,f.child=g,S}function Lh(u,f,g,S){return S!==null&&Q0(S),Tl(f,u.child,null,g),u=fv(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function EM(u,f,g){u.lanes|=f;var S=u.alternate;S!==null&&(S.lanes|=f),H0(u.return,f,g)}function dv(u,f,g,S,C){var T=u.memoizedState;T===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:g,tailMode:C}:(T.isBackwards=f,T.rendering=null,T.renderingStartTime=0,T.last=S,T.tail=g,T.tailMode=C)}function TM(u,f,g){var S=f.pendingProps,C=S.revealOrder,T=S.tail;if(ci(u,f,S.children,g),S=rn.current,S&2)S=S&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&EM(u,g,f);else if(u.tag===19)EM(u,g,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}S&=1}if(Bt(rn,S),!(f.mode&1))f.memoizedState=null;else switch(C){case"forwards":for(g=f.child,C=null;g!==null;)u=g.alternate,u!==null&&_h(u)===null&&(C=g),g=g.sibling;g=C,g===null?(C=f.child,f.child=null):(C=g.sibling,g.sibling=null),dv(f,!1,C,g,T);break;case"backwards":for(g=null,C=f.child,f.child=null;C!==null;){if(u=C.alternate,u!==null&&_h(u)===null){f.child=C;break}u=C.sibling,C.sibling=g,g=C,C=u}dv(f,!0,g,null,T);break;case"together":dv(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Ms(u,f,g){if(u!==null&&(f.dependencies=u.dependencies),Il|=f.lanes,!(g&f.childLanes))return null;if(u!==null&&f.child!==u.child)throw Error(o(153));if(f.child!==null){for(u=f.child,g=uo(u,u.pendingProps),f.child=g,g.return=f;u.sibling!==null;)u=u.sibling,g=g.sibling=uo(u,u.pendingProps),g.return=f;g.sibling=null}return f.child}function nO(u,f,g){switch(f.tag){case 3:SM(f),El();break;case 5:Ww(f);break;case 1:Mi(f.type)&&sh(f);break;case 4:q0(f,f.stateNode.containerInfo);break;case 10:Pw(f,f.type._context,f.memoizedProps.value);break;case 13:var S=f.memoizedState;if(S!==null)return S.dehydrated!==null?(Bt(rn,rn.current&1),f.flags|=128,null):g&f.child.childLanes?MM(u,f,g):(Bt(rn,rn.current&1),u=Ms(u,f,g),u!==null?u.sibling:null);Bt(rn,rn.current&1);break;case 19:if(S=(g&f.childLanes)!==0,u.flags&128){if(S)return TM(u,f,g);f.flags|=128}var C=f.memoizedState;if(C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Bt(rn,rn.current),S)break;return null;case 22:case 23:return f.lanes=0,xM(u,f,g)}return Ms(u,f,g)}function iO(u,f){switch(X0(f),f.tag){case 1:return Mi(f.type)&&rh(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Bl(),dt(Nn),dt(zt),ev(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 5:return Z0(f),null;case 13:if(dt(rn),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(o(340));El()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return dt(rn),null;case 4:return Bl(),null;case 10:return G0(f.type._context),null;case 22:case 23:return Bv(),null;case 24:return null;default:return null}}var Ih=!1,ha=!1,rO=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Dh(u,f){var g=u.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(S){Ei(u,f,S)}else g.current=null}function hv(u,f,g){try{g()}catch(S){Ei(u,f,S)}}var PM=!1;function sO(u,f){for(X(u.containerInfo),Oe=f;Oe!==null;)if(u=Oe,f=u.child,(u.subtreeFlags&1028)!==0&&f!==null)f.return=u,Oe=f;else for(;Oe!==null;){u=Oe;try{var g=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var S=g.memoizedProps,C=g.memoizedState,T=u.stateNode,N=T.getSnapshotBeforeUpdate(u.elementType===u.type?S:br(u.type,S),C);T.__reactInternalSnapshotBeforeUpdate=N}break;case 3:Ie&&Ue(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Y){Ei(u,u.return,Y)}if(f=u.sibling,f!==null){f.return=u.return,Oe=f;break}Oe=u.return}return g=PM,PM=!1,g}function pa(u,f,g){var S=f.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var C=S=S.next;do{if((C.tag&u)===u){var T=C.destroy;C.destroy=void 0,T!==void 0&&hv(f,g,T)}C=C.next}while(C!==S)}}function Cc(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&u)===u){var S=g.create;g.destroy=S()}g=g.next}while(g!==f)}}function pv(u){var f=u.ref;if(f!==null){var g=u.stateNode;switch(u.tag){case 5:u=ee(g);break;default:u=g}typeof f=="function"?f(u):f.current=u}}function BM(u,f,g){if(Yr&&typeof Yr.onCommitFiberUnmount=="function")try{Yr.onCommitFiberUnmount(uh,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(u=f.updateQueue,u!==null&&(u=u.lastEffect,u!==null)){var S=u=u.next;do{var C=S,T=C.destroy;C=C.tag,T!==void 0&&(C&2||C&4)&&hv(f,g,T),S=S.next}while(S!==u)}break;case 1:if(Dh(f,g),u=f.stateNode,typeof u.componentWillUnmount=="function")try{u.props=f.memoizedProps,u.state=f.memoizedState,u.componentWillUnmount()}catch(N){Ei(f,g,N)}break;case 5:Dh(f,g);break;case 4:Ie?FM(u,f,g):he&&he&&(f=f.stateNode.containerInfo,g=Lt(f),Kr(f,g))}}function RM(u,f,g){for(var S=f;;)if(BM(u,S,g),S.child===null||Ie&&S.tag===4){if(S===f)break;for(;S.sibling===null;){if(S.return===null||S.return===f)return;S=S.return}S.sibling.return=S.return,S=S.sibling}else S.child.return=S,S=S.child}function LM(u){var f=u.alternate;f!==null&&(u.alternate=null,LM(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&Ze(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function IM(u){return u.tag===5||u.tag===3||u.tag===4}function DM(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||IM(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function OM(u){if(Ie){e:{for(var f=u.return;f!==null;){if(IM(f))break e;f=f.return}throw Error(o(160))}var g=f;switch(g.tag){case 5:f=g.stateNode,g.flags&32&&(xt(f),g.flags&=-33),g=DM(u),gv(u,g,f);break;case 3:case 4:f=g.stateNode.containerInfo,g=DM(u),mv(u,g,f);break;default:throw Error(o(161))}}}function mv(u,f,g){var S=u.tag;if(S===5||S===6)u=u.stateNode,f?Ae(g,u,f):De(g,u);else if(S!==4&&(u=u.child,u!==null))for(mv(u,f,g),u=u.sibling;u!==null;)mv(u,f,g),u=u.sibling}function gv(u,f,g){var S=u.tag;if(S===5||S===6)u=u.stateNode,f?ue(g,u,f):rt(g,u);else if(S!==4&&(u=u.child,u!==null))for(gv(u,f,g),u=u.sibling;u!==null;)gv(u,f,g),u=u.sibling}function FM(u,f,g){for(var S=f,C=!1,T,N;;){if(!C){C=S.return;e:for(;;){if(C===null)throw Error(o(160));switch(T=C.stateNode,C.tag){case 5:N=!1;break e;case 3:T=T.containerInfo,N=!0;break e;case 4:T=T.containerInfo,N=!0;break e}C=C.return}C=!0}if(S.tag===5||S.tag===6)RM(u,S,g),N?tt(T,S.stateNode):Te(T,S.stateNode);else if(S.tag===18)N?hn(T,S.stateNode):Ct(T,S.stateNode);else if(S.tag===4){if(S.child!==null){T=S.stateNode.containerInfo,N=!0,S.child.return=S,S=S.child;continue}}else if(BM(u,S,g),S.child!==null){S.child.return=S,S=S.child;continue}if(S===f)break;for(;S.sibling===null;){if(S.return===null||S.return===f)return;S=S.return,S.tag===4&&(C=!1)}S.sibling.return=S.return,S=S.sibling}}function vv(u,f){if(Ie){switch(f.tag){case 0:case 11:case 14:case 15:pa(3,f,f.return),Cc(3,f),pa(5,f,f.return);return;case 1:return;case 5:var g=f.stateNode;if(g!=null){var S=f.memoizedProps;u=u!==null?u.memoizedProps:S;var C=f.type,T=f.updateQueue;f.updateQueue=null,T!==null&&j(g,T,C,u,S,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));g=f.memoizedProps,ve(f.stateNode,u!==null?u.memoizedProps:g,g);return;case 3:le&&u!==null&&u.memoizedState.isDehydrated&&Tt(f.stateNode.containerInfo);return;case 12:return;case 13:Oh(f);return;case 19:Oh(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:pa(3,f,f.return),Cc(3,f),pa(5,f,f.return);return;case 12:return;case 13:Oh(f);return;case 19:Oh(f);return;case 3:le&&u!==null&&u.memoizedState.isDehydrated&&Tt(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(he){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,Kr(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function Oh(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var g=u.stateNode;g===null&&(g=u.stateNode=new rO),f.forEach(function(S){var C=mO.bind(null,u,S);g.has(S)||(g.add(S),S.then(C,C))})}}function oO(u,f){for(Oe=f;Oe!==null;){f=Oe;var g=f.deletions;if(g!==null)for(var S=0;S<g.length;S++){var C=g[S];try{var T=u;Ie?FM(T,C,f):RM(T,C,f);var N=C.alternate;N!==null&&(N.return=null),C.return=null}catch(Ye){Ei(C,f,Ye)}}if(g=f.child,f.subtreeFlags&12854&&g!==null)g.return=f,Oe=g;else for(;Oe!==null;){f=Oe;try{var Y=f.flags;if(Y&32&&Ie&&xt(f.stateNode),Y&512){var de=f.alternate;if(de!==null){var Ee=de.ref;Ee!==null&&(typeof Ee=="function"?Ee(null):Ee.current=null)}}if(Y&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var We=f.alternate;(We===null||We.memoizedState===null)&&(Mv=zn())}break;case 22:var lt=f.memoizedState!==null,nt=f.alternate,Vt=nt!==null&&nt.memoizedState!==null;if(g=f,Ie){e:if(S=g,C=lt,T=null,Ie)for(var qe=S;;){if(qe.tag===5){if(T===null){T=qe;var ti=qe.stateNode;C?Xt(ti):fe(qe.stateNode,qe.memoizedProps)}}else if(qe.tag===6){if(T===null){var cr=qe.stateNode;C?Q(cr):xe(cr,qe.memoizedProps)}}else if((qe.tag!==22&&qe.tag!==23||qe.memoizedState===null||qe===S)&&qe.child!==null){qe.child.return=qe,qe=qe.child;continue}if(qe===S)break;for(;qe.sibling===null;){if(qe.return===null||qe.return===S)break e;T===qe&&(T=null),qe=qe.return}T===qe&&(T=null),qe.sibling.return=qe.return,qe=qe.sibling}}if(lt&&!Vt&&g.mode&1){Oe=g;for(var ne=g.child;ne!==null;){for(g=Oe=ne;Oe!==null;){S=Oe;var q=S.child;switch(S.tag){case 0:case 11:case 14:case 15:pa(4,S,S.return);break;case 1:Dh(S,S.return);var ce=S.stateNode;if(typeof ce.componentWillUnmount=="function"){var ke=S.return;try{ce.props=S.memoizedProps,ce.state=S.memoizedState,ce.componentWillUnmount()}catch(Ye){Ei(S,ke,Ye)}}break;case 5:Dh(S,S.return);break;case 22:if(S.memoizedState!==null){zM(g);continue}}q!==null?(q.return=S,Oe=q):zM(g)}ne=ne.sibling}}}switch(Y&4102){case 2:OM(f),f.flags&=-3;break;case 6:OM(f),f.flags&=-3,vv(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,vv(f.alternate,f);break;case 4:vv(f.alternate,f)}}catch(Ye){Ei(f,f.return,Ye)}if(g=f.sibling,g!==null){g.return=f.return,Oe=g;break}Oe=f.return}}}function aO(u,f,g){Oe=u,kM(u)}function kM(u,f,g){for(var S=(u.mode&1)!==0;Oe!==null;){var C=Oe,T=C.child;if(C.tag===22&&S){var N=C.memoizedState!==null||Ih;if(!N){var Y=C.alternate,de=Y!==null&&Y.memoizedState!==null||ha;Y=Ih;var Ee=ha;if(Ih=N,(ha=de)&&!Ee)for(Oe=C;Oe!==null;)N=Oe,de=N.child,N.tag===22&&N.memoizedState!==null?UM(C):de!==null?(de.return=N,Oe=de):UM(C);for(;T!==null;)Oe=T,kM(T),T=T.sibling;Oe=C,Ih=Y,ha=Ee}NM(u)}else C.subtreeFlags&8772&&T!==null?(T.return=C,Oe=T):NM(u)}}function NM(u){for(;Oe!==null;){var f=Oe;if(f.flags&8772){var g=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:ha||Cc(5,f);break;case 1:var S=f.stateNode;if(f.flags&4&&!ha)if(g===null)S.componentDidMount();else{var C=f.elementType===f.type?g.memoizedProps:br(f.type,g.memoizedProps);S.componentDidUpdate(C,g.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var T=f.updateQueue;T!==null&&Lw(f,T,S);break;case 3:var N=f.updateQueue;if(N!==null){if(g=null,f.child!==null)switch(f.child.tag){case 5:g=ee(f.child.stateNode);break;case 1:g=f.child.stateNode}Lw(f,N,g)}break;case 5:var Y=f.stateNode;g===null&&f.flags&4&&Ke(Y,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(le&&f.memoizedState===null){var de=f.alternate;if(de!==null){var Ee=de.memoizedState;if(Ee!==null){var We=Ee.dehydrated;We!==null&&Mt(We)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}ha||f.flags&512&&pv(f)}catch(lt){Ei(f,f.return,lt)}}if(f===u){Oe=null;break}if(g=f.sibling,g!==null){g.return=f.return,Oe=g;break}Oe=f.return}}function zM(u){for(;Oe!==null;){var f=Oe;if(f===u){Oe=null;break}var g=f.sibling;if(g!==null){g.return=f.return,Oe=g;break}Oe=f.return}}function UM(u){for(;Oe!==null;){var f=Oe;try{switch(f.tag){case 0:case 11:case 15:var g=f.return;try{Cc(4,f)}catch(de){Ei(f,g,de)}break;case 1:var S=f.stateNode;if(typeof S.componentDidMount=="function"){var C=f.return;try{S.componentDidMount()}catch(de){Ei(f,C,de)}}var T=f.return;try{pv(f)}catch(de){Ei(f,T,de)}break;case 5:var N=f.return;try{pv(f)}catch(de){Ei(f,N,de)}}}catch(de){Ei(f,f.return,de)}if(f===u){Oe=null;break}var Y=f.sibling;if(Y!==null){Y.return=f.return,Oe=Y;break}Oe=f.return}}var Fh=0,kh=1,Nh=2,zh=3,Uh=4;if(typeof Symbol=="function"&&Symbol.for){var bc=Symbol.for;Fh=bc("selector.component"),kh=bc("selector.has_pseudo_class"),Nh=bc("selector.role"),zh=bc("selector.test_id"),Uh=bc("selector.text")}function yv(u){var f=Ce(u);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(u=Et(u),u===null)throw Error(o(362));return u.stateNode.current}function xv(u,f){switch(f.$$typeof){case Fh:if(u.type===f.value)return!0;break;case kh:e:{f=f.value,u=[u,0];for(var g=0;g<u.length;){var S=u[g++],C=u[g++],T=f[C];if(S.tag!==5||!oe(S)){for(;T!=null&&xv(S,T);)C++,T=f[C];if(C===f.length){f=!0;break e}else for(S=S.child;S!==null;)u.push(S,C),S=S.sibling}}f=!1}return f;case Nh:if(u.tag===5&&we(u.stateNode,f.value))return!0;break;case Uh:if((u.tag===5||u.tag===6)&&(u=I(u),u!==null&&0<=u.indexOf(f.value)))return!0;break;case zh:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function _v(u){switch(u.$$typeof){case Fh:return"<"+(R(u.value)||"Unknown")+">";case kh:return":has("+(_v(u)||"")+")";case Nh:return'[role="'+u.value+'"]';case Uh:return'"'+u.value+'"';case zh:return'[data-testname="'+u.value+'"]';default:throw Error(o(365))}}function GM(u,f){var g=[];u=[u,0];for(var S=0;S<u.length;){var C=u[S++],T=u[S++],N=f[T];if(C.tag!==5||!oe(C)){for(;N!=null&&xv(C,N);)T++,N=f[T];if(T===f.length)g.push(C);else for(C=C.child;C!==null;)u.push(C,T),C=C.sibling}}return g}function Av(u,f){if(!_t)throw Error(o(363));u=yv(u),u=GM(u,f),f=[],u=Array.from(u);for(var g=0;g<u.length;){var S=u[g++];if(S.tag===5)oe(S)||f.push(S.stateNode);else for(S=S.child;S!==null;)u.push(S),S=S.sibling}return f}var lO=Math.ceil,Gh=a.ReactCurrentDispatcher,Sv=a.ReactCurrentOwner,_n=a.ReactCurrentBatchConfig,yt=0,Mn=null,Cn=null,Jn=0,Ui=0,Ll=tr(0),Bn=0,Ec=null,Il=0,Hh=0,wv=0,Tc=null,Ci=null,Mv=0,Cv=1/0;function Dl(){Cv=zn()+500}var Vh=!1,bv=null,so=null,Wh=!1,oo=null,jh=0,Pc=0,Ev=null,Jh=-1,Xh=0;function fi(){return yt&6?zn():Jh!==-1?Jh:Jh=zn()}function ao(u){return u.mode&1?yt&2&&Jn!==0?Jn&-Jn:WD.transition!==null?(Xh===0&&(u=oh,oh<<=1,!(oh&4194240)&&(oh=64),Xh=u),Xh):(u=Ot,u!==0?u:Be()):1}function lr(u,f,g){if(50<Pc)throw Pc=0,Ev=null,Error(o(185));var S=Kh(u,f);return S===null?null:(dc(S,f,g),(!(yt&2)||S!==Mn)&&(S===Mn&&(!(yt&2)&&(Hh|=f),Bn===4&&lo(S,Jn)),bi(S,g),f===1&&yt===0&&!(u.mode&1)&&(Dl(),ch&&qr())),S)}function Kh(u,f){u.lanes|=f;var g=u.alternate;for(g!==null&&(g.lanes|=f),g=u,u=u.return;u!==null;)u.childLanes|=f,g=u.alternate,g!==null&&(g.childLanes|=f),g=u,u=u.return;return g.tag===3?g.stateNode:null}function bi(u,f){var g=u.callbackNode;OD(u,f);var S=lh(u,u===Mn?Jn:0);if(S===0)g!==null&&Ew(g),u.callbackNode=null,u.callbackPriority=0;else if(f=S&-S,u.callbackPriority!==f){if(g!=null&&Ew(g),f===1)u.tag===0?VD(VM.bind(null,u)):Tw(VM.bind(null,u)),Xe?je(function(){yt===0&&qr()}):O0(F0,qr),g=null;else{switch(bw(S)){case 1:g=F0;break;case 4:g=zD;break;case 16:g=k0;break;case 536870912:g=UD;break;default:g=k0}g=ZM(g,HM.bind(null,u))}u.callbackPriority=f,u.callbackNode=g}}function HM(u,f){if(Jh=-1,Xh=0,yt&6)throw Error(o(327));var g=u.callbackNode;if(va()&&u.callbackNode!==g)return null;var S=lh(u,u===Mn?Jn:0);if(S===0)return null;if(S&30||S&u.expiredLanes||f)f=Yh(u,S);else{f=S;var C=yt;yt|=2;var T=JM();(Mn!==u||Jn!==f)&&(Dl(),ma(u,f));do try{fO();break}catch(Y){jM(u,Y)}while(1);U0(),Gh.current=T,yt=C,Cn!==null?f=0:(Mn=null,Jn=0,f=Bn)}if(f!==0){if(f===2&&(C=L0(u),C!==0&&(S=C,f=Tv(u,C))),f===1)throw g=Ec,ma(u,0),lo(u,S),bi(u,zn()),g;if(f===6)lo(u,S);else{if(C=u.current.alternate,!(S&30)&&!uO(C)&&(f=Yh(u,S),f===2&&(T=L0(u),T!==0&&(S=T,f=Tv(u,T))),f===1))throw g=Ec,ma(u,0),lo(u,S),bi(u,zn()),g;switch(u.finishedWork=C,u.finishedLanes=S,f){case 0:case 1:throw Error(o(345));case 2:ga(u,Ci);break;case 3:if(lo(u,S),(S&130023424)===S&&(f=Mv+500-zn(),10<f)){if(lh(u,0)!==0)break;if(C=u.suspendedLanes,(C&S)!==S){fi(),u.pingedLanes|=u.suspendedLanes&C;break}u.timeoutHandle=Ne(ga.bind(null,u,Ci),f);break}ga(u,Ci);break;case 4:if(lo(u,S),(S&4194240)===S)break;for(f=u.eventTimes,C=-1;0<S;){var N=31-Cr(S);T=1<<N,N=f[N],N>C&&(C=N),S&=~T}if(S=C,S=zn()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*lO(S/1960))-S,10<S){u.timeoutHandle=Ne(ga.bind(null,u,Ci),S);break}ga(u,Ci);break;case 5:ga(u,Ci);break;default:throw Error(o(329))}}}return bi(u,zn()),u.callbackNode===g?HM.bind(null,u):null}function Tv(u,f){var g=Tc;return u.current.memoizedState.isDehydrated&&(ma(u,f).flags|=256),u=Yh(u,f),u!==2&&(f=Ci,Ci=g,f!==null&&Pv(f)),u}function Pv(u){Ci===null?Ci=u:Ci.push.apply(Ci,u)}function uO(u){for(var f=u;;){if(f.flags&16384){var g=f.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var S=0;S<g.length;S++){var C=g[S],T=C.getSnapshot;C=C.value;try{if(!Qr(T(),C))return!1}catch{return!1}}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function lo(u,f){for(f&=~wv,f&=~Hh,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var g=31-Cr(f),S=1<<g;u[g]=-1,f&=~S}}function VM(u){if(yt&6)throw Error(o(327));va();var f=lh(u,0);if(!(f&1))return bi(u,zn()),null;var g=Yh(u,f);if(u.tag!==0&&g===2){var S=L0(u);S!==0&&(f=S,g=Tv(u,S))}if(g===1)throw g=Ec,ma(u,0),lo(u,f),bi(u,zn()),g;if(g===6)throw Error(o(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,ga(u,Ci),bi(u,zn()),null}function WM(u){oo!==null&&oo.tag===0&&!(yt&6)&&va();var f=yt;yt|=1;var g=_n.transition,S=Ot;try{if(_n.transition=null,Ot=1,u)return u()}finally{Ot=S,_n.transition=g,yt=f,!(yt&6)&&qr()}}function Bv(){Ui=Ll.current,dt(Ll)}function ma(u,f){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;if(g!==Ve&&(u.timeoutHandle=Ve,ze(g)),Cn!==null)for(g=Cn.return;g!==null;){var S=g;switch(X0(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&rh();break;case 3:Bl(),dt(Nn),dt(zt),ev();break;case 5:Z0(S);break;case 4:Bl();break;case 13:dt(rn);break;case 19:dt(rn);break;case 10:G0(S.type._context);break;case 22:case 23:Bv()}g=g.return}if(Mn=u,Cn=u=uo(u.current,null),Jn=Ui=f,Bn=0,Ec=null,wv=Hh=Il=0,Ci=Tc=null,Zr!==null){for(f=0;f<Zr.length;f++)if(g=Zr[f],S=g.interleaved,S!==null){g.interleaved=null;var C=S.next,T=g.pending;if(T!==null){var N=T.next;T.next=C,S.next=N}g.pending=S}Zr=null}return u}function jM(u,f){do{var g=Cn;try{if(U0(),Ah.current=Eh,Sh){for(var S=mn.memoizedState;S!==null;){var C=S.queue;C!==null&&(C.pending=null),S=S.next}Sh=!1}if(Rl=0,Un=Zn=mn=null,yc=!1,xc=0,Sv.current=null,g===null||g.return===null){Bn=1,Ec=f,Cn=null;break}e:{var T=u,N=g.return,Y=g,de=f;if(f=Jn,Y.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var Ee=de,We=Y,lt=We.tag;if(!(We.mode&1)&&(lt===0||lt===11||lt===15)){var nt=We.alternate;nt?(We.updateQueue=nt.updateQueue,We.memoizedState=nt.memoizedState,We.lanes=nt.lanes):(We.updateQueue=null,We.memoizedState=null)}var Vt=dM(N);if(Vt!==null){Vt.flags&=-257,hM(Vt,N,Y,T,f),Vt.mode&1&&fM(T,Ee,f),f=Vt,de=Ee;var qe=f.updateQueue;if(qe===null){var ti=new Set;ti.add(de),f.updateQueue=ti}else qe.add(de);break e}else{if(!(f&1)){fM(T,Ee,f),Rv();break e}de=Error(o(426))}}else if(Zt&&Y.mode&1){var cr=dM(N);if(cr!==null){!(cr.flags&65536)&&(cr.flags|=256),hM(cr,N,Y,T,f),Q0(de);break e}}T=de,Bn!==4&&(Bn=2),Tc===null?Tc=[T]:Tc.push(T),de=av(de,Y),Y=N;do{switch(Y.tag){case 3:Y.flags|=65536,f&=-f,Y.lanes|=f;var ne=uM(Y,de,f);Rw(Y,ne);break e;case 1:T=de;var q=Y.type,ce=Y.stateNode;if(!(Y.flags&128)&&(typeof q.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(so===null||!so.has(ce)))){Y.flags|=65536,f&=-f,Y.lanes|=f;var ke=cM(Y,T,f);Rw(Y,ke);break e}}Y=Y.return}while(Y!==null)}KM(g)}catch(Ye){f=Ye,Cn===g&&g!==null&&(Cn=g=g.return);continue}break}while(1)}function JM(){var u=Gh.current;return Gh.current=Eh,u===null?Eh:u}function Rv(){(Bn===0||Bn===3||Bn===2)&&(Bn=4),Mn===null||!(Il&268435455)&&!(Hh&268435455)||lo(Mn,Jn)}function Yh(u,f){var g=yt;yt|=2;var S=JM();Mn===u&&Jn===f||ma(u,f);do try{cO();break}catch(C){jM(u,C)}while(1);if(U0(),yt=g,Gh.current=S,Cn!==null)throw Error(o(261));return Mn=null,Jn=0,Bn}function cO(){for(;Cn!==null;)XM(Cn)}function fO(){for(;Cn!==null&&!kD();)XM(Cn)}function XM(u){var f=qM(u.alternate,u,Ui);u.memoizedProps=u.pendingProps,f===null?KM(u):Cn=f,Sv.current=null}function KM(u){var f=u;do{var g=f.alternate;if(u=f.return,f.flags&32768){if(g=iO(g,f),g!==null){g.flags&=32767,Cn=g;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Bn=6,Cn=null;return}}else if(g=eO(g,f,Ui),g!==null){Cn=g;return}if(f=f.sibling,f!==null){Cn=f;return}Cn=f=u}while(f!==null);Bn===0&&(Bn=5)}function ga(u,f){var g=Ot,S=_n.transition;try{_n.transition=null,Ot=1,dO(u,f,g)}finally{_n.transition=S,Ot=g}return null}function dO(u,f,g){do va();while(oo!==null);if(yt&6)throw Error(o(327));var S=u.finishedWork,C=u.finishedLanes;if(S===null)return null;if(u.finishedWork=null,u.finishedLanes=0,S===u.current)throw Error(o(177));u.callbackNode=null,u.callbackPriority=0;var T=S.lanes|S.childLanes;if(FD(u,T),u===Mn&&(Cn=Mn=null,Jn=0),!(S.subtreeFlags&2064)&&!(S.flags&2064)||Wh||(Wh=!0,ZM(k0,function(){return va(),null})),T=(S.flags&15990)!==0,S.subtreeFlags&15990||T){T=_n.transition,_n.transition=null;var N=Ot;Ot=1;var Y=yt;yt|=4,Sv.current=null,sO(u,S),oO(u,S),K(u.containerInfo),u.current=S,aO(S),ND(),yt=Y,Ot=N,_n.transition=T}else u.current=S;if(Wh&&(Wh=!1,oo=u,jh=C),T=u.pendingLanes,T===0&&(so=null),GD(S.stateNode),bi(u,zn()),f!==null)for(g=u.onRecoverableError,S=0;S<f.length;S++)g(f[S]);if(Vh)throw Vh=!1,u=bv,bv=null,u;return jh&1&&u.tag!==0&&va(),T=u.pendingLanes,T&1?u===Ev?Pc++:(Pc=0,Ev=u):Pc=0,qr(),null}function va(){if(oo!==null){var u=bw(jh),f=_n.transition,g=Ot;try{if(_n.transition=null,Ot=16>u?16:u,oo===null)var S=!1;else{if(u=oo,oo=null,jh=0,yt&6)throw Error(o(331));var C=yt;for(yt|=4,Oe=u.current;Oe!==null;){var T=Oe,N=T.child;if(Oe.flags&16){var Y=T.deletions;if(Y!==null){for(var de=0;de<Y.length;de++){var Ee=Y[de];for(Oe=Ee;Oe!==null;){var We=Oe;switch(We.tag){case 0:case 11:case 15:pa(8,We,T)}var lt=We.child;if(lt!==null)lt.return=We,Oe=lt;else for(;Oe!==null;){We=Oe;var nt=We.sibling,Vt=We.return;if(LM(We),We===Ee){Oe=null;break}if(nt!==null){nt.return=Vt,Oe=nt;break}Oe=Vt}}}var qe=T.alternate;if(qe!==null){var ti=qe.child;if(ti!==null){qe.child=null;do{var cr=ti.sibling;ti.sibling=null,ti=cr}while(ti!==null)}}Oe=T}}if(T.subtreeFlags&2064&&N!==null)N.return=T,Oe=N;else e:for(;Oe!==null;){if(T=Oe,T.flags&2048)switch(T.tag){case 0:case 11:case 15:pa(9,T,T.return)}var ne=T.sibling;if(ne!==null){ne.return=T.return,Oe=ne;break e}Oe=T.return}}var q=u.current;for(Oe=q;Oe!==null;){N=Oe;var ce=N.child;if(N.subtreeFlags&2064&&ce!==null)ce.return=N,Oe=ce;else e:for(N=q;Oe!==null;){if(Y=Oe,Y.flags&2048)try{switch(Y.tag){case 0:case 11:case 15:Cc(9,Y)}}catch(Ye){Ei(Y,Y.return,Ye)}if(Y===N){Oe=null;break e}var ke=Y.sibling;if(ke!==null){ke.return=Y.return,Oe=ke;break e}Oe=Y.return}}if(yt=C,qr(),Yr&&typeof Yr.onPostCommitFiberRoot=="function")try{Yr.onPostCommitFiberRoot(uh,u)}catch{}S=!0}return S}finally{Ot=g,_n.transition=f}}return!1}function YM(u,f,g){f=av(g,f),f=uM(u,f,1),ro(u,f),f=fi(),u=Kh(u,1),u!==null&&(dc(u,1,f),bi(u,f))}function Ei(u,f,g){if(u.tag===3)YM(u,u,g);else for(;f!==null;){if(f.tag===3){YM(f,u,g);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(so===null||!so.has(S))){u=av(g,u),u=cM(f,u,1),ro(f,u),u=fi(),f=Kh(f,1),f!==null&&(dc(f,1,u),bi(f,u));break}}f=f.return}}function hO(u,f,g){var S=u.pingCache;S!==null&&S.delete(f),f=fi(),u.pingedLanes|=u.suspendedLanes&g,Mn===u&&(Jn&g)===g&&(Bn===4||Bn===3&&(Jn&130023424)===Jn&&500>zn()-Mv?ma(u,0):wv|=g),bi(u,f)}function QM(u,f){f===0&&(u.mode&1?(f=ah,ah<<=1,!(ah&130023424)&&(ah=4194304)):f=1);var g=fi();u=Kh(u,f),u!==null&&(dc(u,f,g),bi(u,g))}function pO(u){var f=u.memoizedState,g=0;f!==null&&(g=f.retryLane),QM(u,g)}function mO(u,f){var g=0;switch(u.tag){case 13:var S=u.stateNode,C=u.memoizedState;C!==null&&(g=C.retryLane);break;case 19:S=u.stateNode;break;default:throw Error(o(314))}S!==null&&S.delete(f),QM(u,g)}var qM;qM=function(u,f,g){if(u!==null)if(u.memoizedProps!==f.pendingProps||Nn.current)zi=!0;else{if(!(u.lanes&g)&&!(f.flags&128))return zi=!1,nO(u,f,g);zi=!!(u.flags&131072)}else zi=!1,Zt&&f.flags&1048576&&kw(f,yh,f.index);switch(f.lanes=0,f.tag){case 2:var S=f.type;u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),u=f.pendingProps;var C=ys(f,zt.current);Ml(f,g),C=nv(null,f,S,u,C,g);var T=iv();return f.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Mi(S)?(T=!0,sh(f)):T=!1,f.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,V0(f),C.updater=gh,f.stateNode=C,C._reactInternals=f,j0(f,S,u,g),f=cv(null,f,S,!0,T,g)):(f.tag=0,Zt&&T&&J0(f),ci(null,f,C,g),f=f.child),f;case 16:S=f.elementType;e:{switch(u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),u=f.pendingProps,C=S._init,S=C(S._payload),f.type=S,C=f.tag=vO(S),u=br(S,u),C){case 0:f=uv(null,f,S,u,g);break e;case 1:f=AM(null,f,S,u,g);break e;case 11:f=gM(null,f,S,u,g);break e;case 14:f=vM(null,f,S,br(S.type,u),g);break e}throw Error(o(306,S,""))}return f;case 0:return S=f.type,C=f.pendingProps,C=f.elementType===S?C:br(S,C),uv(u,f,S,C,g);case 1:return S=f.type,C=f.pendingProps,C=f.elementType===S?C:br(S,C),AM(u,f,S,C,g);case 3:e:{if(SM(f),u===null)throw Error(o(387));S=f.pendingProps,T=f.memoizedState,C=T.element,Bw(u,f),mh(f,S,null,g);var N=f.memoizedState;if(S=N.element,le&&T.isDehydrated)if(T={element:S,isDehydrated:!1,cache:N.cache,transitions:N.transitions},f.updateQueue.baseState=T,f.memoizedState=T,f.flags&256){C=Error(o(423)),f=wM(u,f,S,g,C);break e}else if(S!==C){C=Error(o(424)),f=wM(u,f,S,g,C);break e}else for(le&&(Ni=$(f.stateNode.containerInfo),ki=f,Zt=!0,Er=null,hc=!1),g=Vw(f,null,S,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(El(),S===C){f=Ms(u,f,g);break e}ci(u,f,S,g)}f=f.child}return f;case 5:return Ww(f),u===null&&Y0(f),S=f.type,C=f.pendingProps,T=u!==null?u.memoizedProps:null,N=C.children,_e(S,C)?N=null:T!==null&&_e(S,T)&&(f.flags|=32),_M(u,f),ci(u,f,N,g),f.child;case 6:return u===null&&Y0(f),null;case 13:return MM(u,f,g);case 4:return q0(f,f.stateNode.containerInfo),S=f.pendingProps,u===null?f.child=Tl(f,null,S,g):ci(u,f,S,g),f.child;case 11:return S=f.type,C=f.pendingProps,C=f.elementType===S?C:br(S,C),gM(u,f,S,C,g);case 7:return ci(u,f,f.pendingProps,g),f.child;case 8:return ci(u,f,f.pendingProps.children,g),f.child;case 12:return ci(u,f,f.pendingProps.children,g),f.child;case 10:e:{if(S=f.type._context,C=f.pendingProps,T=f.memoizedProps,N=C.value,Pw(f,S,N),T!==null)if(Qr(T.value,N)){if(T.children===C.children&&!Nn.current){f=Ms(u,f,g);break e}}else for(T=f.child,T!==null&&(T.return=f);T!==null;){var Y=T.dependencies;if(Y!==null){N=T.child;for(var de=Y.firstContext;de!==null;){if(de.context===S){if(T.tag===1){de=_s(-1,g&-g),de.tag=2;var Ee=T.updateQueue;if(Ee!==null){Ee=Ee.shared;var We=Ee.pending;We===null?de.next=de:(de.next=We.next,We.next=de),Ee.pending=de}}T.lanes|=g,de=T.alternate,de!==null&&(de.lanes|=g),H0(T.return,g,f),Y.lanes|=g;break}de=de.next}}else if(T.tag===10)N=T.type===f.type?null:T.child;else if(T.tag===18){if(N=T.return,N===null)throw Error(o(341));N.lanes|=g,Y=N.alternate,Y!==null&&(Y.lanes|=g),H0(N,g,f),N=T.sibling}else N=T.child;if(N!==null)N.return=T;else for(N=T;N!==null;){if(N===f){N=null;break}if(T=N.sibling,T!==null){T.return=N.return,N=T;break}N=N.return}T=N}ci(u,f,C.children,g),f=f.child}return f;case 9:return C=f.type,S=f.pendingProps.children,Ml(f,g),C=ir(C),S=S(C),f.flags|=1,ci(u,f,S,g),f.child;case 14:return S=f.type,C=br(S,f.pendingProps),C=br(S.type,C),vM(u,f,S,C,g);case 15:return yM(u,f,f.type,f.pendingProps,g);case 17:return S=f.type,C=f.pendingProps,C=f.elementType===S?C:br(S,C),u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,Mi(S)?(u=!0,sh(f)):u=!1,Ml(f,g),Ow(f,S,C),j0(f,S,C,g),cv(null,f,S,!0,u,g);case 19:return TM(u,f,g);case 22:return xM(u,f,g)}throw Error(o(156,f.tag))};function ZM(u,f){return O0(u,f)}function gO(u,f,g,S){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(u,f,g,S){return new gO(u,f,g,S)}function Lv(u){return u=u.prototype,!(!u||!u.isReactComponent)}function vO(u){if(typeof u=="function")return Lv(u)?1:0;if(u!=null){if(u=u.$$typeof,u===v)return 11;if(u===_)return 14}return 2}function uo(u,f){var g=u.alternate;return g===null?(g=ur(u.tag,f,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=f,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&14680064,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,f=u.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g}function Qh(u,f,g,S,C,T){var N=2;if(S=u,typeof u=="function")Lv(u)&&(N=1);else if(typeof u=="string")N=5;else e:switch(u){case d:return ya(g.children,C,T,f);case h:N=8,C|=8;break;case p:return u=ur(12,g,f,C|2),u.elementType=p,u.lanes=T,u;case x:return u=ur(13,g,f,C),u.elementType=x,u.lanes=T,u;case A:return u=ur(19,g,f,C),u.elementType=A,u.lanes=T,u;case M:return qh(g,C,T,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case m:N=10;break e;case y:N=9;break e;case v:N=11;break e;case _:N=14;break e;case w:N=16,S=null;break e}throw Error(o(130,u==null?u:typeof u,""))}return f=ur(N,g,f,C),f.elementType=u,f.type=S,f.lanes=T,f}function ya(u,f,g,S){return u=ur(7,u,S,f),u.lanes=g,u}function qh(u,f,g,S){return u=ur(22,u,S,f),u.elementType=M,u.lanes=g,u.stateNode={},u}function Iv(u,f,g){return u=ur(6,u,null,f),u.lanes=g,u}function Dv(u,f,g){return f=ur(4,u.children!==null?u.children:[],u.key,f),f.lanes=g,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function yO(u,f,g,S,C){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ve,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=I0(0),this.expirationTimes=I0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I0(0),this.identifierPrefix=S,this.onRecoverableError=C,le&&(this.mutableSourceEagerHydrationData=null)}function $M(u,f,g,S,C,T,N,Y,de){return u=new yO(u,f,g,Y,de),f===1?(f=1,T===!0&&(f|=8)):f=0,T=ur(3,null,null,f),u.current=T,T.stateNode=u,T.memoizedState={element:S,isDehydrated:g,cache:null,transitions:null},V0(T),u}function eC(u){if(!u)return nr;u=u._reactInternals;e:{if(B(u)!==u||u.tag!==1)throw Error(o(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Mi(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(u.tag===1){var g=u.type;if(Mi(g))return Mw(u,g,f)}return f}function tC(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(o(188)):(u=Object.keys(u).join(","),Error(o(268,u)));return u=H(f),u===null?null:u.stateNode}function nC(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<f?g:f}}function Ov(u,f){nC(u,f),(u=u.alternate)&&nC(u,f)}function xO(u){return u=H(u),u===null?null:u.stateNode}function _O(){return null}return t.attemptContinuousHydration=function(u){if(u.tag===13){var f=fi();lr(u,134217728,f),Ov(u,134217728)}},t.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var f=fi(),g=ao(u);lr(u,g,f),Ov(u,g)}},t.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var g=fc(f.pendingLanes);g!==0&&(D0(f,g|1),bi(f,zn()),!(yt&6)&&(Dl(),qr()))}break;case 13:var S=fi();WM(function(){return lr(u,1,S)}),Ov(u,1)}},t.batchedUpdates=function(u,f){var g=yt;yt|=1;try{return u(f)}finally{yt=g,yt===0&&(Dl(),ch&&qr())}},t.createComponentSelector=function(u){return{$$typeof:Fh,value:u}},t.createContainer=function(u,f,g,S,C,T,N){return $M(u,f,!1,null,g,S,C,T,N)},t.createHasPseudoClassSelector=function(u){return{$$typeof:kh,value:u}},t.createHydrationContainer=function(u,f,g,S,C,T,N,Y,de){return u=$M(g,S,!0,u,C,T,N,Y,de),u.context=eC(null),g=u.current,S=fi(),C=ao(g),T=_s(S,C),T.callback=f??null,ro(g,T),u.current.lanes=C,dc(u,C,S),bi(u,S),u},t.createPortal=function(u,f,g){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:S==null?null:""+S,children:u,containerInfo:f,implementation:g}},t.createRoleSelector=function(u){return{$$typeof:Nh,value:u}},t.createTestNameSelector=function(u){return{$$typeof:zh,value:u}},t.createTextSelector=function(u){return{$$typeof:Uh,value:u}},t.deferredUpdates=function(u){var f=Ot,g=_n.transition;try{return _n.transition=null,Ot=16,u()}finally{Ot=f,_n.transition=g}},t.discreteUpdates=function(u,f,g,S,C){var T=Ot,N=_n.transition;try{return _n.transition=null,Ot=1,u(f,g,S,C)}finally{Ot=T,_n.transition=N,yt===0&&Dl()}},t.findAllNodes=Av,t.findBoundingRects=function(u,f){if(!_t)throw Error(o(363));f=Av(u,f),u=[];for(var g=0;g<f.length;g++)u.push(z(f[g]));for(f=u.length-1;0<f;f--){g=u[f];for(var S=g.x,C=S+g.width,T=g.y,N=T+g.height,Y=f-1;0<=Y;Y--)if(f!==Y){var de=u[Y],Ee=de.x,We=Ee+de.width,lt=de.y,nt=lt+de.height;if(S>=Ee&&T>=lt&&C<=We&&N<=nt){u.splice(f,1);break}else if(S!==Ee||g.width!==de.width||nt<T||lt>N){if(!(T!==lt||g.height!==de.height||We<S||Ee>C)){Ee>S&&(de.width+=Ee-S,de.x=S),We<C&&(de.width=C-Ee),u.splice(f,1);break}}else{lt>T&&(de.height+=lt-T,de.y=T),nt<N&&(de.height=N-lt),u.splice(f,1);break}}}return u},t.findHostInstance=tC,t.findHostInstanceWithNoPortals=function(u){return u=O(u),u=u!==null?W(u):null,u===null?null:u.stateNode},t.findHostInstanceWithWarning=function(u){return tC(u)},t.flushControlled=function(u){var f=yt;yt|=1;var g=_n.transition,S=Ot;try{_n.transition=null,Ot=1,u()}finally{Ot=S,_n.transition=g,yt=f,yt===0&&(Dl(),qr())}},t.flushPassiveEffects=va,t.flushSync=WM,t.focusWithin=function(u,f){if(!_t)throw Error(o(363));for(u=yv(u),f=GM(u,f),f=Array.from(f),u=0;u<f.length;){var g=f[u++];if(!oe(g)){if(g.tag===5&&be(g.stateNode))return!0;for(g=g.child;g!==null;)f.push(g),g=g.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Ot},t.getFindAllNodesFailureDescription=function(u,f){if(!_t)throw Error(o(363));var g=0,S=[];u=[yv(u),0];for(var C=0;C<u.length;){var T=u[C++],N=u[C++],Y=f[N];if((T.tag!==5||!oe(T))&&(xv(T,Y)&&(S.push(_v(Y)),N++,N>g&&(g=N)),N<f.length))for(T=T.child;T!==null;)u.push(T,N),T=T.sibling}if(g<f.length){for(u=[];g<f.length;g++)u.push(_v(f[g]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},t.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return ee(u.child.stateNode);default:return u.child.stateNode}},t.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:xO,findFiberByHostInstance:u.findFiberByHostInstance||_O,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)u=!0;else{try{uh=f.inject(u),Yr=f}catch{}u=!!f.checkDCE}}return u},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(u,f,g,S){if(!_t)throw Error(o(363));u=Av(u,f);var C=Pe(u,g,S).disconnect;return{disconnect:function(){C()}}},t.registerMutableSourceForHydration=function(u,f){var g=f._getVersion;g=g(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,g]:u.mutableSourceEagerHydrationData.push(f,g)},t.runWithPriority=function(u,f){var g=Ot;try{return Ot=u,f()}finally{Ot=g}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(u,f,g,S){var C=f.current,T=fi(),N=ao(C);return g=eC(g),f.context===null?f.context=g:f.pendingContext=g,f=_s(T,N),f.payload={element:u},S=S===void 0?null:S,S!==null&&(f.callback=S),ro(C,f),u=lr(C,N,T),u!==null&&ph(u,C,N),N},t};(function(n){n.exports=P9})(E9);const B9=Z1(o1);function s3(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}const Os=[];function o3(n,e,t=!1,i={}){for(const s of Os)if(s3(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,promise:n(...e).then(s=>r.response=s).then(()=>{i.lifespan&&i.lifespan>0&&setTimeout(()=>{const s=Os.indexOf(r);s!==-1&&Os.splice(s,1)},i.lifespan)}).catch(s=>r.error=s)};if(Os.push(r),!t)throw r.promise}const R9=(n,e,t)=>o3(n,e,!1,t),L9=(n,e,t)=>void o3(n,e,!0,t),I9=n=>{if(n===void 0||n.length===0)Os.splice(0,Os.length);else{const e=Os.find(t=>s3(n,t.keys,t.equal));if(e){const t=Os.indexOf(e);t!==-1&&Os.splice(t,1)}}},kS={},D9=n=>void Object.assign(kS,n);function O9(n,e){function t(d,{args:h=[],attach:p,...m},y){let v=`${d[0].toUpperCase()}${d.slice(1)}`,x;if(d==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const A=m.object;x=tu(A,{type:d,root:y,attach:p,primitive:!0})}else{const A=kS[v];if(!A)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");x=tu(new A(...h),{type:d,root:y,attach:p,memoizedProps:{args:h}})}return x.__r3f.attach===void 0&&(x instanceof ft?x.__r3f.attach="geometry":x instanceof Pn&&(x.__r3f.attach="material")),v!=="inject"&&jy(x,m),x}function i(d,h){let p=!1;if(h){var m,y;(m=h.__r3f)!=null&&m.attach?Wy(d,h,h.__r3f.attach):h.isObject3D&&d.isObject3D&&(d.add(h),p=!0),p||(y=d.__r3f)==null||y.objects.push(h),h.__r3f||tu(h,{}),h.__r3f.parent=d,l1(h),nu(h)}}function r(d,h,p){let m=!1;if(h){var y,v;if((y=h.__r3f)!=null&&y.attach)Wy(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){h.parent=d,h.dispatchEvent({type:"added"});const x=d.children.filter(_=>_!==h),A=x.indexOf(p);d.children=[...x.slice(0,A),h,...x.slice(A)],m=!0}m||(v=d.__r3f)==null||v.objects.push(h),h.__r3f||tu(h,{}),h.__r3f.parent=d,l1(h),nu(h)}}function s(d,h,p=!1){d&&[...d].forEach(m=>o(h,m,p))}function o(d,h,p){if(h){var m,y,v;if(h.__r3f&&(h.__r3f.parent=null),(m=d.__r3f)!=null&&m.objects&&(d.__r3f.objects=d.__r3f.objects.filter(M=>M!==h)),(y=h.__r3f)!=null&&y.attach)jE(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){var x;d.remove(h),(x=h.__r3f)!=null&&x.root&&V9(h.__r3f.root,h)}const _=(v=h.__r3f)==null?void 0:v.primitive,w=p===void 0?h.dispose!==null&&!_:p;if(!_){var A;s((A=h.__r3f)==null?void 0:A.objects,h,w),s(h.children,h,w)}h.__r3f&&(delete h.__r3f.root,delete h.__r3f.objects,delete h.__r3f.handlers,delete h.__r3f.memoizedProps,_||delete h.__r3f),w&&h.dispose&&h.type!=="Scene"&&cd.unstable_scheduleCallback(cd.unstable_IdlePriority,()=>{try{h.dispose()}catch{}}),nu(d)}}function a(d,h,p,m){var y;const v=(y=d.__r3f)==null?void 0:y.parent;if(!v)return;const x=t(h,p,d.__r3f.root);if(d.children){for(const A of d.children)A.__r3f&&i(x,A);d.children=d.children.filter(A=>!A.__r3f)}d.__r3f.objects.forEach(A=>i(x,A)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(v,d),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),i(v,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[m,m.alternate].forEach(A=>{A!==null&&(A.stateNode=x,A.ref&&(typeof A.ref=="function"?A.ref(x):A.ref.current=x))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:B9({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,h)=>{if(!h)return;const p=d.getState().scene;p.__r3f&&(p.__r3f.root=d,i(p,h))},removeChildFromContainer:(d,h)=>{h&&o(d.getState().scene,h)},insertInContainerBefore:(d,h,p)=>{if(!h||!p)return;const m=d.getState().scene;m.__r3f&&r(m,h,p)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var h;return!!((h=d==null?void 0:d.__r3f)!=null?h:{}).handlers},prepareUpdate(d,h,p,m){if(d.__r3f.primitive&&m.object&&m.object!==d)return[!0];{const{args:y=[],children:v,...x}=m,{args:A=[],children:_,...w}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((E,P)=>E!==A[P]))return[!0];const M=h3(d,x,w,!0);return M.changes.length?[!1,M]:null}},commitUpdate(d,[h,p],m,y,v,x){h?a(d,m,v,x):jy(d,p)},commitMount(d,h,p,m){var y;const v=(y=d.__r3f)!=null?y:{};d.raycast&&v.handlers&&v.eventCount&&d.__r3f.root.getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>tu(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var h;const{attach:p,parent:m}=(h=d.__r3f)!=null?h:{};p&&m&&jE(m,d,p),d.isObject3D&&(d.visible=!1),nu(d)},unhideInstance(d,h){var p;const{attach:m,parent:y}=(p=d.__r3f)!=null?p:{};m&&y&&Wy(y,d,m),(d.isObject3D&&h.visible==null||h.visible)&&(d.visible=!0),nu(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Lo.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Yt.fun(performance.now)?performance.now:Yt.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Yt.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Yt.fun(clearTimeout)?clearTimeout:void 0}),applyProps:jy}}var GE,HE;const a3=()=>{var n;return(n=kS.ColorManagement)!=null?n:null},l3=n=>n&&n.isOrthographicCamera,F9=n=>n&&n.hasOwnProperty("current"),Jd=typeof window<"u"&&((GE=window.document)!=null&&GE.createElement||((HE=window.navigator)==null?void 0:HE.product)==="ReactNative")?G.useLayoutEffect:G.useEffect;function u3(n){const e=G.useRef(n);return Jd(()=>void(e.current=n),[n]),e}function k9({set:n}){return Jd(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class c3 extends G.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}c3.getDerivedStateFromError=()=>({error:!0});const f3="__default",VE=new Map,N9=n=>n&&!!n.memoized&&!!n.changes;function d3(n){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}const Qc=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Yt={obj:n=>n===Object(n)&&!Yt.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Yt.str(n)||Yt.num(n))return n===e;const s=Yt.obj(n);if(s&&i==="reference")return n===e;const o=Yt.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!Yt.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(Yt.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function z9(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function U9(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function tu(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function a1(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const WE=/-\d+$/;function Wy(n,e,t){if(Yt.str(t)){if(WE.test(t)){const s=t.replace(WE,""),{target:o,key:a}=a1(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=a1(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function jE(n,e,t){var i,r;if(Yt.str(t)){const{target:s,key:o}=a1(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function h3(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){var d;const h=(d=n==null?void 0:n.__r3f)!=null?d:{},p=Object.entries(r),m=[];if(c){const v=Object.keys(l);for(let x=0;x<v.length;x++)r.hasOwnProperty(v[x])||p.unshift([v[x],f3+"remove"])}p.forEach(([v,x])=>{var A;if((A=n.__r3f)!=null&&A.primitive&&v==="object"||Yt.equ(x,l[v]))return;if(/^on(LostPointer|Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return m.push([v,x,!0,[]]);let _=[];v.includes("-")&&(_=v.split("-")),m.push([v,x,!1,_]);for(const w in r){const M=r[w];w.startsWith(`${v}-`)&&m.push([w,M,!1,w.split("-")])}});const y={...r};return h.memoizedProps&&h.memoizedProps.args&&(y.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(y.attach=h.memoizedProps.attach),{memoized:y,changes:m}}function jy(n,e){var t,i,r;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:l,changes:c}=N9(e)?e:h3(n,e),d=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[m,y,v,x]=c[p],A=n,_=A[m];if(x.length&&(_=x.reduce((w,M)=>w[M],n),!(_&&_.set))){const[w,...M]=x.reverse();A=M.reverse().reduce((E,P)=>E[P],n),m=w}if(y===f3+"remove")if(A.constructor){let w=VE.get(A.constructor);w||(w=new A.constructor,VE.set(A.constructor,w)),y=w[m]}else y=0;if(v)y?s.handlers[m]=y:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof nl)){if(Array.isArray(y))_.fromArray?_.fromArray(y):_.set(...y);else if(_.copy&&y&&y.constructor&&_.constructor===y.constructor)_.copy(y);else if(y!==void 0){const w=_ instanceof Le;!w&&_.setScalar?_.setScalar(y):_ instanceof nl&&y instanceof nl?_.mask=y.mask:_.set(y),!a3()&&!a.linear&&w&&_.convertSRGBToLinear()}}else A[m]=y,!a.linear&&A[m]instanceof nn&&A[m].format===Bi&&A[m].type===Qs&&(A[m].encoding=Pt);nu(n)}if(s.parent&&a.internal&&n.raycast&&d!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(r=n.__r3f)!=null&&r.parent&&l1(n),n}function nu(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function l1(n){n.onUpdate==null||n.onUpdate(n)}function G9(n,e){n.manual||(l3(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function tm(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function H9(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Lo.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Lo.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Lo.ContinuousEventPriority;default:return Lo.DefaultEventPriority}}function p3(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function V9(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{p3(t.capturedMap,e,i,r)})}function W9(n){function e(l){const{internal:c}=n.getState(),d=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(d*d+h*h))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(d=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+d]}))}function i(l,c){const d=n.getState(),h=new Set,p=[],m=c?c(d.internal.interaction):d.internal.interaction;for(let A=0;A<m.length;A++){const _=Qc(m[A]);_&&(_.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function y(A){const _=Qc(A);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var w;_.events.compute==null||_.events.compute(l,_,(w=_.previousRoot)==null?void 0:w.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(A,!0):[]}let v=m.flatMap(y).sort((A,_)=>{const w=Qc(A.object),M=Qc(_.object);return!w||!M?A.distance-_.distance:M.events.priority-w.events.priority||A.distance-_.distance}).filter(A=>{const _=tm(A);return h.has(_)?!1:(h.add(_),!0)});d.events.filter&&(v=d.events.filter(v,d));for(const A of v){let _=A.object;for(;_;){var x;(x=_.__r3f)!=null&&x.eventCount&&p.push({...A,eventObject:_}),_=_.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let A of d.internal.capturedMap.get(l.pointerId).values())h.has(tm(A.intersection))||p.push(A.intersection);return p}function r(l,c,d,h){const p=n.getState();if(l.length){const m={stopped:!1};for(const y of l){const v=Qc(y.object)||p,{raycaster:x,pointer:A,camera:_,internal:w}=v,M=new D(A.x,A.y,0).unproject(_),E=L=>{var O,H;return(O=(H=w.capturedMap.get(L))==null?void 0:H.has(y.eventObject))!=null?O:!1},P=L=>{const O={intersection:y,target:c.target};w.capturedMap.has(L)?w.capturedMap.get(L).set(y.eventObject,O):w.capturedMap.set(L,new Map([[y.eventObject,O]])),c.target.setPointerCapture(L)},R=L=>{const O=w.capturedMap.get(L);O&&p3(w.capturedMap,y.eventObject,O,L)};let b={};for(let L in c){let O=c[L];typeof O!="function"&&(b[L]=O)}let B={...y,...b,pointer:A,intersections:l,stopped:m.stopped,delta:d,unprojectedPoint:M,ray:x.ray,camera:_,stopPropagation(){const L="pointerId"in c&&w.capturedMap.get(c.pointerId);if((!L||L.has(y.eventObject))&&(B.stopped=m.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(O=>O.eventObject===y.eventObject))){const O=l.slice(0,l.indexOf(y));s([...O,y])}},target:{hasPointerCapture:E,setPointerCapture:P,releasePointerCapture:R},currentTarget:{hasPointerCapture:E,setPointerCapture:P,releasePointerCapture:R},nativeEvent:c};if(h(B),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const d of c.hovered.values())if(!l.length||!l.find(h=>h.object===d.object&&h.index===d.index&&h.instanceId===d.instanceId)){const p=d.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(tm(d)),p!=null&&p.eventCount){const y={...d,intersections:l};m.onPointerOut==null||m.onPointerOut(y),m.onPointerLeave==null||m.onPointerLeave(y)}}}function o(l,c){for(let d=0;d<c.length;d++){const h=c[d].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([])}return function(d){const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=d;const m=l==="onPointerMove",y=l==="onLostPointerCapture",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",A=i(d,m?t:void 0),_=v?e(d):0;l==="onPointerDown"&&(p.initialClick=[d.offsetX,d.offsetY],p.initialHits=A.map(M=>M.eventObject)),v&&!A.length&&_<=2&&(o(d,p.interaction),h&&h(d)),m&&s(A);function w(M){const E=M.eventObject,P=E.__r3f,R=P==null?void 0:P.handlers;if(P!=null&&P.eventCount)if(m){if(R.onPointerOver||R.onPointerEnter||R.onPointerOut||R.onPointerLeave){const b=tm(M),B=p.hovered.get(b);B?B.stopped&&M.stopPropagation():(p.hovered.set(b,M),R.onPointerOver==null||R.onPointerOver(M),R.onPointerEnter==null||R.onPointerEnter(M))}R.onPointerMove==null||R.onPointerMove(M)}else if(y){const{internal:b}=n.getState();"pointerId"in d&&b.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{b.capturedMap.has(d.pointerId)&&(b.capturedMap.delete(d.pointerId),s([]),R.onLostPointerCapture==null||R.onLostPointerCapture(M))})}else{const b=R[l];b?(!v||p.initialHits.includes(E))&&(o(d,p.interaction.filter(B=>!p.initialHits.includes(B))),b(M)):v&&p.initialHits.includes(E)&&o(d,p.interaction.filter(B=>!p.initialHits.includes(B)))}}r(A,d,_,w)}}return{handlePointer:a}}const m3=n=>!!(n!=null&&n.render),g3=G.createContext(null),j9=(n,e)=>{const t=i3((a,l)=>{const c=new D,d=new D,h=new D;function p(A=l().camera,_=d,w=l().size){const{width:M,height:E,top:P,left:R}=w,b=M/E;_ instanceof D?h.copy(_):h.set(..._);const B=A.getWorldPosition(c).distanceTo(h);if(l3(A))return{width:M/A.zoom,height:E/A.zoom,top:P,left:R,factor:1,distance:B,aspect:b};{const L=A.fov*Math.PI/180,O=2*Math.tan(L/2)*B,H=O*(M/E);return{width:H,height:O,top:P,left:R,factor:M/H,distance:B,aspect:b}}}let m;const y=A=>a(_=>({performance:{..._.performance,current:A}})),v=new ge;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(A=1)=>n(l(),A),advance:(A,_)=>e(A,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new IS,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const A=l();m&&clearTimeout(m),A.performance.current!==A.performance.min&&y(A.performance.min),m=setTimeout(()=>y(l().performance.max),A.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:A=>a(_=>({..._,events:{..._.events,...A}})),setSize:(A,_,w,M,E)=>{const P=l().camera,R={width:A,height:_,top:M||0,left:E||0,updateStyle:w};a(b=>({size:R,viewport:{...b.viewport,...p(P,d,R)}}))},setDpr:A=>a(_=>{const w=d3(A);return{viewport:{..._.viewport,dpr:w,initialDpr:_.viewport.initialDpr||w}}}),setFrameloop:(A="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,A!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:A}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:G.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(A,_,w)=>{const M=l().internal;return M.priority=M.priority+(_>0?1:0),M.subscribers.push({ref:A,priority:_,store:w}),M.subscribers=M.subscribers.sort((E,P)=>E.priority-P.priority),()=>{const E=l().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(_>0?1:0),E.subscribers=E.subscribers.filter(P=>P.ref!==A))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:d,set:h}=t.getState();if(l!==r||c.dpr!==s){var p;r=l,s=c.dpr,G9(a,l),d.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,m)}a!==o&&(o=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let nm,J9=new Set,X9=new Set,K9=new Set;function Jy(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function qc(n,e){switch(n){case"before":return Jy(J9,e);case"after":return Jy(X9,e);case"tail":return Jy(K9,e)}}let Xy,Ky;function Yy(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),Xy=e.internal.subscribers,nm=0;nm<Xy.length;nm++)Ky=Xy[nm],Ky.ref.current(Ky.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Y9(n){let e=!1,t,i,r;function s(l){i=requestAnimationFrame(s),e=!0,t=0,qc("before",l);for(const d of n.values()){var c;r=d.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((c=r.gl.xr)!=null&&c.isPresenting)&&(t+=Yy(l,r))}if(qc("after",l),t===0)return qc("tail",l),e=!1,cancelAnimationFrame(i)}function o(l,c=1){var d;if(!l)return n.forEach(h=>o(h.store.getState()),c);(d=l.gl.xr)!=null&&d.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,d,h){if(c&&qc("before",l),d)Yy(l,d,h);else for(const p of n.values())Yy(l,p.store.getState());c&&qc("after",l)}return{loop:s,invalidate:o,advance:a}}function v3(){const n=G.useContext(g3);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function mr(n=t=>t,e){return v3()(n,e)}function Xd(n,e=0){const t=v3(),i=t.getState().internal.subscribe,r=u3(n);return Jd(()=>i(r,e,t),[e,i,t]),null}function y3(n,e){return function(t,...i){const r=new t;return n&&n(r),Promise.all(i.map(s=>new Promise((o,a)=>r.load(s,l=>{l.scene&&Object.assign(l,z9(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function Kd(n,e,t,i){const r=Array.isArray(e)?e:[e],s=R9(y3(t,i),[n,...r],{equal:Yt.equ});return Array.isArray(e)?s:s[0]}Kd.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return L9(y3(t),[n,...i])};Kd.clear=function(n,e){const t=Array.isArray(e)?e:[e];return I9([n,...t])};const Ku=new Map,{invalidate:JE,advance:XE}=Y9(Ku),{reconciler:cg,applyProps:Zc}=O9(Ku,H9),eu={objects:"shallow",strict:!1},Q9=(n,e)=>{const t=typeof n=="function"?n(e):n;return m3(t)?t:new fS({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function q9(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function Z9(n){const e=Ku.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||j9(JE,XE),o=t||cg.createContainer(s,Lo.ConcurrentRoot,null,!1,null,"",r,null);e||Ku.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(d={}){let{gl:h,size:p,scene:m,events:y,onCreated:v,shadows:x=!1,linear:A=!1,flat:_=!1,legacy:w=!1,orthographic:M=!1,frameloop:E="always",dpr:P=[1,2],performance:R,raycaster:b,camera:B,onPointerMissed:L}=d,O=s.getState(),H=O.gl;O.gl||O.set({gl:H=Q9(h,n)});let U=O.raycaster;U||O.set({raycaster:U=new t3});const{params:W,...J}=b||{};if(Yt.equ(J,U,eu)||Zc(U,{...J}),Yt.equ(W,U.params,eu)||Zc(U,{params:{...U.params,...W}}),!O.camera||O.camera===c&&!Yt.equ(c,B,eu)){c=B;const ae=B instanceof Pd,V=ae?B:M?new Gr(0,0,0,0,.1,1e3):new jt(75,0,.1,1e3);ae||(V.position.z=5,B&&Zc(V,B),!O.camera&&!(B!=null&&B.rotation)&&V.lookAt(0,0,0)),O.set({camera:V})}if(!O.scene){let ae;m instanceof ug?ae=m:(ae=new ug,m&&Zc(ae,m)),O.set({scene:tu(ae)})}if(!O.xr){const ae=(pe,_e)=>{const Z=s.getState();Z.frameloop!=="never"&&XE(pe,!0,Z,_e)},V=()=>{const pe=s.getState();pe.gl.xr.enabled=pe.gl.xr.isPresenting,pe.gl.xr.setAnimationLoop(pe.gl.xr.isPresenting?ae:null),pe.gl.xr.isPresenting||JE(pe)},se={connect(){const pe=s.getState().gl;pe.xr.addEventListener("sessionstart",V),pe.xr.addEventListener("sessionend",V)},disconnect(){const pe=s.getState().gl;pe.xr.removeEventListener("sessionstart",V),pe.xr.removeEventListener("sessionend",V)}};H.xr&&se.connect(),O.set({xr:se})}if(H.shadowMap){const ae=H.shadowMap.enabled,V=H.shadowMap.type;if(H.shadowMap.enabled=!!x,Yt.boo(x))H.shadowMap.type=Sf;else if(Yt.str(x)){var ee;const se={basic:uR,percentage:e0,soft:Sf,variance:Va};H.shadowMap.type=(ee=se[x])!=null?ee:Sf}else Yt.obj(x)&&Object.assign(H.shadowMap,x);(ae!==H.shadowMap.enabled||V!==H.shadowMap.type)&&(H.shadowMap.needsUpdate=!0)}const ie=a3();ie&&("enabled"in ie?ie.enabled=!w:"legacyMode"in ie&&(ie.legacyMode=w));const k=A?qs:Pt,X=_?Ur:qA;H.outputEncoding!==k&&(H.outputEncoding=k),H.toneMapping!==X&&(H.toneMapping=X),O.legacy!==w&&O.set(()=>({legacy:w})),O.linear!==A&&O.set(()=>({linear:A})),O.flat!==_&&O.set(()=>({flat:_})),h&&!Yt.fun(h)&&!m3(h)&&!Yt.equ(h,H,eu)&&Zc(H,h),y&&!O.events.handlers&&O.set({events:y(s)});const K=q9(n,p);return Yt.equ(K,O.size,eu)||O.setSize(K.width,K.height,K.updateStyle,K.top,K.left),P&&O.viewport.dpr!==d3(P)&&O.setDpr(P),O.frameloop!==E&&O.setFrameloop(E),O.onPointerMissed||O.set({onPointerMissed:L}),R&&!Yt.equ(R,O.performance,eu)&&O.set(ae=>({performance:{...ae.performance,...R}})),a=v,l=!0,this},render(d){return l||this.configure(),cg.updateContainer(G.createElement($9,{store:s,children:d,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){x3(n)}}}function $9({store:n,children:e,onCreated:t,rootElement:i}){return Jd(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),G.createElement(g3.Provider,{value:n},e)}function x3(n,e){const t=Ku.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),cg.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),U9(r),Ku.delete(n),e&&e(n)}catch{}},500)})}}cg.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:G.version});function Wr(){return Wr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Wr.apply(this,arguments)}function u1(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var d=Date.now()-o;d<e&&d>=0?i=setTimeout(l,e-d):(i=null,t||(a=n.apply(s,r),s=r=null))}var c=function(){s=this,r=arguments,o=Date.now();var d=t&&!i;return i||(i=setTimeout(l,e)),d&&(a=n.apply(s,r),s=r=null),a};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},c}u1.debounce=u1;var KE=u1;function e8(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=G.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=G.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,d=e?typeof e=="number"?e:e.resize:null,h=G.useRef(!1);G.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,m,y]=G.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:w,top:M,width:E,height:P,bottom:R,right:b,x:B,y:L}=l.current.element.getBoundingClientRect(),O={left:w,top:M,width:E,height:P,bottom:R,right:b,x:B,y:L};l.current.element instanceof HTMLElement&&r&&(O.height=l.current.element.offsetHeight,O.width=l.current.element.offsetWidth),Object.freeze(O),h.current&&!r8(l.current.lastBounds,O)&&a(l.current.lastBounds=O)};return[_,d?KE(_,d):_,c?KE(_,c):_]},[a,r,c,d]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){l.current.element&&(l.current.resizeObserver=new s(y),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",y,{capture:!0,passive:!0})))}const A=_=>{!_||_===l.current.element||(v(),l.current.element=_,l.current.scrollContainers=_3(_),x())};return n8(y,!!t),t8(m),G.useEffect(()=>{v(),x()},[t,y,m]),G.useEffect(()=>v,[]),[A,o,p]}function t8(n){G.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function n8(n,e){G.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function _3(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,..._3(n.parentElement)]}const i8=["x","y","top","bottom","left","right","width","height"],r8=(n,e)=>i8.every(t=>n[t]===e[t]);var s8=Object.defineProperty,o8=Object.defineProperties,a8=Object.getOwnPropertyDescriptors,YE=Object.getOwnPropertySymbols,l8=Object.prototype.hasOwnProperty,u8=Object.prototype.propertyIsEnumerable,QE=(n,e,t)=>e in n?s8(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,qE=(n,e)=>{for(var t in e||(e={}))l8.call(e,t)&&QE(n,t,e[t]);if(YE)for(var t of YE(e))u8.call(e,t)&&QE(n,t,e[t]);return n},c8=(n,e)=>o8(n,a8(e));function A3(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=A3(i,e,t);if(r)return r;i=e?null:i.sibling}}function S3(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const NS=S3(G.createContext(null));class w3 extends G.Component{render(){return G.createElement(NS.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:ZE,ReactCurrentDispatcher:$E}=G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function f8(){const n=G.useContext(NS);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=G.useId();return G.useMemo(()=>{var i;return(i=ZE==null?void 0:ZE.current)!=null?i:A3(n,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[n,e])}function d8(){var n,e;const t=f8(),[i]=G.useState(()=>new Map);i.clear();let r=t;for(;r;){const s=(n=r.type)==null?void 0:n._context;s&&s!==NS&&!i.has(s)&&i.set(s,(e=$E==null?void 0:$E.current)==null?void 0:e.readContext(S3(s))),r=r.return}return i}function h8(){const n=d8();return G.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>G.createElement(e,null,G.createElement(t.Provider,c8(qE({},i),{value:n.get(t)}))),e=>G.createElement(w3,qE({},e))),[n])}const Qy={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function p8(n){const{handlePointer:e}=W9(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(Qy).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=Qy[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=Qy[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const m8=G.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=p8,eventSource:a,eventPrefix:l,shadows:c,linear:d,flat:h,legacy:p,orthographic:m,frameloop:y,dpr:v,performance:x,raycaster:A,camera:_,onPointerMissed:w,onCreated:M,...E},P){G.useMemo(()=>D9(w9),[]);const R=h8(),[b,B]=e8({scroll:!0,debounce:{scroll:50,resize:0},...i}),L=G.useRef(null),O=G.useRef(null);G.useImperativeHandle(P,()=>L.current);const H=u3(w),[U,W]=G.useState(!1),[J,ee]=G.useState(!1);if(U)throw U;if(J)throw J;const ie=G.useRef(null);Jd(()=>{const X=L.current;B.width>0&&B.height>0&&X&&(ie.current||(ie.current=Z9(X)),ie.current.configure({gl:s,events:o,shadows:c,linear:d,flat:h,legacy:p,orthographic:m,frameloop:y,dpr:v,performance:x,raycaster:A,camera:_,size:B,onPointerMissed:(...K)=>H.current==null?void 0:H.current(...K),onCreated:K=>{K.events.connect==null||K.events.connect(a?F9(a)?a.current:a:O.current),l&&K.setEvents({compute:(ae,V)=>{const se=ae[l+"X"],pe=ae[l+"Y"];V.pointer.set(se/V.size.width*2-1,-(pe/V.size.height)*2+1),V.raycaster.setFromCamera(V.pointer,V.camera)}}),M==null||M(K)}}),ie.current.render(G.createElement(R,null,G.createElement(c3,{set:ee},G.createElement(G.Suspense,{fallback:G.createElement(k9,{set:W})},e)))))}),G.useEffect(()=>{const X=L.current;if(X)return()=>x3(X)},[]);const k=a?"none":"auto";return G.createElement("div",Wr({ref:O,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:k,...r}},E),G.createElement("div",{ref:b,style:{width:"100%",height:"100%"}},G.createElement("canvas",{ref:L,style:{display:"block"}},t)))}),M3=G.forwardRef(function(e,t){return G.createElement(w3,null,G.createElement(m8,Wr({},e,{ref:t})))}),Yd=new D,zS=new D,g8=new D;function v8(n,e,t){const i=Yd.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,s=t.height/2;return[i.x*r+r,-(i.y*s)+s]}function y8(n,e){const t=Yd.setFromMatrixPosition(n.matrixWorld),i=zS.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),s=e.getWorldDirection(g8);return r.angleTo(s)>Math.PI/2}function x8(n,e,t,i){const r=Yd.setFromMatrixPosition(n.matrixWorld),s=r.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(i,!0);if(o.length){const a=o[0].distance;return r.distanceTo(t.ray.origin)<a}return!0}function _8(n,e){if(e instanceof Gr)return e.zoom;if(e instanceof jt){const t=Yd.setFromMatrixPosition(n.matrixWorld),i=zS.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,s=t.distanceTo(i);return 1/(2*Math.tan(r/2)*s)}else return 1}function A8(n,e,t){if(e instanceof jt||e instanceof Gr){const i=Yd.setFromMatrixPosition(n.matrixWorld),r=zS.setFromMatrixPosition(e.matrixWorld),s=i.distanceTo(r),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const c1=n=>Math.abs(n)<1e-10?0:n;function C3(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=c1(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const S8=(n=>e=>C3(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),w8=(n=>(e,t)=>C3(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function M8(n){return n&&typeof n=="object"&&"current"in n}const C8=G.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:d=!1,occlude:h,onOcclude:p,castShadow:m,receiveShadow:y,material:v,geometry:x,zIndexRange:A=[16777271,0],calculatePosition:_=v8,as:w="div",wrapperClass:M,pointerEvents:E="auto",...P},R)=>{const{gl:b,camera:B,scene:L,size:O,raycaster:H,events:U,viewport:W}=mr(),[J]=G.useState(()=>document.createElement(w)),ee=G.useRef(),ie=G.useRef(null),k=G.useRef(0),X=G.useRef([0,0]),K=G.useRef(null),ae=G.useRef(null),V=(a==null?void 0:a.current)||U.connected||b.domElement.parentNode,se=G.useRef(null),pe=G.useRef(!1),_e=G.useMemo(()=>h&&h!=="blending"||Array.isArray(h)&&h.length&&M8(h[0]),[h]);G.useLayoutEffect(()=>{const Se=b.domElement;h&&h==="blending"?(Se.style.zIndex=`${Math.floor(A[0]/2)}`,Se.style.position="absolute",Se.style.pointerEvents="none"):(Se.style.zIndex=null,Se.style.position=null,Se.style.pointerEvents=null)},[h]),G.useLayoutEffect(()=>{if(ie.current){const Se=ee.current=eR(J);if(L.updateMatrixWorld(),d)J.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Ie=_(ie.current,B,O);J.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Ie[0]}px,${Ie[1]}px,0);transform-origin:0 0;`}return V&&(r?V.prepend(J):V.appendChild(J)),()=>{V&&V.removeChild(J),Se.unmount()}}},[V,d]),G.useLayoutEffect(()=>{M&&(J.className=M)},[M]);const Z=G.useMemo(()=>d?{position:"absolute",top:0,left:0,width:O.width,height:O.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-O.height/2,left:-O.width/2,width:O.width,height:O.height},...t},[t,s,o,O,d]),Ne=G.useMemo(()=>({position:"absolute",pointerEvents:E}),[E]);G.useLayoutEffect(()=>{if(pe.current=!1,d){var Se;(Se=ee.current)==null||Se.render(G.createElement("div",{ref:K,style:Z},G.createElement("div",{ref:ae,style:Ne},G.createElement("div",{ref:R,className:i,style:t,children:n}))))}else{var Ie;(Ie=ee.current)==null||Ie.render(G.createElement("div",{ref:R,style:Z,className:i,children:n}))}});const ze=G.useRef(!0);Xd(Se=>{if(ie.current){B.updateMatrixWorld(),ie.current.updateWorldMatrix(!0,!1);const Ie=d?X.current:_(ie.current,B,O);if(d||Math.abs(k.current-B.zoom)>e||Math.abs(X.current[0]-Ie[0])>e||Math.abs(X.current[1]-Ie[1])>e){const he=y8(ie.current,B);let le=!1;_e&&(h!=="blending"?le=[L]:Array.isArray(h)&&(le=h.map(Ze=>Ze.current)));const Ce=ze.current;if(le){const Ze=x8(ie.current,B,H,le);ze.current=Ze&&!he}else ze.current=!he;Ce!==ze.current&&(p?p(!ze.current):J.style.display=ze.current?"block":"none");const Ge=Math.floor(A[0]/2),Be=h?_e?[A[0],Ge]:[Ge-1,0]:A;if(J.style.zIndex=`${A8(ie.current,B,Be)}`,d){const[Ze,Xe]=[O.width/2,O.height/2],je=B.projectionMatrix.elements[5]*Xe,{isOrthographicCamera:_t,top:Et,left:z,bottom:I,right:oe}=B,we=S8(B.matrixWorldInverse),be=_t?`scale(${je})translate(${c1(-(oe+z)/2)}px,${c1((Et+I)/2)}px)`:`translateZ(${je}px)`;let Pe=ie.current.matrixWorld;c&&(Pe=B.matrixWorldInverse.clone().transpose().copyPosition(Pe).scale(ie.current.scale),Pe.elements[3]=Pe.elements[7]=Pe.elements[11]=0,Pe.elements[15]=1),J.style.width=O.width+"px",J.style.height=O.height+"px",J.style.perspective=_t?"":`${je}px`,K.current&&ae.current&&(K.current.style.transform=`${be}${we}translate(${Ze}px,${Xe}px)`,ae.current.style.transform=w8(Pe,1/((l||10)/400)))}else{const Ze=l===void 0?1:_8(ie.current,B)*l;J.style.transform=`translate3d(${Ie[0]}px,${Ie[1]}px,0) scale(${Ze})`}X.current=Ie,k.current=B.zoom}}if(!_e&&se.current&&!pe.current)if(d){if(K.current){const Ie=K.current.children[0];if(Ie!=null&&Ie.clientWidth&&Ie!=null&&Ie.clientHeight){const{isOrthographicCamera:he}=B;if(he||x)P.scale&&(Array.isArray(P.scale)?P.scale instanceof D?se.current.scale.copy(P.scale.clone().divideScalar(1)):se.current.scale.set(1/P.scale[0],1/P.scale[1],1/P.scale[2]):se.current.scale.setScalar(1/P.scale));else{const le=(l||10)/400,Ce=Ie.clientWidth*le,Ge=Ie.clientHeight*le;se.current.scale.set(Ce,Ge,1)}pe.current=!0}}}else{const Ie=J.children[0];if(Ie!=null&&Ie.clientWidth&&Ie!=null&&Ie.clientHeight){const he=1/W.factor,le=Ie.clientWidth*he,Ce=Ie.clientHeight*he;se.current.scale.set(le,Ce,1),pe.current=!0}se.current.lookAt(Se.camera.position)}});const Ve=G.useMemo(()=>({vertexShader:d?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[d]);return G.createElement("group",Wr({},P,{ref:ie}),h&&!_e&&G.createElement("mesh",{castShadow:m,receiveShadow:y,ref:se},x||G.createElement("planeGeometry",null),v||G.createElement("shaderMaterial",{side:kr,vertexShader:Ve.vertexShader,fragmentShader:Ve.fragmentShader})))});let $c=0;const b8=i3(n=>(yu.onStart=(e,t,i)=>{n({active:!0,item:e,loaded:t,total:i,progress:(t-$c)/(i-$c)*100})},yu.onLoad=()=>{n({active:!1})},yu.onError=e=>n(t=>({errors:[...t.errors,e]})),yu.onProgress=(e,t,i)=>{t===i&&($c=i),n({active:!0,item:e,loaded:t,total:i,progress:(t-$c)/(i-$c)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function b3(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function Bu(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function eT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function tT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eT(Object(t),!0).forEach(function(i){Bu(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):eT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}new ge;new ge;function E3(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var dr=function n(e,t,i){var r=this;E3(this,n),Bu(this,"dot2",function(s,o){return r.x*s+r.y*o}),Bu(this,"dot3",function(s,o,a){return r.x*s+r.y*o+r.z*a}),this.x=e,this.y=t,this.z=i},E8=[new dr(1,1,0),new dr(-1,1,0),new dr(1,-1,0),new dr(-1,-1,0),new dr(1,0,1),new dr(-1,0,1),new dr(1,0,-1),new dr(-1,0,-1),new dr(0,1,1),new dr(0,-1,1),new dr(0,1,-1),new dr(0,-1,-1)],nT=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],iT=new Array(512),rT=new Array(512),T8=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var i;t&1?i=nT[t]^e&255:i=nT[t]^e>>8&255,iT[t]=iT[t+256]=i,rT[t]=rT[t+256]=E8[i%12]}};T8(0);function P8(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function sT(n){var e=P8(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var B8=function n(e){var t=this;E3(this,n),Bu(this,"seed",0),Bu(this,"init",function(i){t.seed=i,t.value=sT(i)}),Bu(this,"value",sT(this.seed)),this.init(e)},R8=new B8(Math.random()),L8={radius:1,center:[0,0,0]};function I8(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R8,i=tT(tT({},L8),e),r=i.radius,s=i.center,o=0;o<n.length;o+=3){var a=Math.pow(t.value(),.3333333333333333),l=t.value()*2-1,c=t.value()*2-1,d=t.value()*2-1,h=Math.sqrt(l*l+c*c+d*d);l=a*l/h,c=a*c/h,d=a*d/h,n[o]=l*r+s[0],n[o+1]=c*r+s[1],n[o+2]=d*r+s[2]}return n}function fd(n){return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(n)}function D8(n,e){if(fd(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(fd(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function O8(n){var e=D8(n,"string");return fd(e)==="symbol"?e:String(e)}function ct(n,e,t){return e=O8(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const oT=(n,e)=>(n%e+e)%e;let F8=class extends ps{constructor(e,t){super(),ct(this,"object",void 0),ct(this,"domElement",void 0),ct(this,"enabled",!0),ct(this,"target",new D),ct(this,"minDistance",0),ct(this,"maxDistance",1/0),ct(this,"minZoom",0),ct(this,"maxZoom",1/0),ct(this,"minPolarAngle",0),ct(this,"maxPolarAngle",Math.PI),ct(this,"minAzimuthAngle",-1/0),ct(this,"maxAzimuthAngle",1/0),ct(this,"enableDamping",!1),ct(this,"dampingFactor",.05),ct(this,"enableZoom",!0),ct(this,"zoomSpeed",1),ct(this,"enableRotate",!0),ct(this,"rotateSpeed",1),ct(this,"enablePan",!0),ct(this,"panSpeed",1),ct(this,"screenSpacePanning",!0),ct(this,"keyPanSpeed",7),ct(this,"autoRotate",!1),ct(this,"autoRotateSpeed",2),ct(this,"reverseOrbit",!1),ct(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ct(this,"mouseButtons",{LEFT:Ra.ROTATE,MIDDLE:Ra.DOLLY,RIGHT:Ra.PAN}),ct(this,"touches",{ONE:La.ROTATE,TWO:La.DOLLY_PAN}),ct(this,"target0",void 0),ct(this,"position0",void 0),ct(this,"zoom0",void 0),ct(this,"_domElementKeyEvents",null),ct(this,"getPolarAngle",void 0),ct(this,"getAzimuthalAngle",void 0),ct(this,"setPolarAngle",void 0),ct(this,"setAzimuthalAngle",void 0),ct(this,"getDistance",void 0),ct(this,"listenToKeyEvents",void 0),ct(this,"saveState",void 0),ct(this,"reset",void 0),ct(this,"update",void 0),ct(this,"connect",void 0),ct(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof jt?this.object.zoom:1,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=j=>{let ue=oT(j,2*Math.PI),Ae=d.phi;Ae<0&&(Ae+=2*Math.PI),ue<0&&(ue+=2*Math.PI);let Te=Math.abs(ue-Ae);2*Math.PI-Te<Te&&(ue<Ae?ue+=2*Math.PI:Ae+=2*Math.PI),h.phi=ue-Ae,i.update()},this.setAzimuthalAngle=j=>{let ue=oT(j,2*Math.PI),Ae=d.theta;Ae<0&&(Ae+=2*Math.PI),ue<0&&(ue+=2*Math.PI);let Te=Math.abs(ue-Ae);2*Math.PI-Te<Te&&(ue<Ae?ue+=2*Math.PI:Ae+=2*Math.PI),h.theta=ue-Ae,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=j=>{j.addEventListener("keydown",oe),this._domElementKeyEvents=j},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object instanceof jt?i.object.zoom:1},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object instanceof jt&&(i.object.zoom=i.zoom0,i.object.updateProjectionMatrix()),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const j=new D,ue=new Qn().setFromUnitVectors(e.up,new D(0,1,0)),Ae=ue.clone().invert(),Te=new D,tt=new Qn,xt=2*Math.PI;return function(){const Q=i.object.position;j.copy(Q).sub(i.target),j.applyQuaternion(ue),d.setFromVector3(j),i.autoRotate&&l===a.NONE&&H(L()),i.enableDamping?(d.theta+=h.theta*i.dampingFactor,d.phi+=h.phi*i.dampingFactor):(d.theta+=h.theta,d.phi+=h.phi);let fe=i.minAzimuthAngle,xe=i.maxAzimuthAngle;return isFinite(fe)&&isFinite(xe)&&(fe<-Math.PI?fe+=xt:fe>Math.PI&&(fe-=xt),xe<-Math.PI?xe+=xt:xe>Math.PI&&(xe-=xt),fe<=xe?d.theta=Math.max(fe,Math.min(xe,d.theta)):d.theta=d.theta>(fe+xe)/2?Math.max(fe,d.theta):Math.min(xe,d.theta)),d.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,d.phi)),d.makeSafe(),d.radius*=p,d.radius=Math.max(i.minDistance,Math.min(i.maxDistance,d.radius)),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),j.setFromSpherical(d),j.applyQuaternion(Ae),Q.copy(i.target).add(j),i.object.lookAt(i.target),i.enableDamping===!0?(h.theta*=1-i.dampingFactor,h.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(h.set(0,0,0),m.set(0,0,0)),p=1,y||Te.distanceToSquared(i.object.position)>c||8*(1-tt.dot(i.object.quaternion))>c?(i.dispatchEvent(r),Te.copy(i.object.position),tt.copy(i.object.quaternion),y=!1,!0):!1}})(),this.connect=j=>{j===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=j,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Pe),i.domElement.addEventListener("pointerdown",Ze),i.domElement.addEventListener("pointercancel",_t),i.domElement.addEventListener("wheel",I)},this.dispose=()=>{var j,ue,Ae,Te,tt,xt;(j=i.domElement)===null||j===void 0||j.removeEventListener("contextmenu",Pe),(ue=i.domElement)===null||ue===void 0||ue.removeEventListener("pointerdown",Ze),(Ae=i.domElement)===null||Ae===void 0||Ae.removeEventListener("pointercancel",_t),(Te=i.domElement)===null||Te===void 0||Te.removeEventListener("wheel",I),(tt=i.domElement)===null||tt===void 0||tt.ownerDocument.removeEventListener("pointermove",Xe),(xt=i.domElement)===null||xt===void 0||xt.ownerDocument.removeEventListener("pointerup",je),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",oe)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,d=new s1,h=new s1;let p=1;const m=new D;let y=!1;const v=new ge,x=new ge,A=new ge,_=new ge,w=new ge,M=new ge,E=new ge,P=new ge,R=new ge,b=[],B={};function L(){return 2*Math.PI/60/60*i.autoRotateSpeed}function O(){return Math.pow(.95,i.zoomSpeed)}function H(j){i.reverseOrbit?h.theta+=j:h.theta-=j}function U(j){i.reverseOrbit?h.phi+=j:h.phi-=j}const W=(()=>{const j=new D;return function(Ae,Te){j.setFromMatrixColumn(Te,0),j.multiplyScalar(-Ae),m.add(j)}})(),J=(()=>{const j=new D;return function(Ae,Te){i.screenSpacePanning===!0?j.setFromMatrixColumn(Te,1):(j.setFromMatrixColumn(Te,0),j.crossVectors(i.object.up,j)),j.multiplyScalar(Ae),m.add(j)}})(),ee=(()=>{const j=new D;return function(Ae,Te){const tt=i.domElement;if(tt&&i.object instanceof jt&&i.object.isPerspectiveCamera){const xt=i.object.position;j.copy(xt).sub(i.target);let Xt=j.length();Xt*=Math.tan(i.object.fov/2*Math.PI/180),W(2*Ae*Xt/tt.clientHeight,i.object.matrix),J(2*Te*Xt/tt.clientHeight,i.object.matrix)}else tt&&i.object instanceof Gr&&i.object.isOrthographicCamera?(W(Ae*(i.object.right-i.object.left)/i.object.zoom/tt.clientWidth,i.object.matrix),J(Te*(i.object.top-i.object.bottom)/i.object.zoom/tt.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function ie(j){i.object instanceof jt&&i.object.isPerspectiveCamera?p/=j:i.object instanceof Gr&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*j)),i.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function k(j){i.object instanceof jt&&i.object.isPerspectiveCamera?p*=j:i.object instanceof Gr&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/j)),i.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function X(j){v.set(j.clientX,j.clientY)}function K(j){E.set(j.clientX,j.clientY)}function ae(j){_.set(j.clientX,j.clientY)}function V(j){x.set(j.clientX,j.clientY),A.subVectors(x,v).multiplyScalar(i.rotateSpeed);const ue=i.domElement;ue&&(H(2*Math.PI*A.x/ue.clientHeight),U(2*Math.PI*A.y/ue.clientHeight)),v.copy(x),i.update()}function se(j){P.set(j.clientX,j.clientY),R.subVectors(P,E),R.y>0?ie(O()):R.y<0&&k(O()),E.copy(P),i.update()}function pe(j){w.set(j.clientX,j.clientY),M.subVectors(w,_).multiplyScalar(i.panSpeed),ee(M.x,M.y),_.copy(w),i.update()}function _e(j){j.deltaY<0?k(O()):j.deltaY>0&&ie(O()),i.update()}function Z(j){let ue=!1;switch(j.code){case i.keys.UP:ee(0,i.keyPanSpeed),ue=!0;break;case i.keys.BOTTOM:ee(0,-i.keyPanSpeed),ue=!0;break;case i.keys.LEFT:ee(i.keyPanSpeed,0),ue=!0;break;case i.keys.RIGHT:ee(-i.keyPanSpeed,0),ue=!0;break}ue&&(j.preventDefault(),i.update())}function Ne(){if(b.length==1)v.set(b[0].pageX,b[0].pageY);else{const j=.5*(b[0].pageX+b[1].pageX),ue=.5*(b[0].pageY+b[1].pageY);v.set(j,ue)}}function ze(){if(b.length==1)_.set(b[0].pageX,b[0].pageY);else{const j=.5*(b[0].pageX+b[1].pageX),ue=.5*(b[0].pageY+b[1].pageY);_.set(j,ue)}}function Ve(){const j=b[0].pageX-b[1].pageX,ue=b[0].pageY-b[1].pageY,Ae=Math.sqrt(j*j+ue*ue);E.set(0,Ae)}function Se(){i.enableZoom&&Ve(),i.enablePan&&ze()}function Ie(){i.enableZoom&&Ve(),i.enableRotate&&Ne()}function he(j){if(b.length==1)x.set(j.pageX,j.pageY);else{const Ae=Ke(j),Te=.5*(j.pageX+Ae.x),tt=.5*(j.pageY+Ae.y);x.set(Te,tt)}A.subVectors(x,v).multiplyScalar(i.rotateSpeed);const ue=i.domElement;ue&&(H(2*Math.PI*A.x/ue.clientHeight),U(2*Math.PI*A.y/ue.clientHeight)),v.copy(x)}function le(j){if(b.length==1)w.set(j.pageX,j.pageY);else{const ue=Ke(j),Ae=.5*(j.pageX+ue.x),Te=.5*(j.pageY+ue.y);w.set(Ae,Te)}M.subVectors(w,_).multiplyScalar(i.panSpeed),ee(M.x,M.y),_.copy(w)}function Ce(j){const ue=Ke(j),Ae=j.pageX-ue.x,Te=j.pageY-ue.y,tt=Math.sqrt(Ae*Ae+Te*Te);P.set(0,tt),R.set(0,Math.pow(P.y/E.y,i.zoomSpeed)),ie(R.y),E.copy(P)}function Ge(j){i.enableZoom&&Ce(j),i.enablePan&&le(j)}function Be(j){i.enableZoom&&Ce(j),i.enableRotate&&he(j)}function Ze(j){if(i.enabled!==!1){if(b.length===0){var ue,Ae;(ue=i.domElement)===null||ue===void 0||ue.ownerDocument.addEventListener("pointermove",Xe),(Ae=i.domElement)===null||Ae===void 0||Ae.ownerDocument.addEventListener("pointerup",je)}rt(j),j.pointerType==="touch"?we(j):Et(j)}}function Xe(j){i.enabled!==!1&&(j.pointerType==="touch"?be(j):z(j))}function je(j){if(De(j),b.length===0){var ue,Ae,Te;(ue=i.domElement)===null||ue===void 0||ue.releasePointerCapture(j.pointerId),(Ae=i.domElement)===null||Ae===void 0||Ae.ownerDocument.removeEventListener("pointermove",Xe),(Te=i.domElement)===null||Te===void 0||Te.ownerDocument.removeEventListener("pointerup",je)}i.dispatchEvent(o),l=a.NONE}function _t(j){De(j)}function Et(j){let ue;switch(j.button){case 0:ue=i.mouseButtons.LEFT;break;case 1:ue=i.mouseButtons.MIDDLE;break;case 2:ue=i.mouseButtons.RIGHT;break;default:ue=-1}switch(ue){case Ra.DOLLY:if(i.enableZoom===!1)return;K(j),l=a.DOLLY;break;case Ra.ROTATE:if(j.ctrlKey||j.metaKey||j.shiftKey){if(i.enablePan===!1)return;ae(j),l=a.PAN}else{if(i.enableRotate===!1)return;X(j),l=a.ROTATE}break;case Ra.PAN:if(j.ctrlKey||j.metaKey||j.shiftKey){if(i.enableRotate===!1)return;X(j),l=a.ROTATE}else{if(i.enablePan===!1)return;ae(j),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function z(j){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;V(j);break;case a.DOLLY:if(i.enableZoom===!1)return;se(j);break;case a.PAN:if(i.enablePan===!1)return;pe(j);break}}function I(j){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(j.preventDefault(),i.dispatchEvent(s),_e(j),i.dispatchEvent(o))}function oe(j){i.enabled===!1||i.enablePan===!1||Z(j)}function we(j){switch(ve(j),b.length){case 1:switch(i.touches.ONE){case La.ROTATE:if(i.enableRotate===!1)return;Ne(),l=a.TOUCH_ROTATE;break;case La.PAN:if(i.enablePan===!1)return;ze(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case La.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Se(),l=a.TOUCH_DOLLY_PAN;break;case La.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ie(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function be(j){switch(ve(j),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;he(j),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;le(j),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ge(j),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Be(j),i.update();break;default:l=a.NONE}}function Pe(j){i.enabled!==!1&&j.preventDefault()}function rt(j){b.push(j)}function De(j){delete B[j.pointerId];for(let ue=0;ue<b.length;ue++)if(b[ue].pointerId==j.pointerId){b.splice(ue,1);return}}function ve(j){let ue=B[j.pointerId];ue===void 0&&(ue=new ge,B[j.pointerId]=ue),ue.set(j.pageX,j.pageY)}function Ke(j){const ue=j.pointerId===b[0].pointerId?b[1]:b[0];return B[ue.pointerId]}t!==void 0&&this.connect(t),this.update()}};class US extends Si{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new G8(t)}),this.register(function(t){return new K8(t)}),this.register(function(t){return new Y8(t)}),this.register(function(t){return new V8(t)}),this.register(function(t){return new W8(t)}),this.register(function(t){return new j8(t)}),this.register(function(t){return new J8(t)}),this.register(function(t){return new U8(t)}),this.register(function(t){return new X8(t)}),this.register(function(t){return new H8(t)}),this.register(function(t){return new N8(t)}),this.register(function(t){return new Q8(t)})}load(e,t,i,r){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=us.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Yi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(d){t(d),s.manager.itemEnd(e)},a)}catch(d){a(d)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={};if(typeof e=="string")s=e;else if(us.decodeText(new Uint8Array(e,0,4))===T3){try{o[wt.KHR_BINARY_GLTF]=new q8(e)}catch(h){r&&r(h);return}s=o[wt.KHR_BINARY_GLTF].content}else s=us.decodeText(new Uint8Array(e));const l=JSON.parse(s);if(l.asset===void 0||l.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new c6(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const h=this.pluginCallbacks[d](c);a[h.name]=h,o[h.name]=!0}if(l.extensionsUsed)for(let d=0;d<l.extensionsUsed.length;++d){const h=l.extensionsUsed[d],p=l.extensionsRequired||[];switch(h){case wt.KHR_MATERIALS_UNLIT:o[h]=new z8;break;case wt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[h]=new e6;break;case wt.KHR_DRACO_MESH_COMPRESSION:o[h]=new Z8(l,this.dracoLoader);break;case wt.KHR_TEXTURE_TRANSFORM:o[h]=new $8;break;case wt.KHR_MESH_QUANTIZATION:o[h]=new t6;break;default:p.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function k8(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const wt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class N8{constructor(e){this.parser=e,this.name=wt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const d=new Le(16777215);l.color!==void 0&&d.fromArray(l.color);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new RS(d),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new BS(d),c.distance=h;break;case"spot":c=new PS(d),c.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class z8{constructor(){this.name=wt.KHR_MATERIALS_UNLIT}getMaterialType(){return ji}extendParams(e,t,i){const r=[];e.color=new Le(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,Pt))}return Promise.all(r)}}class U8{constructor(e){this.parser=e,this.name=wt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class G8{constructor(e){this.parser=e,this.name=wt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:no}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new ge(a,a)}return Promise.all(s)}}class H8{constructor(e){this.parser=e,this.name=wt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:no}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class V8{constructor(e){this.parser=e,this.name=wt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:no}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Le(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Pt)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class W8{constructor(e){this.parser=e,this.name=wt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:no}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class j8{constructor(e){this.parser=e,this.name=wt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:no}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Le(a[0],a[1],a[2]),Promise.all(s)}}class J8{constructor(e){this.parser=e,this.name=wt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:no}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class X8{constructor(e){this.parser=e,this.name=wt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:no}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Le(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,Pt)),Promise.all(s)}}class K8{constructor(e){this.parser=e,this.name=wt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class Y8{constructor(e){this.parser=e,this.name=wt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Q8{constructor(e){this.name=wt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,d=r.count,h=r.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(d,h,p,r.mode,r.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(d*h);return o.decodeGltfBuffer(new Uint8Array(m),d,h,p,r.mode,r.filter),m})})}else return null}}const T3="glTF",ef=12,aT={JSON:1313821514,BIN:5130562};class q8{constructor(e){this.name=wt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,ef);if(this.header={magic:us.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==T3)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-ef,r=new DataView(e,ef);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===aT.JSON){const l=new Uint8Array(e,ef+s,o);this.content=us.decodeText(l)}else if(a===aT.BIN){const l=ef+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Z8{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=wt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const d in o){const h=d1[d]||d.toLowerCase();a[h]=o[d]}for(const d in e.attributes){const h=d1[d]||d.toLowerCase();if(o[d]!==void 0){const p=i.accessors[e.attributes[d]],m=dd[p.componentType];c[h]=m.name,l[h]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(d){return new Promise(function(h){r.decodeDracoFile(d,function(p){for(const m in p.attributes){const y=p.attributes[m],v=l[m];v!==void 0&&(y.normalized=v)}h(p)},a,c)})})}}class $8{constructor(){this.name=wt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class f1 extends lc{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),i=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new Le().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const c in a)l.uniforms[c]=a[c];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",i).replace("#include <roughnessmap_fragment>",r).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class e6{constructor(){this.name=wt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return f1}extendParams(e,t,i){const r=t.extensions[this.name];e.color=new Le(1,1,1),e.opacity=1;const s=[];if(Array.isArray(r.diffuseFactor)){const o=r.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(r.diffuseTexture!==void 0&&s.push(i.assignTexture(e,"map",r.diffuseTexture,Pt)),e.emissive=new Le(0,0,0),e.glossiness=r.glossinessFactor!==void 0?r.glossinessFactor:1,e.specular=new Le(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),r.specularGlossinessTexture!==void 0){const o=r.specularGlossinessTexture;s.push(i.assignTexture(e,"glossinessMap",o)),s.push(i.assignTexture(e,"specularMap",o,Pt))}return Promise.all(s)}createMaterial(e){const t=new f1(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=eo,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class t6{constructor(){this.name=wt.KHR_MESH_QUANTIZATION}}class P3 extends uc{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,d=r-t,h=(i-t)/d,p=h*h,m=p*h,y=e*c,v=y-c,x=-2*m+3*p,A=m-p,_=1-x,w=A-p+h;for(let M=0;M!==a;M++){const E=o[v+M+a],P=o[v+M+l]*d,R=o[y+M+a],b=o[y+M]*d;s[M]=_*E+w*P+x*R+A*b}return s}}const n6=new Qn;class i6 extends P3{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return n6.fromArray(s).normalize().toArray(s),s}}const Rs={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},dd={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},lT={9728:yn,9729:ln,9984:ed,9985:n0,9986:Tu,9987:ds},uT={33071:Kn,33648:zu,10497:Yo},cT={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},d1={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},yo={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},r6={CUBICSPLINE:void 0,LINEAR:fl,STEP:Gu},qy={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function s6(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new lc({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:fs})),n.DefaultMaterial}function tf(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function Da(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function o6(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,d=e.length;c<d;c++){const h=e[c];if(h.POSITION!==void 0&&(i=!0),h.NORMAL!==void 0&&(r=!0),h.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,d=e.length;c<d;c++){const h=e[c];if(i){const p=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):n.attributes.position;o.push(p)}if(r){const p=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const d=c[0],h=c[1],p=c[2];return i&&(n.morphAttributes.position=d),r&&(n.morphAttributes.normal=h),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function a6(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function l6(n){const e=n.extensions&&n.extensions[wt.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+fT(e.attributes):t=n.indices+":"+fT(n.attributes)+":"+n.mode,t}function fT(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function h1(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function u6(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class c6{constructor(e={},t={}){var i,r;this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new k8,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const s=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,o=typeof navigator<"u"&&((i=navigator.userAgent)===null||i===void 0?void 0:i.indexOf("Firefox"))>-1,a=typeof navigator<"u"&&o?(r=navigator.userAgent)===null||r===void 0?void 0:r.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||s||o&&a<98?this.textureLoader=new jL(this.options.manager):this.textureLoader=new ZL(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Yi(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};tf(s,a,r),Da(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,d]of o.children.entries())s(d,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[wt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(us.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0)return Promise.resolve(null);const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=cT[r.type],c=dd[r.componentType],d=c.BYTES_PER_ELEMENT,h=d*l,p=r.byteOffset||0,m=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,y=r.normalized===!0;let v,x;if(m&&m!==h){const A=Math.floor(p/m),_="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+A+":"+r.count;let w=t.cache.get(_);w||(v=new c(a,A*m,r.count*m/d),w=new Rd(v,m/d),t.cache.add(_,w)),x=new Qo(w,l,p%m/d,y)}else a===null?v=new c(r.count*l):v=new c(a,p,r.count*l),x=new Nt(v,l,y);if(r.sparse!==void 0){const A=cT.SCALAR,_=dd[r.sparse.indices.componentType],w=r.sparse.indices.byteOffset||0,M=r.sparse.values.byteOffset||0,E=new _(o[1],w,r.sparse.count*A),P=new c(o[2],M,r.sparse.count*l);a!==null&&(x=new Nt(x.array.slice(),x.itemSize,x.normalized));for(let R=0,b=E.length;R<b;R++){const B=E[R];if(x.setX(B,P[R*l]),l>=2&&x.setY(B,P[R*l+1]),l>=3&&x.setZ(B,P[R*l+2]),l>=4&&x.setW(B,P[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(d){d.flipY=!1,o.name&&(d.name=o.name);const p=(s.samplers||{})[o.sampler]||{};return d.magFilter=lT[p.magFilter]||ln,d.minFilter=lT[p.minFilter]||ds,d.wrapS=uT[p.wrapS]||Yo,d.wrapT=uT[p.wrapT]||Yo,r.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(h){c=!0;const p=new Blob([h],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(h){return new Promise(function(p,m){let y=p;t.isImageBitmapLoader===!0&&(y=function(v){const x=new nn(v);x.needsUpdate=!0,p(x)}),t.load(us.resolveURL(h,s.path),y,void 0,m)})}).then(function(h){return c===!0&&a.revokeObjectURL(l),h.userData.mimeType=o.mimeType||u6(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=d,d}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(i.texCoord!==void 0&&i.texCoord!=0&&!(t==="aoMap"&&i.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+i.texCoord+" for texture "+t+" not yet supported."),s.extensions[wt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[wt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[wt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(o.encoding=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Id,Pn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new li,Pn.prototype.copy.call(l,i),l.color.copy(i.color),this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";i.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}i.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=i}getMaterialType(){return lc}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[wt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const h=r[wt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=h.getMaterialType(),c.push(h.extendParams(a,s,t))}else if(l[wt.KHR_MATERIALS_UNLIT]){const h=r[wt.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),c.push(h.extendParams(a,s,t))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new Le(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const p=h.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}h.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",h.baseColorTexture,Pt)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=kr);const d=s.alphaMode||qy.OPAQUE;if(d===qy.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===qy.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==ji&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new ge(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}return s.occlusionTexture!==void 0&&o!==ji&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==ji&&(a.emissive=new Le().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==ji&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,Pt)),Promise.all(c).then(function(){let h;return o===f1?h=r[wt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):h=new o(a),s.name&&(h.name=s.name),Da(h,s),t.associations.set(h,{materials:e}),s.extensions&&tf(r,h,s),h})}createUniqueName(e){const t=Rt.sanitizeNodeName(e||"");let i=t;for(let r=1;this.nodeNamesUsed[i];++r)i=t+"_"+r;return this.nodeNamesUsed[i]=!0,i}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[wt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return dT(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],d=l6(c),h=r[d];if(h)o.push(h.promise);else{let p;c.extensions&&c.extensions[wt.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=dT(new ft,c,t),r[d]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const d=o[l].material===void 0?s6(this.cache):this.getDependency("material",o[l].material);a.push(d)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),d=l[l.length-1],h=[];for(let m=0,y=d.length;m<y;m++){const v=d[m],x=o[m];let A;const _=c[m];if(x.mode===Rs.TRIANGLES||x.mode===Rs.TRIANGLE_STRIP||x.mode===Rs.TRIANGLE_FAN||x.mode===void 0)A=s.isSkinnedMesh===!0?new hS(v,_):new Wn(v,_),A.isSkinnedMesh===!0&&!A.geometry.attributes.skinWeight.normalized&&A.normalizeSkinWeights(),x.mode===Rs.TRIANGLE_STRIP?A.geometry=hT(A.geometry,$R):x.mode===Rs.TRIANGLE_FAN&&(A.geometry=hT(A.geometry,eS));else if(x.mode===Rs.LINES)A=new jr(v,_);else if(x.mode===Rs.LINE_STRIP)A=new Zs(v,_);else if(x.mode===Rs.LINE_LOOP)A=new pS(v,_);else if(x.mode===Rs.POINTS)A=new mS(v,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(A.geometry.morphAttributes).length>0&&a6(A,s),A.name=t.createUniqueName(s.name||"mesh_"+e),Da(A,s),x.extensions&&tf(r,A,x),t.assignFinalMaterial(A),h.push(A)}for(let m=0,y=h.length;m<y;m++)t.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return h[0];const p=new Us;t.associations.set(p,{meshes:e});for(let m=0,y=h.length;m<y;m++)p.add(h[m]);return p})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new jt(sL.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new Gr(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Da(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(i):this.getDependency("accessor",t.inverseBindMatrices).then(function(r){return i.inverseBindMatrices=r,i})}loadAnimation(e){const i=this.json.animations[e],r=[],s=[],o=[],a=[],l=[];for(let c=0,d=i.channels.length;c<d;c++){const h=i.channels[c],p=i.samplers[h.sampler],m=h.target,y=m.node,v=i.parameters!==void 0?i.parameters[p.input]:p.input,x=i.parameters!==void 0?i.parameters[p.output]:p.output;r.push(this.getDependency("node",y)),s.push(this.getDependency("accessor",v)),o.push(this.getDependency("accessor",x)),a.push(p),l.push(m)}return Promise.all([Promise.all(r),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const d=c[0],h=c[1],p=c[2],m=c[3],y=c[4],v=[];for(let A=0,_=d.length;A<_;A++){const w=d[A],M=h[A],E=p[A],P=m[A],R=y[A];if(w===void 0)continue;w.updateMatrix();let b;switch(yo[R.path]){case yo.weights:b=ju;break;case yo.rotation:b=qo;break;case yo.position:case yo.scale:default:b=Ju;break}const B=w.name?w.name:w.uuid,L=P.interpolation!==void 0?r6[P.interpolation]:fl,O=[];yo[R.path]===yo.weights?w.traverse(function(U){U.morphTargetInfluences&&O.push(U.name?U.name:U.uuid)}):O.push(B);let H=E.array;if(E.normalized){const U=h1(H.constructor),W=new Float32Array(H.length);for(let J=0,ee=H.length;J<ee;J++)W[J]=H[J]*U;H=W}for(let U=0,W=O.length;U<W;U++){const J=new b(O[U]+"."+yo[R.path],M.array,H,L);P.interpolation==="CUBICSPLINE"&&(J.createInterpolant=function(ie){const k=this instanceof qo?i6:P3;return new k(this.times,this.values,this.getValueSize()/3,ie)},J.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),v.push(J)}}const x=i.name?i.name:"animation_"+e;return new Xu(x,void 0,v)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this.extensions,r=this,s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"";return function(){const a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),Promise.all(a)}().then(function(a){let l;if(s.isBone===!0?l=new u0:a.length>1?l=new Us:a.length===1?l=a[0]:l=new Dt,l!==a[0])for(let c=0,d=a.length;c<d;c++)l.add(a[c]);if(s.name&&(l.userData.name=s.name,l.name=o),Da(l,s),s.extensions&&tf(i,l,s),s.matrix!==void 0){const c=new at;c.fromArray(s.matrix),l.applyMatrix4(c)}else s.translation!==void 0&&l.position.fromArray(s.translation),s.rotation!==void 0&&l.quaternion.fromArray(s.rotation),s.scale!==void 0&&l.scale.fromArray(s.scale);return r.associations.has(l)||r.associations.set(l,{}),r.associations.get(l).nodes=e,l})}loadScene(e){const t=this.json,i=this.extensions,r=this.json.scenes[e],s=this,o=new Us;r.name&&(o.name=s.createUniqueName(r.name)),Da(o,r),r.extensions&&tf(i,o,r);const a=r.nodes||[],l=[];for(let c=0,d=a.length;c<d;c++)l.push(B3(a[c],o,t,s));return Promise.all(l).then(function(){const c=d=>{const h=new Map;for(const[p,m]of s.associations)(p instanceof Pn||p instanceof nn)&&h.set(p,m);return d.traverse(p=>{const m=s.associations.get(p);m!=null&&h.set(p,m)}),h};return s.associations=c(o),o})}}function B3(n,e,t,i){const r=t.nodes[n];return i.getDependency("node",n).then(function(s){if(r.skin===void 0)return s;let o;return i.getDependency("skin",r.skin).then(function(a){o=a;const l=[];for(let c=0,d=o.joints.length;c<d;c++)l.push(i.getDependency("node",o.joints[c]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const c=[],d=[];for(let h=0,p=a.length;h<p;h++){const m=a[h];if(m){c.push(m);const y=new at;o.inverseBindMatrices!==void 0&&y.fromArray(o.inverseBindMatrices.array,h*16),d.push(y)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[h])}l.bind(new Ld(c,d),l.matrixWorld)}),s})}).then(function(s){e.add(s);const o=[];if(r.children){const a=r.children;for(let l=0,c=a.length;l<c;l++){const d=a[l];o.push(B3(d,s,t,i))}}return Promise.all(o)})}function f6(n,e,t){const i=e.attributes,r=new ra;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new D(l[0],l[1],l[2]),new D(c[0],c[1],c[2])),a.normalized){const d=h1(dd[a.componentType]);r.min.multiplyScalar(d),r.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new D,l=new D;for(let c=0,d=s.length;c<d;c++){const h=s[c];if(h.POSITION!==void 0){const p=t.json.accessors[h.POSITION],m=p.min,y=p.max;if(m!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(y[2]))),p.normalized){const v=h1(dd[p.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new sa;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function dT(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=d1[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return Da(n,e),f6(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?o6(n,e.targets,t):n})}function hT(n,e){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(e===eS)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s}const Zy=new WeakMap;class d6 extends Si{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new Yi(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const i=JSON.stringify(t);if(Zy.has(e)){const l=Zy.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,d)=>{r._callbacks[s]={resolve:c,reject:d},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),Zy.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new ft;e.index&&t.setIndex(new Nt(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize;t.setAttribute(s,new Nt(o,a))}return t}_loadLibrary(e,t){const i=new Yi(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=h6.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function h6(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(d){n.onModuleLoaded=function(h){d({draco:h})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(d=>{const h=d.draco,p=new h.Decoder,m=new h.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const y=t(h,p,m,c),v=y.attributes.map(x=>x.array.buffer);y.index&&v.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},v)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{h.destroy(m),h.destroy(p)}});break}};function t(o,a,l,c){const d=c.attributeIDs,h=c.attributeTypes;let p,m;const y=a.GetEncodedGeometryType(l);if(y===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(y===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const v={index:null,attributes:[]};for(const x in d){const A=self[h[x]];let _,w;if(c.useUniqueIDs)w=d[x],_=a.GetAttributeByUniqueId(p,w);else{if(w=a.GetAttributeId(p,o[d[x]]),w===-1)continue;_=a.GetAttribute(p,w)}v.attributes.push(r(o,a,p,x,A,_))}return y===o.TRIANGULAR_MESH&&(v.index=i(o,a,p)),o.destroy(p),v}function i(o,a,l){const d=l.num_faces()*3,h=d*4,p=o._malloc(h);a.GetTrianglesUInt32Array(l,h,p);const m=new Uint32Array(o.HEAPF32.buffer,p,d).slice();return o._free(p),{array:m,itemSize:1}}function r(o,a,l,c,d,h){const p=h.num_components(),y=l.num_points()*p,v=y*d.BYTES_PER_ELEMENT,x=s(o,d),A=o._malloc(v);a.GetAttributeDataArrayForAllPoints(l,h,x,v,A);const _=new d(o.HEAPF32.buffer,A,y).slice();return o._free(A),{name:c,array:_,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let im;const $y=()=>{if(im)return im;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let s;const o=WebAssembly.instantiate(a(r),{}).then(h=>{s=h.instance,s.exports.__wasm_call_ctors()});function a(h){const p=new Uint8Array(h.length);for(let y=0;y<h.length;++y){const v=h.charCodeAt(y);p[y]=v>96?v-71:v>64?v-65:v>47?v+4:v>46?63:62}let m=0;for(let y=0;y<h.length;++y)p[m++]=p[y]<60?i[p[y]]:(p[y]-60)*64+p[++y];return p.buffer.slice(0,m)}function l(h,p,m,y,v,x){const A=s.exports.sbrk,_=m+3&-4,w=A(_*y),M=A(v.length),E=new Uint8Array(s.exports.memory.buffer);E.set(v,M);const P=h(w,m,y,M,v.length);if(P===0&&x&&x(w,_,y),p.set(E.subarray(w,w+m*y)),A(w-A(0)),P!==0)throw new Error(`Malformed buffer data: ${P}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},d={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return im={ready:o,supported:!0,decodeVertexBuffer(h,p,m,y,v){l(s.exports.meshopt_decodeVertexBuffer,h,p,m,y,s.exports[c[v]])},decodeIndexBuffer(h,p,m,y){l(s.exports.meshopt_decodeIndexBuffer,h,p,m,y)},decodeIndexSequence(h,p,m,y){l(s.exports.meshopt_decodeIndexSequence,h,p,m,y)},decodeGltfBuffer(h,p,m,y,v,x){l(s.exports[d[v]],h,p,m,y,s.exports[c[x]])}},im};let rm=null;function R3(n,e,t){return i=>{t&&t(i),n&&(rm||(rm=new d6),rm.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),i.setDRACOLoader(rm)),e&&i.setMeshoptDecoder(typeof $y=="function"?$y():$y)}}function GS(n,e=!0,t=!0,i){return Kd(US,n,R3(e,t,i))}GS.preload=(n,e=!0,t=!0,i)=>Kd.preload(US,n,R3(e,t,i));GS.clear=n=>Kd.clear(US,n);const p6=G.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,onChange:s,onStart:o,onEnd:a,...l},c)=>{const d=mr(E=>E.invalidate),h=mr(E=>E.camera),p=mr(E=>E.gl),m=mr(E=>E.events),y=mr(E=>E.setEvents),v=mr(E=>E.set),x=mr(E=>E.get),A=mr(E=>E.performance),_=e||h,w=i||m.connected||p.domElement,M=G.useMemo(()=>new F8(_),[_]);return Xd(()=>{M.enabled&&M.update()},-1),G.useEffect(()=>(M.connect(w),()=>void M.dispose()),[w,t,M,d]),G.useEffect(()=>{const E=b=>{d(),t&&A.regress(),s&&s(b)},P=b=>{o&&o(b)},R=b=>{a&&a(b)};return M.addEventListener("change",E),M.addEventListener("start",P),M.addEventListener("end",R),()=>{M.removeEventListener("start",P),M.removeEventListener("end",R),M.removeEventListener("change",E)}},[s,o,a,M,d,y]),G.useEffect(()=>{if(n){const E=x().controls;return v({controls:M}),()=>v({controls:E})}},[n,M]),G.createElement("primitive",Wr({ref:c,object:M,enableDamping:r},l))});class m6 extends Id{constructor(e){super(e),this.onBeforeCompile=(t,i)=>{const{isWebGL2:r}=i.capabilities;t.fragmentShader=t.fragmentShader.replace("#include <output_fragment>",`
        ${r?"#include <output_fragment>":`#extension GL_OES_standard_derivatives : enable
#include <output_fragment>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <encodings_fragment>
      `)}}}const g6=G.forwardRef((n,e)=>{const[t]=G.useState(()=>new m6(null));return G.createElement("primitive",Wr({},n,{object:t,ref:e,attach:"material"}))});let Ea,nf;const v6=G.createContext(null),pT=new at,mT=new D,y6=G.forwardRef(({children:n,range:e,limit:t=1e3,...i},r)=>{const s=G.useRef(null),[o,a]=G.useState([]),[[l,c,d]]=G.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);G.useEffect(()=>{s.current.geometry.attributes.position.needsUpdate=!0}),Xd(()=>{for(s.current.updateMatrix(),s.current.updateMatrixWorld(),pT.copy(s.current.matrixWorld).invert(),s.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,o.length),Ea=0;Ea<o.length;Ea++)nf=o[Ea].current,nf.getWorldPosition(mT).applyMatrix4(pT),mT.toArray(l,Ea*3),s.current.geometry.attributes.position.needsUpdate=!0,nf.matrixWorldNeedsUpdate=!0,nf.color.toArray(c,Ea*3),s.current.geometry.attributes.color.needsUpdate=!0,d.set([nf.size],Ea),s.current.geometry.attributes.size.needsUpdate=!0});const h=G.useMemo(()=>({getParent:()=>s,subscribe:p=>(a(m=>[...m,p]),()=>a(m=>m.filter(y=>y.current!==p.current)))}),[]);return G.createElement("points",Wr({userData:{instances:o},matrixAutoUpdate:!1,ref:b3([r,s]),raycast:()=>null},i),G.createElement("bufferGeometry",null,G.createElement("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3,usage:$a}),G.createElement("bufferAttribute",{attach:"attributes-color",count:c.length/3,array:c,itemSize:3,usage:$a}),G.createElement("bufferAttribute",{attach:"attributes-size",count:d.length,array:d,itemSize:1,usage:$a})),G.createElement(v6.Provider,{value:h},n))}),x6=G.forwardRef(({children:n,positions:e,colors:t,sizes:i,stride:r=3,...s},o)=>{const a=G.useRef(null);return Xd(()=>{const l=a.current.geometry.attributes;l.position.needsUpdate=!0,t&&(l.color.needsUpdate=!0),i&&(l.size.needsUpdate=!0)}),G.createElement("points",Wr({ref:b3([o,a])},s),G.createElement("bufferGeometry",null,G.createElement("bufferAttribute",{attach:"attributes-position",count:e.length/r,array:e,itemSize:r,usage:$a}),t&&G.createElement("bufferAttribute",{attach:"attributes-color",count:t.length/r,array:t,itemSize:3,usage:$a}),i&&G.createElement("bufferAttribute",{attach:"attributes-size",count:i.length/r,array:i,itemSize:1,usage:$a})),n)}),_6=G.forwardRef((n,e)=>n.positions instanceof Float32Array?G.createElement(x6,Wr({},n,{ref:e})):G.createElement(y6,Wr({},n,{ref:e})));var fg={},A6={get exports(){return fg},set exports(n){fg=n}},S6="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",w6=S6,M6=w6;function L3(){}function I3(){}I3.resetWarningCache=L3;var C6=function(){function n(i,r,s,o,a,l){if(l!==M6){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:I3,resetWarningCache:L3};return t.PropTypes=t,t};A6.exports=C6();function D3({all:n,scene:e,camera:t}){const i=mr(({gl:o})=>o),r=mr(({camera:o})=>o),s=mr(({scene:o})=>o);return G.useLayoutEffect(()=>{const o=[];n&&(e||s).traverse(c=>{c.visible===!1&&(o.push(c),c.visible=!0)}),i.compile(e||s,t||r);const a=new aS(128);new oS(.01,1e5,a).update(i,e||s),a.dispose(),o.forEach(c=>c.visible=!1)},[]),null}const b6=()=>{const{progress:n}=b8();return re(C8,{children:re("span",{className:"canvas-load",children:re("p",{style:{fontSize:14,color:"#f1f1f1",fontWeight:800,marginTop:40},children:n.toFixed(2)})})})},E6=()=>{const n=GS("./planet/scene.gltf");return re("primitive",{object:n.scene,scale:1.5,"position-y":0,"rotation-y":0})},T6=()=>re(M3,{shadows:!0,frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:et(G.Suspense,{fallback:re(b6,{}),children:[re(p6,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),re(E6,{}),re(D3,{all:!0})]})}),P6=n=>{const e=G.useRef(),[t]=G.useState(()=>I8(new Float32Array(5e3),{radius:1.2}));return Xd((i,r)=>{e.current.rotation.x-=r/10,e.current.rotation.y-=r/15}),re("group",{rotation:[0,0,Math.PI/4],children:re(_6,{ref:e,positions:t,stride:3,frustumCulled:!0,...n,children:re(g6,{transparent:!0,color:"#f272c8",size:.002,sizeAttenuation:!0,depthWrite:!1})})})},B6=()=>re("div",{className:"w-full h-auto absolute inset-0 z-[-1]",children:et(M3,{camera:{position:[0,0,1]},children:[re(G.Suspense,{fallback:null,children:re(P6,{})}),re(D3,{all:!0})]})}),O3=G.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),m0=G.createContext({});function R6(){return G.useContext(m0).visualElement}const HS=G.createContext(null),g0=typeof document<"u",gT=g0?G.useLayoutEffect:G.useEffect,F3=G.createContext({strict:!1});function L6(n,e,t,i){const r=R6(),s=G.useContext(F3),o=G.useContext(HS),a=G.useContext(O3).reducedMotion,l=G.useRef();i=i||s.renderer,!l.current&&i&&(l.current=i(n,{visualState:e,parent:r,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;return G.useInsertionEffect(()=>{c&&c.update(t,o)}),gT(()=>{c&&c.render()}),G.useEffect(()=>{c&&c.updateFeatures()}),(window.HandoffAppearAnimations?gT:G.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function xu(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function I6(n,e,t){return G.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):xu(t)&&(t.current=i))},[e])}function hd(n){return typeof n=="string"||Array.isArray(n)}function v0(n){return typeof n=="object"&&typeof n.start=="function"}const VS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],WS=["initial",...VS];function y0(n){return v0(n.animate)||WS.some(e=>hd(n[e]))}function k3(n){return!!(y0(n)||n.variants)}function D6(n,e){if(y0(n)){const{initial:t,animate:i}=n;return{initial:t===!1||hd(t)?t:void 0,animate:hd(i)?i:void 0}}return n.inherit!==!1?e:{}}function O6(n){const{initial:e,animate:t}=D6(n,G.useContext(m0));return G.useMemo(()=>({initial:e,animate:t}),[vT(e),vT(t)])}function vT(n){return Array.isArray(n)?n.join(" "):n}const yT={animation:["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pd={};for(const n in yT)pd[n]={isEnabled:e=>yT[n].some(t=>!!e[t])};function F6(n){for(const e in n)pd[e]={...pd[e],...n[e]}}function N3(n){const e=G.useRef(null);return e.current===null&&(e.current=n()),e.current}const bf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let k6=1;function N6(){return N3(()=>{if(bf.hasEverUpdated)return k6++})}const z3=G.createContext({}),U3=G.createContext({}),z6=Symbol.for("motionComponentSymbol");function U6({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&F6(n);function s(a,l){let c;const d={...G.useContext(O3),...a,layoutId:G6(a)},{isStatic:h}=d,p=O6(a),m=h?void 0:N6(),y=i(a,h);if(!h&&g0){p.visualElement=L6(r,y,d,e);const v=G.useContext(U3),x=G.useContext(F3).strict;p.visualElement&&(c=p.visualElement.loadFeatures(d,x,n,m,v))}return G.createElement(m0.Provider,{value:p},c&&p.visualElement?G.createElement(c,{visualElement:p.visualElement,...d}):null,t(r,a,m,I6(y,p.visualElement,l),y,h,p.visualElement))}const o=G.forwardRef(s);return o[z6]=r,o}function G6({layoutId:n}){const e=G.useContext(z3).id;return e&&n!==void 0?e+"-"+n:n}function H6(n){function e(i,r={}){return U6(n(i,r))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(i,r)=>(t.has(r)||t.set(r,e(r)),t.get(r))})}const V6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jS(n){return typeof n!="string"||n.includes("-")?!1:!!(V6.indexOf(n)>-1||/[A-Z]/.test(n))}const dg={};function W6(n){Object.assign(dg,n)}const x0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_l=new Set(x0);function G3(n,{layout:e,layoutId:t}){return _l.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!dg[n]||n==="opacity")}const Fi=n=>!!(n&&n.getVelocity),j6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},J6=x0.length;function X6(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},i,r){let s="";for(let o=0;o<J6;o++){const a=x0[o];if(n[a]!==void 0){const l=j6[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(n,i?"":s):t&&i&&(s="none"),s}const H3=n=>e=>typeof e=="string"&&e.startsWith(n),V3=H3("--"),p1=H3("var(--"),K6=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Yu=(n,e,t)=>Math.min(Math.max(t,n),e),Al={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ef={...Al,transform:n=>Yu(0,1,n)},sm={...Al,default:1},Tf=n=>Math.round(n*1e5)/1e5,md=/(-)?([\d]*\.?[\d])+/g,m1=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Y6=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Qd(n){return typeof n=="string"}const qd=n=>({test:e=>Qd(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Ao=qd("deg"),cs=qd("%"),st=qd("px"),Q6=qd("vh"),q6=qd("vw"),xT={...cs,parse:n=>cs.parse(n)/100,transform:n=>cs.transform(n*100)},_T={...Al,transform:Math.round},W3={borderWidth:st,borderTopWidth:st,borderRightWidth:st,borderBottomWidth:st,borderLeftWidth:st,borderRadius:st,radius:st,borderTopLeftRadius:st,borderTopRightRadius:st,borderBottomRightRadius:st,borderBottomLeftRadius:st,width:st,maxWidth:st,height:st,maxHeight:st,size:st,top:st,right:st,bottom:st,left:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,rotate:Ao,rotateX:Ao,rotateY:Ao,rotateZ:Ao,scale:sm,scaleX:sm,scaleY:sm,scaleZ:sm,skew:Ao,skewX:Ao,skewY:Ao,distance:st,translateX:st,translateY:st,translateZ:st,x:st,y:st,z:st,perspective:st,transformPerspective:st,opacity:Ef,originX:xT,originY:xT,originZ:st,zIndex:_T,fillOpacity:Ef,strokeOpacity:Ef,numOctaves:_T};function JS(n,e,t,i){const{style:r,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,d=!0;for(const h in e){const p=e[h];if(V3(h)){s[h]=p;continue}const m=W3[h],y=K6(p,m);if(_l.has(h)){if(l=!0,o[h]=y,!d)continue;p!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(c=!0,a[h]=y):r[h]=y}if(e.transform||(l||i?r.transform=X6(n.transform,t,d,i):r.transform&&(r.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:m=0}=a;r.transformOrigin=`${h} ${p} ${m}`}}const XS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function j3(n,e,t){for(const i in e)!Fi(e[i])&&!G3(i,t)&&(n[i]=e[i])}function Z6({transformTemplate:n},e,t){return G.useMemo(()=>{const i=XS();return JS(i,e,{enableHardwareAcceleration:!t},n),Object.assign({},i.vars,i.style)},[e])}function $6(n,e,t){const i=n.style||{},r={};return j3(r,i,n),Object.assign(r,Z6(n,e,t)),n.transformValues?n.transformValues(r):r}function eW(n,e,t){const i={},r=$6(n,e,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const tW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function hg(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||tW.has(n)}let J3=n=>!hg(n);function nW(n){n&&(J3=e=>e.startsWith("on")?!hg(e):n(e))}try{nW(require("@emotion/is-prop-valid").default)}catch{}function iW(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(J3(r)||t===!0&&hg(r)||!e&&!hg(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function AT(n,e,t){return typeof n=="string"?n:st.transform(e+t*n)}function rW(n,e,t){const i=AT(e,n.x,n.width),r=AT(t,n.y,n.height);return`${i} ${r}`}const sW={offset:"stroke-dashoffset",array:"stroke-dasharray"},oW={offset:"strokeDashoffset",array:"strokeDasharray"};function aW(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?sW:oW;n[s.offset]=st.transform(-i);const o=st.transform(e),a=st.transform(t);n[s.array]=`${o} ${a}`}function KS(n,{attrX:e,attrY:t,originX:i,originY:r,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},c,d,h){if(JS(n,l,c,h),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:m,dimensions:y}=n;p.transform&&(y&&(m.transform=p.transform),delete p.transform),y&&(i!==void 0||r!==void 0||m.transform)&&(m.transformOrigin=rW(y,i!==void 0?i:.5,r!==void 0?r:.5)),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),s!==void 0&&aW(p,s,o,a,!1)}const X3=()=>({...XS(),attrs:{}}),YS=n=>typeof n=="string"&&n.toLowerCase()==="svg";function lW(n,e,t,i){const r=G.useMemo(()=>{const s=X3();return KS(s,e,{enableHardwareAcceleration:!1},YS(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};j3(s,n.style,n),r.style={...s,...r.style}}return r}function uW(n=!1){return(t,i,r,s,{latestValues:o},a)=>{const c=(jS(t)?lW:eW)(i,o,a,t),h={...iW(i,typeof t=="string",n),...c,ref:s},{children:p}=i,m=G.useMemo(()=>Fi(p)?p.get():p,[p]);return r&&(h["data-projection-id"]=r),G.createElement(t,{...h,children:m})}}const QS=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function K3(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const s in t)n.style.setProperty(s,t[s])}const Y3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Q3(n,e,t,i){K3(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(Y3.has(r)?r:QS(r),e.attrs[r])}function qS(n,e){const{style:t}=n,i={};for(const r in t)(Fi(t[r])||e.style&&Fi(e.style[r])||G3(r,n))&&(i[r]=t[r]);return i}function q3(n,e){const t=qS(n,e);for(const i in n)if(Fi(n[i])||Fi(e[i])){const r=i==="x"||i==="y"?"attr"+i.toUpperCase():i;t[r]=n[i]}return t}function ZS(n,e,t,i={},r={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,i,r)),e}const pg=n=>Array.isArray(n),cW=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),fW=n=>pg(n)?n[n.length-1]||0:n;function Lm(n){const e=Fi(n)?n.get():n;return cW(e)?e.toValue():e}function dW({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},i,r,s){const o={latestValues:hW(i,r,s,n),renderState:e()};return t&&(o.mount=a=>t(i,a,o)),o}const Z3=n=>(e,t)=>{const i=G.useContext(m0),r=G.useContext(HS),s=()=>dW(n,e,i,r);return t?s():N3(s)};function hW(n,e,t,i){const r={},s=i(n,{});for(const p in s)r[p]=Lm(s[p]);let{initial:o,animate:a}=n;const l=y0(n),c=k3(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=t?t.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!v0(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const y=ZS(n,m);if(!y)return;const{transitionEnd:v,transition:x,...A}=y;for(const _ in A){let w=A[_];if(Array.isArray(w)){const M=d?w.length-1:0;w=w[M]}w!==null&&(r[_]=w)}for(const _ in v)r[_]=v[_]}),r}const pW={useVisualState:Z3({scrapeMotionValuesFromProps:q3,createRenderState:X3,onMount:(n,e,{renderState:t,latestValues:i})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}KS(t,i,{enableHardwareAcceleration:!1},YS(e.tagName),n.transformTemplate),Q3(e,t)}})},mW={useVisualState:Z3({scrapeMotionValuesFromProps:qS,createRenderState:XS})};function gW(n,{forwardMotionProps:e=!1},t,i){return{...jS(n)?pW:mW,preloadedFeatures:t,useRender:uW(e),createVisualElement:i,Component:n}}function Gs(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}const $3=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function _0(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const vW=n=>e=>$3(e)&&n(e,_0(e));function Ws(n,e,t,i){return Gs(n,e,vW(t),i)}const yW=(n,e)=>t=>e(n(t)),Vo=(...n)=>n.reduce(yW);function eI(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const ST=eI("dragHorizontal"),wT=eI("dragVertical");function tI(n){let e=!1;if(n==="y")e=wT();else if(n==="x")e=ST();else{const t=ST(),i=wT();t&&i?e=()=>{t(),i()}:(t&&t(),i&&i())}return e}function nI(){const n=tI(!0);return n?(n(),!1):!0}class la{constructor(e){this.isMounted=!1,this.node=e}update(){}}function MT(n,e){const t="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),r=(s,o)=>{if(s.type==="touch"||nI())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[i]&&a[i](s,o)};return Ws(n.current,t,r,{passive:!n.getProps()[i]})}class xW extends la{mount(){this.unmount=Vo(MT(this.node,!0),MT(this.node,!1))}unmount(){}}class _W extends la{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vo(Gs(this.node.current,"focus",()=>this.onFocus()),Gs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const iI=(n,e)=>e?n===e?!0:iI(n,e.parentElement):!1,Ar=n=>n;function ex(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,_0(t))}class AW extends la{constructor(){super(...arguments),this.removeStartListeners=Ar,this.removeEndListeners=Ar,this.removeAccessibleListeners=Ar,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const i=this.node.getProps(),s=Ws(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d}=this.node.getProps();iI(this.node.current,a.target)?c&&c(a,l):d&&d(a,l)},{passive:!(i.onTap||i.onPointerUp)}),o=Ws(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Vo(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||ex("up",this.node.getProps().onTap)};this.removeEndListeners(),this.removeEndListeners=Gs(this.node.current,"keyup",o),ex("down",(a,l)=>{this.startPress(a,l)})},t=Gs(this.node.current,"keydown",e),i=()=>{this.isPressing&&ex("cancel",(s,o)=>this.cancelPress(s,o))},r=Gs(this.node.current,"blur",i);this.removeAccessibleListeners=Vo(t,r)}}startPress(e,t){this.isPressing=!0;const{onTapStart:i,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&i(e,t)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!nI()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&i(e,t)}mount(){const e=this.node.getProps(),t=Ws(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=Gs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Vo(t,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const g1=new WeakMap,tx=new WeakMap,SW=n=>{const e=g1.get(n.target);e&&e(n)},wW=n=>{n.forEach(SW)};function MW({root:n,...e}){const t=n||document;tx.has(t)||tx.set(t,{});const i=tx.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(wW,{root:n,...e})),i[r]}function CW(n,e,t){const i=MW(e);return g1.set(n,t),i.observe(n),()=>{g1.delete(n),i.unobserve(n)}}const bW={some:0,all:1};class EW extends la{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}viewportFallback(){requestAnimationFrame(()=>{this.hasEnteredView=!0;const{onViewportEnter:e}=this.node.getProps();e&&e(null),this.node.animationState&&this.node.animationState.setActive("whileInView",!0)})}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s,fallback:o=!0}=e;if(typeof IntersectionObserver>"u"){o&&this.viewportFallback();return}const a={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:bW[r]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),m=d?h:p;m&&m(c)};return CW(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(TW(e,t))&&this.startObserver()}unmount(){}}function TW({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const PW={inView:{Feature:EW},tap:{Feature:AW},focus:{Feature:_W},hover:{Feature:xW}};function rI(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const BW=n=>/^\-?\d*\.?\d+$/.test(n),RW=n=>/^0[^.\s]+$/.test(n),js={delta:0,timestamp:0},sI=1/60*1e3,LW=typeof performance<"u"?()=>performance.now():()=>Date.now(),oI=typeof window<"u"?n=>window.requestAnimationFrame(n):n=>setTimeout(()=>n(LW()),sI);function IW(n){let e=[],t=[],i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const h=d&&r,p=h?e:t;return c&&o.add(l),p.indexOf(l)===-1&&(p.push(l),h&&r&&(i=e.length)),l},cancel:l=>{const c=t.indexOf(l);c!==-1&&t.splice(c,1),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.length=0,i=e.length,i)for(let c=0;c<i;c++){const d=e[c];d(l),o.has(d)&&(a.schedule(d),n())}r=!1,s&&(s=!1,a.process(l))}};return a}const DW=40;let v1=!0,gd=!1,y1=!1;const Zd=["read","update","preRender","render","postRender"],A0=Zd.reduce((n,e)=>(n[e]=IW(()=>gd=!0),n),{}),xi=Zd.reduce((n,e)=>{const t=A0[e];return n[e]=(i,r=!1,s=!1)=>(gd||FW(),t.schedule(i,r,s)),n},{}),Zo=Zd.reduce((n,e)=>(n[e]=A0[e].cancel,n),{}),nx=Zd.reduce((n,e)=>(n[e]=()=>A0[e].process(js),n),{}),OW=n=>A0[n].process(js),aI=n=>{gd=!1,js.delta=v1?sI:Math.max(Math.min(n-js.timestamp,DW),1),js.timestamp=n,y1=!0,Zd.forEach(OW),y1=!1,gd&&(v1=!1,oI(aI))},FW=()=>{gd=!0,v1=!0,y1||oI(aI)};function $S(n,e){n.indexOf(e)===-1&&n.push(e)}function ew(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class tw{constructor(){this.subscriptions=[]}add(e){return $S(this.subscriptions,e),()=>ew(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function nw(n,e){return e?n*(1e3/e):0}const kW=n=>!isNaN(parseFloat(n));class NW{constructor(e,t={}){this.version="9.1.7",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,r=!0)=>{this.prev=this.current,this.current=i;const{delta:s,timestamp:o}=js;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,xi.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>xi.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=kW(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new tw);const i=this.events[e].add(t);return e==="change"?()=>{i(),xi.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?nw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qu(n,e){return new NW(n,e)}const iw=(n,e)=>t=>!!(Qd(t)&&Y6.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),lI=(n,e,t)=>i=>{if(!Qd(i))return i;const[r,s,o,a]=i.match(md);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},zW=n=>Yu(0,255,n),ix={...Al,transform:n=>Math.round(zW(n))},Ka={test:iw("rgb","red"),parse:lI("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+ix.transform(n)+", "+ix.transform(e)+", "+ix.transform(t)+", "+Tf(Ef.transform(i))+")"};function UW(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const x1={test:iw("#"),parse:UW,transform:Ka.transform},_u={test:iw("hsl","hue"),parse:lI("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+cs.transform(Tf(e))+", "+cs.transform(Tf(t))+", "+Tf(Ef.transform(i))+")"},mi={test:n=>Ka.test(n)||x1.test(n)||_u.test(n),parse:n=>Ka.test(n)?Ka.parse(n):_u.test(n)?_u.parse(n):x1.parse(n),transform:n=>Qd(n)?n:n.hasOwnProperty("red")?Ka.transform(n):_u.transform(n)},uI="${c}",cI="${n}";function GW(n){var e,t;return isNaN(n)&&Qd(n)&&(((e=n.match(md))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(m1))===null||t===void 0?void 0:t.length)||0)>0}function mg(n){typeof n=="number"&&(n=`${n}`);const e=[];let t=0,i=0;const r=n.match(m1);r&&(t=r.length,n=n.replace(m1,uI),e.push(...r.map(mi.parse)));const s=n.match(md);return s&&(i=s.length,n=n.replace(md,cI),e.push(...s.map(Al.parse))),{values:e,numColors:t,numNumbers:i,tokenised:n}}function fI(n){return mg(n).values}function dI(n){const{values:e,numColors:t,tokenised:i}=mg(n),r=e.length;return s=>{let o=i;for(let a=0;a<r;a++)o=o.replace(a<t?uI:cI,a<t?mi.transform(s[a]):Tf(s[a]));return o}}const HW=n=>typeof n=="number"?0:n;function VW(n){const e=fI(n);return dI(n)(e.map(HW))}const $o={test:GW,parse:fI,createTransformer:dI,getAnimatableNone:VW},WW=new Set(["brightness","contrast","saturate","opacity"]);function jW(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(md)||[];if(!i)return n;const r=t.replace(i,"");let s=WW.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const JW=/([a-z-]*)\(.*?\)/g,_1={...$o,getAnimatableNone:n=>{const e=n.match(JW);return e?e.map(jW).join(" "):n}},XW={...W3,color:mi,backgroundColor:mi,outlineColor:mi,fill:mi,stroke:mi,borderColor:mi,borderTopColor:mi,borderRightColor:mi,borderBottomColor:mi,borderLeftColor:mi,filter:_1,WebkitFilter:_1},rw=n=>XW[n];function sw(n,e){let t=rw(n);return t!==_1&&(t=$o),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const hI=n=>e=>e.test(n),KW={test:n=>n==="auto",parse:n=>n},pI=[Al,st,cs,Ao,q6,Q6,KW],rf=n=>pI.find(hI(n)),YW=[...pI,mi,$o],QW=n=>YW.find(hI(n));function qW(n){const e={};return n.values.forEach((t,i)=>e[i]=t.get()),e}function ZW(n){const e={};return n.values.forEach((t,i)=>e[i]=t.getVelocity()),e}function S0(n,e,t){const i=n.getProps();return ZS(i,e,t!==void 0?t:i.custom,qW(n),ZW(n))}function $W(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Qu(t))}function ej(n,e){const t=S0(n,e);let{transitionEnd:i={},transition:r={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...i};for(const o in s){const a=fW(s[o]);$W(n,o,a)}}function tj(n,e,t){var i,r;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(r=(i=t[l])!==null&&i!==void 0?i:n.readValue(l))!==null&&r!==void 0?r:e[l]),d!=null&&(typeof d=="string"&&(BW(d)||RW(d))?d=parseFloat(d):!QW(d)&&$o.test(c)&&(d=sw(l,c)),n.addValue(l,Qu(d,{owner:n})),t[l]===void 0&&(t[l]=d),d!==null&&n.setBaseTarget(l,d))}}function nj(n,e){return e?(e[n]||e.default||e).from:void 0}function ij(n,e,t){const i={};for(const r in n){const s=nj(r,e);if(s!==void 0)i[r]=s;else{const o=t.getValue(r);o&&(i[r]=o.get())}}return i}function gg(n){return!!(Fi(n)&&n.add)}const rj="framerAppearId",sj="data-"+QS(rj);let oj=Ar,vg=Ar;const Im=n=>n*1e3,aj={current:!1},ow=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,aw=n=>e=>1-n(1-e),lw=n=>n*n,lj=aw(lw),uw=ow(lw),cn=(n,e,t)=>-t*n+t*e+n;function rx(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function uj({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=rx(l,a,n+1/3),s=rx(l,a,n),o=rx(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const sx=(n,e,t)=>{const i=n*n;return Math.sqrt(Math.max(0,t*(e*e-i)+i))},cj=[x1,Ka,_u],fj=n=>cj.find(e=>e.test(n));function CT(n){const e=fj(n);let t=e.parse(n);return e===_u&&(t=uj(t)),t}const mI=(n,e)=>{const t=CT(n),i=CT(e),r={...t};return s=>(r.red=sx(t.red,i.red,s),r.green=sx(t.green,i.green,s),r.blue=sx(t.blue,i.blue,s),r.alpha=cn(t.alpha,i.alpha,s),Ka.transform(r))};function gI(n,e){return typeof n=="number"?t=>cn(n,e,t):mi.test(n)?mI(n,e):yI(n,e)}const vI=(n,e)=>{const t=[...n],i=t.length,r=n.map((s,o)=>gI(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}},dj=(n,e)=>{const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=gI(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}},yI=(n,e)=>{const t=$o.createTransformer(e),i=mg(n),r=mg(e);return i.numColors===r.numColors&&i.numNumbers>=r.numNumbers?Vo(vI(i.values,r.values),t):o=>`${o>0?e:n}`},vd=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},bT=(n,e)=>t=>cn(n,e,t);function hj(n){return typeof n=="number"?bT:typeof n=="string"?mi.test(n)?mI:yI:Array.isArray(n)?vI:typeof n=="object"?dj:bT}function pj(n,e,t){const i=[],r=t||hj(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=Vo(l,a)}i.push(a)}return i}function xI(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;vg(s===e.length),vg(!i||!Array.isArray(i)||i.length===s-1),n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=pj(e,i,r),a=o.length,l=c=>{let d=0;if(a>1)for(;d<n.length-2&&!(c<n[d+1]);d++);const h=vd(n[d],n[d+1],c);return o[d](h)};return t?c=>l(Yu(n[0],n[s-1],c)):l}function mj(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=vd(0,e,i);n.push(cn(t,1,r))}}function gj(n){const e=[0];return mj(e,n.length-1),e}function vj(n,e){return n.map(t=>t*e)}const _I=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,yj=1e-7,xj=12;function _j(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=_I(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>yj&&++a<xj);return o}function AI(n,e,t,i){if(n===e&&t===i)return Ar;const r=s=>_j(s,0,1,n,t);return s=>s===0||s===1?s:_I(r(s),e,i)}const SI=n=>1-Math.sin(Math.acos(n)),cw=aw(SI),Aj=ow(cw),wI=AI(.33,1.53,.69,.99),fw=aw(wI),Sj=ow(fw),wj=n=>(n*=2)<1?.5*fw(n):.5*(2-Math.pow(2,-10*(n-1))),Mj={linear:Ar,easeIn:lw,easeInOut:uw,easeOut:lj,circIn:SI,circInOut:Aj,circOut:cw,backIn:fw,backInOut:Sj,backOut:wI,anticipate:wj},ET=n=>{if(Array.isArray(n)){vg(n.length===4);const[e,t,i,r]=n;return AI(e,t,i,r)}else if(typeof n=="string")return Mj[n];return n},Cj=n=>Array.isArray(n)&&typeof n[0]!="number";function bj(n,e){return n.map(()=>e||uw).splice(0,n.length-1)}function A1({keyframes:n,ease:e=uw,times:t,duration:i=300}){n=[...n];const r=Cj(e)?e.map(ET):ET(e),s={done:!1,value:n[0]},o=vj(t&&t.length===n.length?t:gj(n),i);function a(){return xI(o,n,{ease:Array.isArray(r)?r:bj(n,r)})}let l=a();return{next:c=>(s.value=l(c),s.done=c>=i,s),flipTarget:()=>{n.reverse(),l=a()}}}const ox=.001,Ej=.01,TT=10,Tj=.05,Pj=1;function Bj({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s;oj(n<=TT*1e3);let o=1-e;o=Yu(Tj,Pj,o),n=Yu(Ej,TT,n/1e3),o<1?(r=c=>{const d=c*o,h=d*n,p=d-t,m=S1(c,o),y=Math.exp(-h);return ox-p/m*y},s=c=>{const h=c*o*n,p=h*t+t,m=Math.pow(o,2)*Math.pow(c,2)*n,y=Math.exp(-h),v=S1(Math.pow(c,2),o);return(-r(c)+ox>0?-1:1)*((p-m)*y)/v}):(r=c=>{const d=Math.exp(-c*n),h=(c-t)*n+1;return-ox+d*h},s=c=>{const d=Math.exp(-c*n),h=(t-c)*(n*n);return d*h});const a=5/n,l=Lj(r,s,a);if(n=n*1e3,isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:n}}}const Rj=12;function Lj(n,e,t){let i=t;for(let r=1;r<Rj;r++)i=i-n(i)/e(i);return i}function S1(n,e){return n*Math.sqrt(1-e*e)}const Ij=["duration","bounce"],Dj=["stiffness","damping","mass"];function PT(n,e){return e.some(t=>n[t]!==void 0)}function Oj(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!PT(n,Dj)&&PT(n,Ij)){const t=Bj(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}const Fj=5;function MI({keyframes:n,restDelta:e,restSpeed:t,...i}){let r=n[0],s=n[n.length-1];const o={done:!1,value:r},{stiffness:a,damping:l,mass:c,velocity:d,duration:h,isResolvedFromDuration:p}=Oj(i);let m=kj,y=d?-(d/1e3):0;const v=l/(2*Math.sqrt(a*c));function x(){const A=s-r,_=Math.sqrt(a/c)/1e3,w=Math.abs(A)<5;if(t||(t=w?.01:2),e||(e=w?.005:.5),v<1){const M=S1(_,v);m=E=>{const P=Math.exp(-v*_*E);return s-P*((y+v*_*A)/M*Math.sin(M*E)+A*Math.cos(M*E))}}else if(v===1)m=M=>s-Math.exp(-_*M)*(A+(y+_*A)*M);else{const M=_*Math.sqrt(v*v-1);m=E=>{const P=Math.exp(-v*_*E),R=Math.min(M*E,300);return s-P*((y+v*_*A)*Math.sinh(R)+M*A*Math.cosh(R))/M}}}return x(),{next:A=>{const _=m(A);if(p)o.done=A>=h;else{let w=y;if(A!==0)if(v<1){const P=Math.max(0,A-Fj);w=nw(_-m(P),A-P)}else w=0;const M=Math.abs(w)<=t,E=Math.abs(s-_)<=e;o.done=M&&E}return o.value=o.done?s:_,o},flipTarget:()=>{y=-y,[r,s]=[s,r],x()}}}MI.needsInterpolation=(n,e)=>typeof n=="string"||typeof e=="string";const kj=n=>0;function Nj({keyframes:n=[0],velocity:e=0,power:t=.8,timeConstant:i=350,restDelta:r=.5,modifyTarget:s}){const o=n[0],a={done:!1,value:o};let l=t*e;const c=o+l,d=s===void 0?c:s(c);return d!==c&&(l=d-o),{next:h=>{const p=-l*Math.exp(-h/i);return a.done=!(p>r||p<-r),a.value=a.done?d:d+p,a},flipTarget:()=>{}}}const zj={decay:Nj,keyframes:A1,tween:A1,spring:MI};function CI(n,e,t=0){return n-e-t}function Uj(n,e=0,t=0,i=!0){return i?CI(e+-n,e,t):e-(n-e)+t}function Gj(n,e,t,i){return i?n>=e+t:n<=-t}const Hj=n=>{const e=({delta:t})=>n(t);return{start:()=>xi.update(e,!0),stop:()=>Zo.update(e)}};function yg({duration:n,driver:e=Hj,elapsed:t=0,repeat:i=0,repeatType:r="loop",repeatDelay:s=0,keyframes:o,autoplay:a=!0,onPlay:l,onStop:c,onComplete:d,onRepeat:h,onUpdate:p,type:m="keyframes",...y}){const v=t;let x,A=0,_=n,w=!1,M=!0,E;const P=zj[o.length>2?"keyframes":m]||A1,R=o[0],b=o[o.length-1];let B={done:!1,value:R};const{needsInterpolation:L}=P;L&&L(R,b)&&(E=xI([0,100],[R,b],{clamp:!1}),o=[0,100]);const O=P({...y,duration:n,keyframes:o});function H(){A++,r==="reverse"?(M=A%2===0,t=Uj(t,_,s,M)):(t=CI(t,_,s),r==="mirror"&&O.flipTarget()),w=!1,h&&h()}function U(){x&&x.stop(),d&&d()}function W(ee){M||(ee=-ee),t+=ee,w||(B=O.next(Math.max(0,t)),E&&(B.value=E(B.value)),w=M?B.done:t<=0),p&&p(B.value),w&&(A===0&&(_=_!==void 0?_:t),A<i?Gj(t,_,s,M)&&H():U())}function J(){l&&l(),x=e(W),x.start()}return a&&J(),{stop:()=>{c&&c(),x&&x.stop()},set currentTime(ee){t=v,W(ee)},sample:ee=>{t=v;const ie=n&&typeof n=="number"?Math.max(n*.5,50):50;let k=0;for(W(0);k<=ee;){const X=ee-k;W(Math.min(X,ie)),k+=ie}return B}}}function Vj(n){return!n||Array.isArray(n)||typeof n=="string"&&bI[n]}const df=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,bI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:df([0,.65,.55,1]),circOut:df([.55,0,1,.45]),backIn:df([.31,.01,.66,-.59]),backOut:df([.33,1.53,.69,.99])};function Wj(n){if(n)return Array.isArray(n)?df(n):bI[n]}function jj(n,e,t,{delay:i=0,duration:r,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){return n.animate({[e]:t,offset:l},{delay:i,duration:r,easing:Wj(a),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const BT={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},ax={},EI={};for(const n in BT)EI[n]=()=>(ax[n]===void 0&&(ax[n]=BT[n]()),ax[n]);function Jj(n,{repeat:e,repeatType:t="loop"}){const i=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[i]}const Xj=new Set(["opacity","clipPath","filter","transform"]),om=10;function Kj(n,e,{onUpdate:t,onComplete:i,...r}){if(!(EI.waapi()&&Xj.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0))return!1;let{keyframes:o,duration:a=300,elapsed:l=0,ease:c}=r;if(r.type==="spring"||!Vj(r.ease)){if(r.repeat===1/0)return;const h=yg({...r,elapsed:0});let p={done:!1,value:o[0]};const m=[];let y=0;for(;!p.done&&y<2e4;)p=h.sample(y),m.push(p.value),y+=om;o=m,a=y-om,c="linear"}const d=jj(n.owner.current,e,o,{...r,delay:-l,duration:a,ease:c});return d.onfinish=()=>{n.set(Jj(o,r)),xi.update(()=>d.cancel()),i&&i()},{get currentTime(){return d.currentTime||0},set currentTime(h){d.currentTime=h},stop:()=>{const{currentTime:h}=d;if(h){const p=yg({...r,autoplay:!1});n.setWithVelocity(p.sample(h-om).value,p.sample(h).value,om)}xi.update(()=>d.cancel())}}}function TI(n,e){const t=performance.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(Zo.read(i),n(s-e))};return xi.read(i,!0),()=>Zo.read(i)}function Yj({keyframes:n,elapsed:e,onUpdate:t,onComplete:i}){const r=()=>{t&&t(n[n.length-1]),i&&i()};return e?{stop:TI(r,-e)}:r()}function Qj({keyframes:n,velocity:e=0,min:t,max:i,power:r=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:c,driver:d,onUpdate:h,onComplete:p,onStop:m}){const y=n[0];let v;function x(M){return t!==void 0&&M<t||i!==void 0&&M>i}function A(M){return t===void 0?i:i===void 0||Math.abs(t-M)<Math.abs(i-M)?t:i}function _(M){v&&v.stop(),v=yg({keyframes:[0,1],velocity:0,...M,driver:d,onUpdate:E=>{h&&h(E),M.onUpdate&&M.onUpdate(E)},onComplete:p,onStop:m})}function w(M){_({type:"spring",stiffness:o,damping:a,restDelta:l,...M})}if(x(y))w({velocity:e,keyframes:[y,A(y)]});else{let M=r*e+y;typeof c<"u"&&(M=c(M));const E=A(M),P=E===t?-1:1;let R,b;const B=L=>{R=b,b=L,e=nw(L-R,js.delta),(P===1&&L>E||P===-1&&L<E)&&w({keyframes:[L,E],velocity:e})};_({type:"decay",keyframes:[y,0],velocity:e,timeConstant:s,power:r,restDelta:l,modifyTarget:c,onUpdate:x(M)?B:void 0})}return{stop:()=>v&&v.stop()}}const qj={type:"spring",stiffness:500,damping:25,restSpeed:10},Zj=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),$j={type:"keyframes",duration:.8},e7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},t7=(n,{keyframes:e})=>e.length>2?$j:_l.has(n)?n.startsWith("scale")?Zj(e[1]):qj:e7,w1=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&$o.test(e)&&!e.startsWith("url("));function n7({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function RT(n){return n===0||typeof n=="string"&&parseFloat(n)===0&&n.indexOf(" ")===-1}function LT(n){return typeof n=="number"?0:sw("",n)}function PI(n,e){return n[e]||n.default||n}function i7(n,e,t,i){const r=w1(e,t);let s=i.from!==void 0?i.from:n.get();return s==="none"&&r&&typeof t=="string"?s=sw(e,t):RT(s)&&typeof t=="string"?s=LT(t):!Array.isArray(t)&&RT(t)&&typeof s=="string"&&(t=LT(s)),Array.isArray(t)?(t[0]===null&&(t[0]=s),t):[s,t]}const dw=(n,e,t,i={})=>r=>{const s=PI(i,n)||{},o=s.delay||i.delay||0;let{elapsed:a=0}=i;a=a-Im(o);const l=i7(e,n,t,s),c=l[0],d=l[l.length-1],h=w1(n,c),p=w1(n,d);let m={keyframes:l,velocity:e.getVelocity(),...s,elapsed:a,onUpdate:y=>{e.set(y),s.onUpdate&&s.onUpdate(y)},onComplete:()=>{r(),s.onComplete&&s.onComplete()}};if(!h||!p||aj.current||s.type===!1)return Yj(m);if(s.type==="inertia")return Qj(m);if(n7(s)||(m={...m,...t7(n,m)}),m.duration&&(m.duration=Im(m.duration)),m.repeatDelay&&(m.repeatDelay=Im(m.repeatDelay)),e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const y=Kj(e,n,m);if(y)return y}return yg(m)};function r7(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>M1(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=M1(n,e,t);else{const r=typeof e=="function"?S0(n,e,t.custom):e;i=BI(n,r,t)}return i.then(()=>n.notify("AnimationComplete",e))}function M1(n,e,t={}){const i=S0(n,e,t.custom);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>BI(n,i,t):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:h}=r;return s7(n,e,c+l,d,h,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(c)}else return Promise.all([s(),o(t.delay)])}function BI(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");i&&(s=i);const c=[],d=r&&n.animationState&&n.animationState.getState()[r];for(const h in a){const p=n.getValue(h),m=a[h];if(!p||m===void 0||d&&a7(d,h))continue;const y={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!p.hasAnimated){const x=n.getProps()[sj];x&&(y.elapsed=window.HandoffAppearAnimations(x,h,p,xi))}let v=p.start(dw(h,p,m,n.shouldReduceMotion&&_l.has(h)?{type:!1}:y));gg(l)&&(l.add(h),v=v.then(()=>l.remove(h))),c.push(v)}return Promise.all(c).then(()=>{o&&ej(n,o)})}function s7(n,e,t=0,i=0,r=1,s){const o=[],a=(n.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(n.variantChildren).sort(o7).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(M1(c,e,{...s,delay:t+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function o7(n,e){return n.sortNodePosition(e)}function a7({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}const l7=[...VS].reverse(),u7=VS.length;function c7(n){return e=>Promise.all(e.map(({animation:t,options:i})=>r7(n,t,i)))}function f7(n){let e=c7(n);const t=h7();let i=!0;const r=(l,c)=>{const d=S0(n,c);if(d){const{transition:h,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function s(l){e=l(n)}function o(l,c){const d=n.getProps(),h=n.getVariantContext(!0)||{},p=[],m=new Set;let y={},v=1/0;for(let A=0;A<u7;A++){const _=l7[A],w=t[_],M=d[_]!==void 0?d[_]:h[_],E=hd(M),P=_===c?w.isActive:null;P===!1&&(v=A);let R=M===h[_]&&M!==d[_]&&E;if(R&&i&&n.manuallyAnimateOnMount&&(R=!1),w.protectedKeys={...y},!w.isActive&&P===null||!M&&!w.prevProp||v0(M)||typeof M=="boolean")continue;const b=d7(w.prevProp,M);let B=b||_===c&&w.isActive&&!R&&E||A>v&&E;const L=Array.isArray(M)?M:[M];let O=L.reduce(r,{});P===!1&&(O={});const{prevResolvedValues:H={}}=w,U={...H,...O},W=J=>{B=!0,m.delete(J),w.needsAnimating[J]=!0};for(const J in U){const ee=O[J],ie=H[J];y.hasOwnProperty(J)||(ee!==ie?pg(ee)&&pg(ie)?!rI(ee,ie)||b?W(J):w.protectedKeys[J]=!0:ee!==void 0?W(J):m.add(J):ee!==void 0&&m.has(J)?W(J):w.protectedKeys[J]=!0)}w.prevProp=M,w.prevResolvedValues=O,w.isActive&&(y={...y,...O}),i&&n.blockInitialAnimation&&(B=!1),B&&!R&&p.push(...L.map(J=>({animation:J,options:{type:_,...l}})))}if(m.size){const A={};m.forEach(_=>{const w=n.getBaseTarget(_);w!==void 0&&(A[_]=w)}),p.push({animation:A})}let x=!!p.length;return i&&d.initial===!1&&!n.manuallyAnimateOnMount&&(x=!1),i=!1,x?e(p):Promise.resolve()}function a(l,c,d){var h;if(t[l].isActive===c)return Promise.resolve();(h=n.variantChildren)===null||h===void 0||h.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),t[l].isActive=c;const p=o(d,l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function d7(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!rI(e,n):!1}function Ta(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function h7(){return{animate:Ta(!0),whileInView:Ta(),whileHover:Ta(),whileTap:Ta(),whileDrag:Ta(),whileFocus:Ta(),exit:Ta()}}class p7 extends la{constructor(e){super(e),e.animationState||(e.animationState=f7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),v0(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let m7=0;class g7 extends la{constructor(){super(...arguments),this.id=m7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const v7={animation:{Feature:p7},exit:{Feature:g7}},IT=(n,e)=>Math.abs(n-e);function y7(n,e){const t=IT(n.x,e.x),i=IT(n.y,e.y);return Math.sqrt(t**2+i**2)}class RI{constructor(e,t,{transformPagePoint:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=ux(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,h=y7(c.offset,{x:0,y:0})>=3;if(!d&&!h)return;const{point:p}=c,{timestamp:m}=js;this.history.push({...p,timestamp:m});const{onStart:y,onMove:v}=this.handlers;d||(y&&y(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,c)},this.handlePointerMove=(c,d)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=lx(d,this.transformPagePoint),xi.update(this.updatePoint,!0)},this.handlePointerUp=(c,d)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:p}=this.handlers,m=ux(c.type==="pointercancel"?this.lastMoveEventInfo:lx(d,this.transformPagePoint),this.history);this.startEvent&&h&&h(c,m),p&&p(c,m)},!$3(e))return;this.handlers=t,this.transformPagePoint=i;const r=_0(e),s=lx(r,this.transformPagePoint),{point:o}=s,{timestamp:a}=js;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,ux(s,this.history)),this.removeListeners=Vo(Ws(window,"pointermove",this.handlePointerMove),Ws(window,"pointerup",this.handlePointerUp),Ws(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zo.update(this.updatePoint)}}function lx(n,e){return e?{point:e(n.point)}:n}function DT(n,e){return{x:n.x-e.x,y:n.y-e.y}}function ux({point:n},e){return{point:n,delta:DT(n,LI(e)),offset:DT(n,x7(e)),velocity:_7(e,.1)}}function x7(n){return n[0]}function LI(n){return n[n.length-1]}function _7(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=LI(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Im(e)));)t--;if(!i)return{x:0,y:0};const s=(r.timestamp-i.timestamp)/1e3;if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Qi(n){return n.max-n.min}function C1(n,e=0,t=.01){return Math.abs(n-e)<=t}function OT(n,e,t,i=.5){n.origin=i,n.originPoint=cn(e.min,e.max,n.origin),n.scale=Qi(t)/Qi(e),(C1(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=cn(t.min,t.max,n.origin)-n.originPoint,(C1(n.translate)||isNaN(n.translate))&&(n.translate=0)}function Pf(n,e,t,i){OT(n.x,e.x,t.x,i?i.originX:void 0),OT(n.y,e.y,t.y,i?i.originY:void 0)}function FT(n,e,t){n.min=t.min+e.min,n.max=n.min+Qi(e)}function A7(n,e,t){FT(n.x,e.x,t.x),FT(n.y,e.y,t.y)}function kT(n,e,t){n.min=e.min-t.min,n.max=n.min+Qi(e)}function Bf(n,e,t){kT(n.x,e.x,t.x),kT(n.y,e.y,t.y)}function S7(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?cn(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?cn(t,n,i.max):Math.min(n,t)),n}function NT(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function w7(n,{top:e,left:t,bottom:i,right:r}){return{x:NT(n.x,t,r),y:NT(n.y,e,i)}}function zT(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function M7(n,e){return{x:zT(n.x,e.x),y:zT(n.y,e.y)}}function C7(n,e){let t=.5;const i=Qi(n),r=Qi(e);return r>i?t=vd(e.min,e.max-i,n.min):i>r&&(t=vd(n.min,n.max-r,e.min)),Yu(0,1,t)}function b7(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const b1=.35;function E7(n=b1){return n===!1?n=0:n===!0&&(n=b1),{x:UT(n,"left","right"),y:UT(n,"top","bottom")}}function UT(n,e,t){return{min:GT(n,e),max:GT(n,t)}}function GT(n,e){return typeof n=="number"?n:n[e]||0}const HT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rf=()=>({x:HT(),y:HT()}),VT=()=>({min:0,max:0}),En=()=>({x:VT(),y:VT()});function rs(n){return[n("x"),n("y")]}function II({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function T7({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function P7(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function cx(n){return n===void 0||n===1}function E1({scale:n,scaleX:e,scaleY:t}){return!cx(n)||!cx(e)||!cx(t)}function Oa(n){return E1(n)||DI(n)||n.z||n.rotate||n.rotateX||n.rotateY}function DI(n){return WT(n.x)||WT(n.y)}function WT(n){return n&&n!=="0%"}function xg(n,e,t){const i=n-t,r=e*i;return t+r}function jT(n,e,t,i,r){return r!==void 0&&(n=xg(n,r,i)),xg(n,t,i)+e}function T1(n,e=0,t=1,i,r){n.min=jT(n.min,e,t,i,r),n.max=jT(n.max,e,t,i,r)}function OI(n,{x:e,y:t}){T1(n.x,e.translate,e.scale,e.originPoint),T1(n.y,t.translate,t.scale,t.originPoint)}function B7(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Au(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,OI(n,o)),i&&Oa(s.latestValues)&&Au(n,s.latestValues))}e.x=JT(e.x),e.y=JT(e.y)}function JT(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Co(n,e){n.min=n.min+e,n.max=n.max+e}function XT(n,e,[t,i,r]){const s=e[r]!==void 0?e[r]:.5,o=cn(n.min,n.max,s);T1(n,e[t],e[i],o,e.scale)}const R7=["x","scaleX","originX"],L7=["y","scaleY","originY"];function Au(n,e){XT(n.x,e,R7),XT(n.y,e,L7)}function FI(n,e){return II(P7(n.getBoundingClientRect(),e))}function I7(n,e,t){const i=FI(n,t),{scroll:r}=e;return r&&(Co(i.x,r.offset.x),Co(i.y,r.offset.y)),i}const D7=new WeakMap;class O7{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=En(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=l=>{this.stopAnimation(),t&&this.snapToCursor(_0(l,"page").point)},s=(l,c)=>{const{drag:d,dragPropagation:h,onDragStart:p}=this.getProps();if(d&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=tI(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rs(y=>{let v=this.getAxisMotionValue(y).get()||0;if(cs.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const A=x.layout.layoutBox[y];A&&(v=Qi(A)*(parseFloat(v)/100))}}this.originPoint[y]=v}),p&&p(l,c);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,c)=>{const{dragPropagation:d,dragDirectionLock:h,onDirectionLock:p,onDrag:m}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:y}=c;if(h&&this.currentDirection===null){this.currentDirection=F7(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",c.point,y),this.updateAxis("y",c.point,y),this.visualElement.render(),m&&m(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new RI(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&s(e,t)}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!am(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=S7(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:i}=this.visualElement.projection||{},r=this.constraints;e&&xu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=w7(i.layoutBox,e):this.constraints=!1,this.elastic=E7(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&rs(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=b7(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!xu(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=I7(i,r.root,this.visualElement.getTransformPagePoint());let o=M7(r.layout.layoutBox,s);if(t){const a=t(T7(o));this.hasMutatedConstraints=!!a,a&&(o=II(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=rs(d=>{if(!am(d,t,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,y={type:"inertia",velocity:i?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return i.start(dw(e,i,0,t))}stopAnimation(){rs(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){rs(t=>{const{drag:i}=this.getProps();if(!am(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-cn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!xu(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};rs(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();r[o]=C7({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),rs(o=>{if(!am(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(cn(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;D7.set(this.visualElement,this);const e=this.visualElement.current,t=Ws(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();xu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),i();const o=Gs(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(rs(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=b1,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function am(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function F7(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class k7 extends la{constructor(e){super(e),this.removeGroupControls=Ar,this.removeListeners=Ar,this.controls=new O7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ar}unmount(){this.removeGroupControls(),this.removeListeners()}}class N7 extends la{constructor(){super(...arguments),this.removePointerDownListener=Ar}onPointerDown(e){this.session=new RI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:e,onStart:t,onMove:i,onEnd:(s,o)=>{delete this.session,r&&r(s,o)}}}mount(){this.removePointerDownListener=Ws(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function z7(){const n=G.useContext(HS);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:i}=n,r=G.useId();return G.useEffect(()=>i(r),[]),!e&&t?[!1,()=>t&&t(r)]:[!0]}function KT(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const sf={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(st.test(n))n=parseFloat(n);else return n;const t=KT(n,e.target.x),i=KT(n,e.target.y);return`${t}% ${i}%`}},kI=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function U7(n){const e=kI.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]}function P1(n,e,t=1){const[i,r]=U7(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);return s?s.trim():p1(r)?P1(r,e,t+1):r}function G7(n,{...e},t){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(r=>{const s=r.get();if(!p1(s))return;const o=P1(s,i);o&&r.set(o)});for(const r in e){const s=e[r];if(!p1(s))continue;const o=P1(s,i);o&&(e[r]=o,t&&t[r]===void 0&&(t[r]=s))}return{target:e,transitionEnd:t}}const YT="_$css",H7={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=n.includes("var("),s=[];r&&(n=n.replace(kI,m=>(s.push(m),YT)));const o=$o.parse(n);if(o.length>5)return i;const a=$o.createTransformer(n),l=typeof o[0]!="number"?1:0,c=t.x.scale*e.x,d=t.y.scale*e.y;o[0+l]/=c,o[1+l]/=d;const h=cn(c,d,.5);typeof o[2+l]=="number"&&(o[2+l]/=h),typeof o[3+l]=="number"&&(o[3+l]/=h);let p=a(o);if(r){let m=0;p=p.replace(YT,()=>{const y=s[m];return m++,y})}return p}};class V7 extends Ig.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;W6(W7),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),bf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||xi.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function NI(n){const[e,t]=z7(),i=G.useContext(z3);return Ig.createElement(V7,{...n,layoutGroup:i,switchLayoutGroup:G.useContext(U3),isPresent:e,safeToRemove:t})}const W7={borderRadius:{...sf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sf,borderTopRightRadius:sf,borderBottomLeftRadius:sf,borderBottomRightRadius:sf,boxShadow:H7};function j7(n,e,t={}){const i=Fi(n)?n:Qu(n);return i.start(dw("",i,e,t)),{stop:()=>i.stop(),isAnimating:()=>i.isAnimating()}}const zI=["TopLeft","TopRight","BottomLeft","BottomRight"],J7=zI.length,QT=n=>typeof n=="string"?parseFloat(n):n,qT=n=>typeof n=="number"||st.test(n);function X7(n,e,t,i,r,s){r?(n.opacity=cn(0,t.opacity!==void 0?t.opacity:1,K7(i)),n.opacityExit=cn(e.opacity!==void 0?e.opacity:1,0,Y7(i))):s&&(n.opacity=cn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let o=0;o<J7;o++){const a=`border${zI[o]}Radius`;let l=ZT(e,a),c=ZT(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||qT(l)===qT(c)?(n[a]=Math.max(cn(QT(l),QT(c),i),0),(cs.test(c)||cs.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=cn(e.rotate||0,t.rotate||0,i))}function ZT(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const K7=UI(0,.5,cw),Y7=UI(.5,.95,Ar);function UI(n,e,t){return i=>i<n?0:i>e?1:t(vd(n,e,i))}function $T(n,e){n.min=e.min,n.max=e.max}function hr(n,e){$T(n.x,e.x),$T(n.y,e.y)}function eP(n,e,t,i,r){return n-=e,n=xg(n,1/t,i),r!==void 0&&(n=xg(n,1/r,i)),n}function Q7(n,e=0,t=1,i=.5,r,s=n,o=n){if(cs.test(e)&&(e=parseFloat(e),e=cn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=cn(s.min,s.max,i);n===s&&(a-=e),n.min=eP(n.min,e,t,a,r),n.max=eP(n.max,e,t,a,r)}function tP(n,e,[t,i,r],s,o){Q7(n,e[t],e[i],e[r],e.scale,s,o)}const q7=["x","scaleX","originX"],Z7=["y","scaleY","originY"];function nP(n,e,t,i){tP(n.x,e,q7,t?t.x:void 0,i?i.x:void 0),tP(n.y,e,Z7,t?t.y:void 0,i?i.y:void 0)}function iP(n){return n.translate===0&&n.scale===1}function GI(n){return iP(n.x)&&iP(n.y)}function B1(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function rP(n){return Qi(n.x)/Qi(n.y)}class $7{constructor(){this.members=[]}add(e){$S(this.members,e),e.scheduleRender()}remove(e){if(ew(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sP(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y;if((r||s)&&(i=`translate3d(${r}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:d}=t;l&&(i+=`rotate(${l}deg) `),c&&(i+=`rotateX(${c}deg) `),d&&(i+=`rotateY(${d}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(i+=`scale(${o}, ${a})`),i||"none"}const eJ=(n,e)=>n.depth-e.depth;class tJ{constructor(){this.children=[],this.isDirty=!1}add(e){$S(this.children,e),this.isDirty=!0}remove(e){ew(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eJ),this.isDirty=!1,this.children.forEach(e)}}function nJ(n){window.MotionDebug&&window.MotionDebug.record(n)}const oP=["","X","Y","Z"],aP=1e3;let iJ=0;const Fa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function HI({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=iJ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Fa.totalNodes=Fa.resolvedTargetDeltas=Fa.recalculatedProjection=0,this.nodes.forEach(oJ),this.nodes.forEach(cJ),this.nodes.forEach(fJ),this.nodes.forEach(aJ),nJ(Fa)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new tJ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new tw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(c||l)&&(this.isLayoutDirty=!0),n){let h;const p=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=TI(p,250),bf.hasAnimatedSinceResize&&(bf.hasAnimatedSinceResize=!1,this.nodes.forEach(uP))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||gJ,{onLayoutAnimationStart:x,onLayoutAnimationComplete:A}=d.getProps(),_=!this.targetLayout||!B1(this.targetLayout,y)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const M={...PI(v,"layout"),onPlay:x,onComplete:A};(d.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else!p&&this.animationProgress===0&&uP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zo.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dJ),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lP);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(vJ),this.potentialNodes.clear()),this.nodes.forEach(uJ),this.nodes.forEach(rJ),this.nodes.forEach(sJ),this.clearAllSnapshots(),nx.update(),nx.preRender(),nx.render())}clearAllSnapshots(){this.nodes.forEach(lJ),this.sharedNodes.forEach(hJ)}scheduleUpdateProjection(){xi.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){xi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=En(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:i(this.instance),offset:t(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!GI(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Oa(this.latestValues)||d)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),yJ(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return En();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Co(a.x,l.offset.x),Co(a.y,l.offset.y)),a}removeElementScroll(o){const a=En();hr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:h}=c;if(c!==this.root&&d&&h.layoutScroll){if(d.isRoot){hr(a,o);const{scroll:p}=this.root;p&&(Co(a.x,-p.offset.x),Co(a.y,-p.offset.y))}Co(a.x,d.offset.x),Co(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=En();hr(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Au(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Oa(d.latestValues)&&Au(l,d.latestValues)}return Oa(this.latestValues)&&Au(l,this.latestValues),l}removeTransform(o){const a=En();hr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Oa(c.latestValues))continue;E1(c.latestValues)&&c.updateSnapshot();const d=En(),h=c.measurePageBox();hr(d,h),nP(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Oa(this.latestValues)&&nP(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const a=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty),!((!!this.resumingFrom||this!==a)&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout?(this.relativeParent=p,this.relativeTarget=En(),this.relativeTargetOrigin=En(),Bf(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=En(),this.targetWithTransforms=En()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?A7(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hr(this.target,this.layout.layoutBox),OI(this.target,this.targetDelta)):hr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target?(this.relativeParent=p,this.relativeTarget=En(),this.relativeTargetOrigin=En(),Bf(this.relativeTargetOrigin,this.target,p.target),hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Fa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||E1(this.parent.latestValues)||DI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;hr(this.layoutCorrected,this.layout.layoutBox),B7(this.layoutCorrected,this.treeScale,this.path,l);const{target:p}=a;if(!p)return;this.projectionDelta||(this.projectionDelta=Rf(),this.projectionDeltaWithTransform=Rf());const m=this.treeScale.x,y=this.treeScale.y,v=this.projectionTransform;Pf(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=sP(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==m||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Fa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Rf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=En(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,v=m!==y,x=this.getStack(),A=!x||x.members.length<=1,_=!!(v&&!A&&this.options.crossfade===!0&&!this.path.some(mJ));this.animationProgress=0;let w;this.mixTargetDelta=M=>{const E=M/1e3;cP(h.x,o.x,E),cP(h.y,o.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bf(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pJ(this.relativeTarget,this.relativeTargetOrigin,p,E),w&&B1(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=En()),hr(w,this.relativeTarget)),v&&(this.animationValues=d,X7(d,c,this.latestValues,E,_,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zo.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xi.update(()=>{bf.hasAnimatedSinceResize=!0,this.currentAnimation=j7(0,aP,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&VI(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||En();const h=Qi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=Qi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}hr(a,l),Au(a,d),Pf(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new $7),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let d=0;d<oP.length;d++){const h="rotate"+oP[d];l[h]&&(c[h]=l[h],o.setStaticValue(h,0))}o.render();for(const d in c)o.setStaticValue(d,c[d]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Lm(o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Lm(o.pointerEvents)||""),this.hasProjected&&!Oa(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=sP(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:m,y}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in dg){if(p[v]===void 0)continue;const{correct:x,applyTo:A}=dg[v],_=c.transform==="none"?p[v]:x(p[v],h);if(A){const w=A.length;for(let M=0;M<w;M++)c[A[M]]=_}else c[v]=_}return this.options.layoutId&&(c.pointerEvents=h===this?Lm(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(lP),this.root.sharedNodes.clear()}}}function rJ(n){n.updateLayout()}function sJ(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?rs(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],m=Qi(p);p.min=i[h].min,p.max=p.min+m}):VI(s,t.layoutBox,i)&&rs(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],m=Qi(i[h]);p.max=p.min+m});const a=Rf();Pf(a,i,t.layoutBox);const l=Rf();o?Pf(l,n.applyTransform(r,!0),t.measuredBox):Pf(l,i,t.layoutBox);const c=!GI(a);let d=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const y=En();Bf(y,t.layoutBox,p.layoutBox);const v=En();Bf(v,i,m.layoutBox),B1(y,v)||(d=!0),h.options.layoutRoot&&(n.relativeTarget=v,n.relativeTargetOrigin=y,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function oJ(n){Fa.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function aJ(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function lJ(n){n.clearSnapshot()}function lP(n){n.clearMeasurements()}function uJ(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function uP(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0}function cJ(n){n.resolveTargetDelta()}function fJ(n){n.calcProjection()}function dJ(n){n.resetRotation()}function hJ(n){n.removeLeadSnapshot()}function cP(n,e,t){n.translate=cn(e.translate,0,t),n.scale=cn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function fP(n,e,t,i){n.min=cn(e.min,t.min,i),n.max=cn(e.max,t.max,i)}function pJ(n,e,t,i){fP(n.x,e.x,t.x,i),fP(n.y,e.y,t.y,i)}function mJ(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const gJ={duration:.45,ease:[.4,0,.1,1]};function vJ(n,e){let t=n.root;for(let s=n.path.length-1;s>=0;s--)if(n.path[s].instance){t=n.path[s];break}const r=(t&&t!==n.root?t.instance:document).querySelector(`[data-projection-id="${e}"]`);r&&n.mount(r,!0)}function dP(n){n.min=Math.round(n.min),n.max=Math.round(n.max)}function yJ(n){dP(n.x),dP(n.y)}function VI(n,e,t){return n==="position"||n==="preserve-aspect"&&!C1(rP(e),rP(t),.2)}const xJ=HI({attachResizeListener:(n,e)=>Gs(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fx={current:void 0},WI=HI({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!fx.current){const n=new xJ(0,{});n.mount(window),n.setOptions({layoutScroll:!0}),fx.current=n}return fx.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),_J={pan:{Feature:N7},drag:{Feature:k7,ProjectionNode:WI,MeasureLayout:NI}},AJ=new Set(["width","height","top","left","right","bottom","x","y"]),jI=n=>AJ.has(n),SJ=n=>Object.keys(n).some(jI),hP=n=>n===Al||n===st,pP=(n,e)=>parseFloat(n.split(", ")[e]),mP=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/);if(r)return pP(r[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?pP(s[1],n):0}},wJ=new Set(["x","y","z"]),MJ=x0.filter(n=>!wJ.has(n));function CJ(n){const e=[];return MJ.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const gP={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:mP(4,13),y:mP(5,14)},bJ=(n,e,t)=>{const i=e.measureViewportBox(),r=e.current,s=getComputedStyle(r),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=gP[c](i,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const d=e.getValue(c);d&&d.jump(a[c]),n[c]=gP[c](l,s)}),n},EJ=(n,e,t={},i={})=>{e={...e},i={...i};const r=Object.keys(e).filter(jI);let s=[],o=!1;const a=[];if(r.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let d=t[l],h=rf(d);const p=e[l];let m;if(pg(p)){const y=p.length,v=p[0]===null?1:0;d=p[v],h=rf(d);for(let x=v;x<y;x++)m?vg(rf(p[x])===m):m=rf(p[x])}else m=rf(p);if(h!==m)if(hP(h)&&hP(m)){const y=c.get();typeof y=="string"&&c.set(parseFloat(y)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===st&&(e[l]=p.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?c.set(m.transform(d)):e[l]=h.transform(p):(o||(s=CJ(n),o=!0),a.push(l),i[l]=i[l]!==void 0?i[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=bJ(e,n,a);return s.length&&s.forEach(([d,h])=>{n.getValue(d).set(h)}),n.render(),g0&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:i}}else return{target:e,transitionEnd:i}};function TJ(n,e,t,i){return SJ(e)?EJ(n,e,t,i):{target:e,transitionEnd:i}}const PJ=(n,e,t,i)=>{const r=G7(n,e,i);return e=r.target,i=r.transitionEnd,TJ(n,e,t,i)},R1={current:null},JI={current:!1};function BJ(){if(JI.current=!0,!!g0)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>R1.current=n.matches;n.addListener(e),e()}else R1.current=!1}function RJ(n,e,t){const{willChange:i}=e;for(const r in e){const s=e[r],o=t[r];if(Fi(s))n.addValue(r,s),gg(i)&&i.add(r);else if(Fi(o))n.addValue(r,Qu(s,{owner:n})),gg(i)&&i.remove(r);else if(o!==s)if(n.hasValue(r)){const a=n.getValue(r);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(r);n.addValue(r,Qu(a!==void 0?a:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const XI=Object.keys(pd),LJ=XI.length,vP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],IJ=WS.length;class DJ{constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>xi.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=y0(t),this.isVariantNode=k3(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(t,{});for(const h in d){const p=d[h];a[h]!==void 0&&Fi(p)&&(p.set(a[h],!1),gg(c)&&c.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),JI.current||BJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:R1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Zo.update(this.notifyUpdate),Zo.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const i=_l.has(e),r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&xi.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},i,r,s,o){let a,l;for(let c=0;c<LJ;c++){const d=XI[c],{isEnabled:h,Feature:p,ProjectionNode:m,MeasureLayout:y}=pd[d];m&&(a=m),h(t)&&(!this.features[d]&&p&&(this.features[d]=new p(this)),y&&(l=y))}if(!this.projection&&a){this.projection=new a(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:h,dragConstraints:p,layoutScroll:m,layoutRoot:y}=t;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!h||p&&xu(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:y})}return l}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update(this.props,this.prevProps):(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):En()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<vP.length;i++){const r=vP[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s=e["on"+r];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=RJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const t={};for(let i=0;i<IJ;i++){const r=WS[i],s=this.props[r];(hd(s)||s===!1)&&(t[r]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Qu(t,{owner:this}),this.addValue(e,i)),i}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props,r=typeof i=="string"||typeof i=="object"?(t=ZS(this.props,i))===null||t===void 0?void 0:t[e]:void 0;if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Fi(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new tw),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class KI extends DJ{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...i},{transformValues:r},s){let o=ij(i,e||{},this);if(r&&(t&&(t=r(t)),i&&(i=r(i)),o&&(o=r(o))),s){tj(this,i,o);const a=PJ(this,i,o,t);t=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:t,...i}}}function OJ(n){return window.getComputedStyle(n)}class FJ extends KI{readValueFromInstance(e,t){if(_l.has(t)){const i=rw(t);return i&&i.default||0}else{const i=OJ(e),r=(V3(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return FI(e,t)}build(e,t,i,r){JS(e,t,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return qS(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fi(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,i,r){K3(e,t,i,r)}}class kJ extends KI{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(_l.has(t)){const i=rw(t);return i&&i.default||0}return t=Y3.has(t)?t:QS(t),e.getAttribute(t)}measureInstanceViewportBox(){return En()}scrapeMotionValuesFromProps(e,t){return q3(e,t)}build(e,t,i,r){KS(e,t,i,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,i,r){Q3(e,t,i,r)}mount(e){this.isSVGTag=YS(e.tagName),super.mount(e)}}const NJ=(n,e)=>jS(n)?new kJ(e,{enableHardwareAcceleration:!1}):new FJ(e,{enableHardwareAcceleration:!0}),zJ={layout:{ProjectionNode:WI,MeasureLayout:NI}},UJ={...v7,...PW,..._J,...zJ},Dn=H6((n,e)=>gW(n,e,UJ,NJ)),an={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10",paddingXSlider:"sm:px-16 px-6",paddingYSlider:"sm:py-16 py-6",paddingSlider:"sm:px-16 px-6",marginXSlider:"sm:mx-16 mx-6",marginYSlider:"sm:my-16 my-6",marginSlider:"sm:mx-16 mx-6",paddingFeed:"sm:px-32 px-6",paddingXName:"sm:px-0 px-3",paddingYName:"sm:px-8 px-3",heroHeadText:"font-black text-white lg:text-[50px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[20px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:"text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px]",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider",sectionSubTextTech:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider flex justify-center"};var YI={};Object.defineProperty(YI,"__esModule",{value:!0});var of=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},GJ=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),QI=G,HJ=WJ(QI),VJ=Dm;function WJ(n){return n&&n.__esModule?n:{default:n}}function jJ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function JJ(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function XJ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var KJ=function(n){XJ(e,n);function e(t){jJ(this,e);var i=JJ(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));i.state={style:{}};var r={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0};return i.width=null,i.height=null,i.left=null,i.top=null,i.transitionTimeout=null,i.updateCall=null,i.element=null,i.settings=Object.assign({},r,i.props.options),i.reverse=i.settings.reverse?-1:1,i.onMouseEnter=i.onMouseEnter.bind(i,i.props.onMouseEnter),i.onMouseMove=i.onMouseMove.bind(i,i.props.onMouseMove),i.onMouseLeave=i.onMouseLeave.bind(i,i.props.onMouseLeave),i}return GJ(e,[{key:"componentDidMount",value:function(){this.element=(0,VJ.findDOMNode)(this)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}},{key:"onMouseEnter",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments[1];return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:of({},this.state.style,{willChange:"transform"})})),this.setTransition(),i(r)}},{key:"reset",value:function(){var i=this;window.requestAnimationFrame(function(){i.setState(Object.assign({},i.state,{style:of({},i.state.style,{transform:"perspective("+i.settings.perspective+"px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)"})}))})}},{key:"onMouseMove",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments[1];return r.persist(),this.updateCall!==null&&window.cancelAnimationFrame(this.updateCall),this.event=r,this.updateCall=requestAnimationFrame(this.update.bind(this,r)),i(r)}},{key:"setTransition",value:function(){var i=this;clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:of({},this.state.style,{transition:this.settings.speed+"ms "+this.settings.easing})})),this.transitionTimeout=setTimeout(function(){i.setState(Object.assign({},i.state,{style:of({},i.state.style,{transition:""})}))},this.settings.speed)}},{key:"onMouseLeave",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments[1];return this.setTransition(),this.settings.reset&&this.reset(),i(r)}},{key:"getValues",value:function(i){var r=(i.nativeEvent.clientX-this.left)/this.width,s=(i.nativeEvent.clientY-this.top)/this.height,o=Math.min(Math.max(r,0),1),a=Math.min(Math.max(s,0),1),l=(this.reverse*(this.settings.max/2-o*this.settings.max)).toFixed(2),c=(this.reverse*(a*this.settings.max-this.settings.max/2)).toFixed(2),d=o*100,h=a*100;return{tiltX:l,tiltY:c,percentageX:d,percentageY:h}}},{key:"updateElementPosition",value:function(){var i=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=i.left,this.top=i.top}},{key:"update",value:function(i){var r=this.getValues(i);this.setState(Object.assign({},this.state,{style:of({},this.state.style,{transform:"perspective("+this.settings.perspective+"px) rotateX("+(this.settings.axis==="x"?0:r.tiltY)+"deg) rotateY("+(this.settings.axis==="y"?0:r.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")"})})),this.updateCall=null}},{key:"render",value:function(){var i=Object.assign({},this.props.style,this.state.style);return HJ.default.createElement("div",{style:i,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave},this.props.children)}}]),e}(QI.Component),w0=YI.default=KJ;const YJ=()=>et("section",{className:"relative w-full h-screen mx-auto",children:[et("div",{className:`absolute inset-0 top-[120px] max-w-7xl mx-auto ${an.paddingXName} flex flex-row items-start gap-5`,children:[et("div",{className:"flex flex-col justify-center items-center mt-5",children:[re("div",{className:"w-5 h-5 rounded-full bg-[#915EFF]"}),re("div",{className:"w-1 sm:h-80 h-40 violet-gradient"})]}),et("div",{children:[et("h1",{className:`${an.heroHeadText} text-white`,children:["Hi, I'm ",re("span",{className:"text-[#915EFF]",children:"Marcos Vinicius"})]}),et("p",{className:`${an.heroSubText} mt-2 text-white-100`,children:["Sou desenvolvedor de softwares desde os meus 15 anos e ",re("br",{className:"sm:block hidden"}),"fascinado por tecnologia desde a infncia."]})]}),re(w0,{className:"md:block hidden absolute inset-0 top-[100px] left-[820px] max-w-xl ${styles.paddingXName} flex flex-row items-start gap-5",children:re(Dn.div,{whileHover:{scale:1.1},transition:{type:"spring",stiffness:500},children:re("div",{className:"",children:re("img",{src:"src/assets/3x4.png",alt:"",className:"image-shadow-gradient",width:"450"})})})})]}),re("div",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center",children:re("a",{href:"#about",children:re("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2",children:re(Dn.div,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary mb-1"})})})})]}),QJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAMAAADVRocKAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACkVBMVEUAAABJUoNRQapTRK5VRrRZSLtGkdRdQ9BROtpOOc09jcw9neNbd8JONtJQONY0cJ9GltNeTctAmeJZgsROK9NFNKw2cqViVsNUh8ZJM7w6ebJBleFgZMFNjs1ZPs1NNM07fb1hb71CkeBeRMlROcU9gMVceb9KLcteT8NMNsZAgs1CjeBEMaw6bK1gXsBEgtNSicZHM7JDid9DiuFfartIh9RIjNJaQcU9cLZEht9ccbxMM8pAdcRXfMRFgN5fUrtLMcU0WJIhNU9fYrxDds1EhuI+c7oAAAAkQWdShso8Yq0ZKD1IJcVGet03ZKVFguESGiZKKcMwVIkTGCpAaLxHdt01YJ5JL8FIeuErSXoMDQFgW7pCa8NKdeNNhc9CMKNIct1HfdRgZbZGacpaQL1ILbw6VKAYHzBLfc5HJrxIadM7XapHK7k/WK5KbeAYGjVcdr1HbtI1UZRfVLRAWrVMauE+bLhJa90uQ3tFedVeX7ZDXrxLY9w9abRUObhMLJwoOWxgabdGIbxGXcY7YKNWPbE6SpseKk5IXcs3W55cTrNELao/TqZCcclMXdw4S5VfWbNILrRCULIxP4VfYrJEUbk/ZrlCJaZNWdtFKrRIU8RFV71EdtNZSbFMLqIgKFUwLTNKLJc8I48+JpRLOq1LUMpATq5WRos+H5xAIqNDJqxCI6pEJrE+RKA9NlRNVds7RZpTQZFCRqxEPGBOUtszOoUJEABWQJw9HZZJRb5PRHMuM3QsLCtONphISL1OTdpGTr5QQX87GpUiJE8zLUI8GJs/PqtESbJfUIxQMadRM6hSNq1SOrJQOqEuLyIvMB9HPbE9Pp8QEBgyL4pPS9o2N4hKRcwuLXMuK4E9OKkpJmMKonr6AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAAAMgAAADIAGP6560AAAAHdElNRQfnBA8XHRnoGEYlAAACu3pUWHRSYXcgcHJvZmlsZSB0eXBlIGdpZjp4bXAgZGF0YXhtcAAAOMt1VEsSHScM3HMKHwGEfuQ2gEQqi1RlkUWOn2bGz3YSZ6bmB6jVtFpTfv3t/PLX7398ifnnxLN8uYf2Ufoxt6pNuy4VY6pKKmo6NHsQ5VlrHSKMD+U7ItaFo1cOq9yx1nWwF5uGQOk2OYUVTwD2jiCifnpS7du8T3NFIC7WRvV+6da0fmcufAEX1nNZ9PlOYIk8yx8e30Ewth5GziGVLptzSSCVUJZ76xXZ39wEWO1TiJn1X5nfOUCpG+OsfSLZsecolIZVlA+60emtj3virXbCnSheCDy7QbnL1pziwlP/UCgfDiAAFaER6Xi2MbBhLPnMQwJCMmz6cno3rfFRSaOA4H/IPrnyu3p4hx4a2IaDTb28H0HON8Bdvgos+Bw/U+D/QT8xL2z5EfcG892cIC9f1eSGH903AdvzbhBfHl9doCvKBQaju7x/taTcAOBfkR8J6fyzjt9Gf3DWa5Zyp+7Z9088Lpqvm81ee9Z2zskTZ5915hnHj4GmHC6nQ4h2ap7MjNy5cuZIT0tNSU5kypY1TmRE7FgxY4SHhgQ6JSha1H3Kzh1777XnHtu3bd2yeYP/bruus3LF2ui3ucbyZUuXLF590WqrzjNzxtxzlTnnmD7RYlMmT5RqtlnHGTli7LHGHGP4gBOHDL5OHW1UP54evn359OHuVlwdzePdyZtXO5YWtm2hmQc0M9NrQniaDA66Jn2aZulE6R01VCiJKhR4o2mVIykhW5ZMGeJigl+CsKAVpUnlw8nBmxdPxk8DRlMW1LEzcePaD6rWAxVbfaLDvN8ukc4d7Yeuux5LCtq0aNIgJ7iB4ITbY4TfSTstW7TdVmmzjebNmjZp3GCi1lqtKGNFMSr0rJCkYlcVxCqwK6bL35OpS1Uk3sUhAAAAAW9yTlQBz6J3mgAABNpJREFUaN7tlll/E1UAR0exKi0pWFzQqAOu1BHRCRXTtCUi4SJUo0BNqAWiOFoxVOuGSGwBRRA1ilsSRRSwmsYFl6jBLVrFfUGt66fxrnPvpJN1Zl785Tzx9D8992ZmkKQ6df43HHU0ZNKkYyANDU4Ijj3ueM5k+/cbm6a4XM0QYrB9f2pT07QTmpt1g+0JjS0tLdNPFAwn2bt/cgviFHJIRGHzDWPBDBczQE61c/80t9uNDKe7BIWdAjfljDNl2YmEmXgdJcySZa6wT3AWAkumnT0ZQQTn2LV/rr7vdp93vswjbA3ACnhIs2XZ5aJ33WrP/gWKonDHdFwgk2O60I79OYqiG9AhXSTbfEhzFcEAuViWWYTLdYkNAarq8Rgi5jEDugnrgjYVovAKt/vS+YLA8tN2mdercgWJaPf5uMKqQFWJwXBMs2WOxYQOL6YgotOnN8iyNUEXhBloBFIs8AkKSwFMUGCY4fdzg4Wn7fIuAlYs7OAK5QrRULtgERV0BQKBxWCJEHGlz+dHWEtY2iWwDIDFHo/+SMzqhvOtrdYSrkLQ/asBAMtUfhON8/2U2n+qMIAagsHgNVAA5gQC+g+2/VoqQBkWAmjDcrQPVpCfkwdHLKAC9IutKWFlTw83AMJ1XqZQlM5QiBtqEfQgwmGsWEUFvXOF5/p6dgv+mhL6Vq8Oh+l+H2AsDwSoQFXXsARkWFu1IBKJ9NCI8BJdAG4QXk43dnNB1Ye0ThCs5PtgFX83qWtu0jT9mKp82m6OYIjiFkEA+tEhUUf7rRpXVCdYH+GG28R9/oL1ejxtDVG/n91EVQkbBiBMcbtR0BFEkIo7ukOI6hPWDwwMMsOdxn2SwG7iLq2mQ7r7nsEBAhSAQsG9waAe0YkEGo2oXLARQxT3Fe5L0ibhM3E/MyAq3d8cixHBYCSyDkwUPKC/w1W1f0hoGK5QQPZJwpaJ++wWyJdo67aqEx7cyNkMzAQPCR+itu2aph9TRS+Mh2MUJNhhto/e5NzQrmlcUYlgZ4wbNpjvS4+IH9NdGufR8vuPxQR6iwikxwXBlGiUG8oL4nG+/0SxfeP3+skoU4RCu8vtPxWPcwUoLugTrqEzGuUR5QO44eni+/oXGxue2Vax4dk4N+wEpQTP0a8dEvRvj/KIRElBMhnX2VJqHyWECdAwL4Upn/B8MkkVsdgLpfelpXv2bNJ5Mcob9pYMSOoNLwn7L+/bjzggMvyKSCrFI4rvjyS54VUx4LU0ZFQng3kdk8m8gUDjUUrRF8abSQYUiN+xt9amGaOFGgQzpKimmOAghijeFvZ730mnCw0JBPr7Kfp+qvgL411RIB7Qe2kDQkQikTFVmAuyWW54X9j/4MNcLmeuQBmm52S2fyibZYqDI2LARzkMW0+MGshkzCIOmAYwQzL5sbD/yac5o8EQYbyJDI3YbfLO+yyf1xWfiwFfjI3R+f1m90B/q4Z9yMSnLZ9nhmz2S2H/q+ExyuHDxe7a2EAshftf5wlo/xsx4Nt9hGGdvQLfQb4n/EAYGvoR85NZAW0w/F/x56r4BUL/WSg4kmf8CmxBMk+A/ObMvvT7+Dje/8OhfUn6ExtGgGMCaRzxl3P70t9w/5CDAZL0Tz7/r5P78BqOAGcF0gqH9yXJcYHk9H6dOnXq1KmN/wBqdyKyj3xuZgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNC0xNVQyMzoyOToyNSswMDowMMmzwrcAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDQtMTVUMjM6Mjk6MjQrMDA6MDAemXG/AAAAAElFTkSuQmCC",qJ="/portolioVNX/assets/backend-565fc01f.png",ZJ="/portolioVNX/assets/creator-dbbffaec.png",$J="/portolioVNX/assets/mobile-896ef2f5.png",eX="/portolioVNX/assets/web-0d05165f.png",qI="/portolioVNX/assets/github-3b4e1609.png",tX="/portolioVNX/assets/menu-b5599218.svg",nX="/portolioVNX/assets/close-54702a70.svg",iX="/portolioVNX/assets/css-79a7f026.png",rX="/portolioVNX/assets/figma-184a11e6.png",sX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANG0lEQVR4nO2dX6xcRR2AD9QYgpYElEDv3fltqdUSHtSISNWIiIE09vbuzMKa+GBq4p/4hoIGEx/qSxOiL1T62Adj4kN90gegSXnQxAdCIiYkloQKSKKQpo3c7szeikrXzPZCW3r39uzdc2bOzPm+5Jc0t7t7dn4z386cc+bMFAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQFs415cdVqtHrJZjzqgTToudhFEn/N/8//nXxP6eAHAJIy13Oi3HnZFxqdBy3L+HJAJEZLy/e5016og1cr60vGvh3+Pf6z+DSgQIzGhZLVgjz80q7hUia/XC6mCHUIEAgfDCWS2vzCvvJRK/zrkxQILyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMUDi8iIxQOLyIjFA4vIiMbSe1OVFYmgtuciLxNBKnJE/xJaucomNeu1cr7s9dm4Baie3HpieGFoHEgMkDhIDJA4SAyQOEgMkDhIDNASn5YDV8vis70NigMg4LT++eFsFibnFBMngjPzoynujSIzE0Hhsv/vo9AkOSIzE0Fj8vrtXn6WExEgMjcMa9cPyUw2RGImhMVijfjD7fGEkRmKIjtXq4c1P+kdiJIZojLR8z+9wP9+TO0iMxBAcp+W788qLxDyKCBFwRr5TlbxIjMQQENeTb1st71QpLxIjMSQ2bJ4qsVE/m/V7+SVs/FI2l/8YqDeslmecVof9ebYPp9Uhq9VTTqtTdZahwlywPA80v+etSmJn5EVn5Aln5DPjorhm2mvHB4prR8uLd1stB61Wb8YWFYmhVlxPfSuUvPNcnd4M46Vt1zsjjzmj3oot6/RcqNfP9WVHiHxAZjit9oeWN7TEntGgs2i1PB9bViSGynB9+WYseecZTs/ZGx+NLesGueCcGMphtfq6NfLfRjTcgD3xeFBssUY9HbvM03PBcBqugjUyaIq8MSRe2Ss3Oi0vxy4zEsPMDI081DR5Y0g87KkvxS4vEkOyw+ZpMdTdfqhqndxHbkCZp/6gcU4MKfS8lzTYf9t9t90SqtZGpnNX7DIjMVwV36tZrf7T/MYqvwtdnc7IycbnRXNhq7WMTNekIK+PkVbfD50fp9UvY5e73I+b4hZT2xhp1bNavR278ZUWeHnx7tA5clqWYpcbieEKRj21LyV5fQwHt94cuipX9nV2xi43EsNlONPZY7U6F7uxzRrjwR0fDF2Vp5d3bY1d7pkl1pwTZ4vrd7/mr+bGbmSbEnhp2/Wh8+VnZsUu96YkNpwTZ4fT6oEUe953Y7W3oELn7MyenTfELvemJdb0xNmQurwTgXX386Hz5h/ji13uuSQ29MTJY42632pZjd2Y5m6MWj0S42Jf7HIjcYuxPflqDvJeEFh+Hzx/Wv0idrmRuKXYfvcr1sgoduOpTmD1dsiplH5ZnhRmYrmy+WM4nQ621703J3nfC61+GvJ2W/TyInH7GPbli06Ljd1Y6gl11hnZFiKPq4MdYrW8Er/M1Ybl6nRzmTzHmq28a6HVb0Llc70la3MIy3C6eZztyRecUcPYjSNIA9Tq4VB5pSeG2mmTvBcElv9Z3flGqKZFTwy1MTLd3WvnhtHFCiqx3yVCq59stIh7lSAxVI7fhcAZ+VdsmaKGlj8Ol+WOEM2L4TRUvORLc3cUCH6PWKtfj3Tnc3U3MXpimJvRg+qzyLu+zGVz6Iz81hn1Vy/krPlHYtg0rtf9tDNyJnav19Qoncc59x5iOA0zg7zVC4zEst4pCRuqVY0z2z9Fz1uPwEgsSFwn9sHFTzojp2MPT3MWGIkFietg2O/e3vSNqHMRGIkFiZE3bYGRWJC4Cs4ub99ltXojdo/WRoGRWJAYedMWGIkFiTfV8+qFT1gj/4zdk6UaVQqMxILEM8nbX/w48jZLYCQWJEbedHvgeR+CX2/apb+2Mdl/WKvDfuNyH06rQ1arp5xWp2KPYlyN+cgSvweP1fKP2JWSQ5TNechG69/jjLzojDzhnyDb6BHI8YHiWr+Rm9VysOm3Dy0SF8Vqf3s3x2VbchQ49DRDv52MM/JYkx9csW2edom86Qkco9GOBp1Fq+X52LK6huSjEZzbJ7f5gsdOfm5RNv+pDR/XeuOjsfPrGpKPqIyW1QLD5rQFjiLxl4sPOC3HY8vqNsiHb9tFzoz3d6+zRp6Lnexco2w9pDp8XNkrNzotL8fOs5uejz/H2Ao2GNaoI7GTnHOUrYdKG23gntjvvBE7z27jfBwpcn0g32p5J3aCc47SdVF1ow3cE0/uIzcg3269XBg5P9JyZ5EbTT5/ySVK10Utx+/sKYIuahg/31NDy/EiJ1LfLDqVKFsfNRz7ZKg1qt/FGvVq7HxvFFndWrL97qOxE9qGKFsfVR/XGvXzelvQOmXQ6lDsfDdtU/basFqOxU5oG6JsfVR93FFP7au3Ba1TBi1LsfO9Ufg2X+SC0+ql2AltQ5SujwyGi34OvWtAzqeGVi8VudCmzcdiRvn6qPa4p5d3bS0C44/pGpDz6aGGRS4gcN4CjwfFliIw/pguuqRtEZghdN4C33/Lh4rAJNADnyhygYtYeQvMObDkfRHLX1KP/4uYf5StjxqOvbfeFpTiVWiVz22ktVUZoic19yhbH5UfW6tD9bag9cqgnoyd79ZM5PAwlTJfgf2sqCIwjZ6JpTObSunxE7z9RO/oyc04ytZFHcf285OLQDR5LrTN9WEGD48T5iuwf0KoCESzn0ZSeT5O6OGB/nwFXut97qt/w7vOPbEldW19oN/Dkjr5CuyfSloZdG6qq+34z3ZG/hZbVNfWJXXeZXWwQ6yWV2InPbcom/96v4d61q9fVcfMK2vU07Fz7NaJdq5Muc6q/UQOAk/iaJVDySavSmnbtCLl+6EnrrYxlc17oIb9F7/2d87rQts29rzvB4nzFHgSWqzf++jMnp03zNou/PzqJu/MYJH3IgynMxX4YmN/0+93NDLd3X7/ow33RjLd3U3fG8m2edg8DSTOV+DLQqtTk4tRl+9OeHjtb43fndAi73QYTrdA4ITDMmy+OkiMwLFFdcg7H0hMDxxbWEfPi8ShG1rZjMcWIqWwDJvpiRE4vogOeePAcJoeGHkTB4kZQtPzJg4Scw7MsDlxkJiLWJzzJg4ScxWaC1aJw7TL99/qkHesVk+VzZ9/LZuty8X8MT0yPEh8YQE1a+RXK1p9bNb8+ff497Z9oUGLvPFos8RWq7/bXvfeeXPoP8N/VuzyIG9LaeM58eQB90H31qpyOFza9lGn1Z/alUPFw/hNoU09sV/p4tTg5g9XnUP/mf6zW5LD13iet2G0QWL/kPtqb0HVlUP/2U1+kB55Myf34fTQyEN159AaGWQrr2bY3Hiy7YkD7reT4z5WlmFzOuTYE1uj7g+VP6fVA1nlTtPzJkdmPfHJcVFcEyp3/lj+mFnIa7hglSwZ9cRPhM6d3/M3eXk1PW/y5CDxsCcPhs6bv2AWu9zIC1kMp4f97u2hq9IfM3a5NxuWYXN+pNwTn9ULHwmdr8nsrBTl1QybsyXVnriO3f6uhj9mcvIaLlhlT4o9sd8nKHSeTi/v2pqUvJqetzWk1hPH2AFvZV9nZzLyGnre1pGYxHtD58dpWWpAuZEXMhhOa3UodD06o56MXu6rhGXYDClI7B+4D11T1qhXY5cbeSGb4fTIdO4KVZ3+WI2Wl3NeSK0ntlqeCVVrVsux5uaBq82QqsRG7qu78ob9zj2xy4m8kKXE/rzUz5Cqq3pXBp2bmvoUEj0vZCGxM+rZOmZmjQfFFmvU0/HLh7yQ/4Wto+OlbddXVdH+s/xnNqBcVwQXrCDLntivILna396dt3pHg87iZJnaJpaRC1aQs8ROi7VaHj+zZ+cNs5bLz692Rh5zRr0VvRzICy0eTk+Wm7VaDo5Md/f4QHHttHL4//Ov8a9t8vKxDJuhdRK/F1qdmlyM0uqw7519TP594W+non8/5IVYNHo4nUFwzgu1g8TIC4mDxPS8kDhIzLAZEgeJOeeFxEFiLlhB4iAxV5shcZCYW0WQOEjMfV5IHCRmkgYkDhIzwwoSB4mZHgmJ03aJmdsMydNWiZEXsqFtEiMvZEdbJEZeyJbcJUZeyJ5cJUZeaA25SYy80DpykRh5obWkLjHyQutJVWLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFSFRi5AVIVGLkBUhUYuQFCMxoWS1YI89VIO8L/geBCgQIzHh/9zpr1BFr5PzM4ho579/rP4OKA4jISMudTsvx0gJrOe7fQ6UBNIhzfdlhtXrEajnmjDrhtNhJGHXC/83/n39N7O8JAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFCE4v/t8177cNMPugAAAABJRU5ErkJggg==",oX="/portolioVNX/assets/html-92b76a73.png",aX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAOgElEQVR4nO2dCdCVZRXHz8Pnwi4groElmijuK6m4YCqJpZmJqJla40qGWjgYZZQL5p4GJZlboKKTGzoouWSAiQsuqONY42Q1LVrZYlpZnebcy51B6uO7977LeZ/7/H4z/wGGmfve5zznf577vu+ziAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtIW+JIqIQafkgKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyBKQQUAmUEJgkoBHHngKSGd8ARMVAMjIEpBBQCZQQmCSgEceeApIZ3wBExUAyMgSkEFAJlBCYJKARx54CkhnfAETFQDIyB/Sp+yKQJHwmlft+3l4kumiN62dmixx8WdJ9dg246LOjggUH79A4aQv3v79sg6Oab1P//pAlBL50iev9s0b8tq3bBkdTwDnjsisHA7zwj+v1viB62f9C+vbN9395rBx03JuhV00TfXFrF/kgM74DHriob+A8/EZ16YtChg7N9x+40oF/QyccGfXVhlfojMbwDHruqaOB3l4teMkV00IBijLuq1loz6PRJov94rgr9kRjeAY9dVTPwy/eJ7rZtOcZdVVtvHvSp2737IzG8DRC7qmTghdeWN+p2p769g94zEwNj4AqYMyYDz7tcdI0uX/PKCtn3mP01r/5IDG8DxK4qGPjumdUxr6yQvY6aezEGxsAVMGmVDWz3vAP7+xtWunnltGRu2f2RGN4GiF2eBranvttu4W9UWY3WHxL0tYcwMAaugFmrZuDzJ2e/fhkaN6a82WaSGt4GiF1eBv79Y6L9+/qbs1ndcCEGxsAVMGxVDDztZH9TtqIh64Ra0Sm+PxLD2wCxy8PANtNqw6H+pmxWgwcGvWZ6Wf2RGN4GiF0eBr732/nd+24/MugVU0WfuUP09cX11Ub259J5oldPE917l/oroXY//9hDgr6xpMz+SAxvA8QuDwNPOjq7cfv1qd+X/ufFnq9nr4J22LK1z990WKgtPyy/PxLD2wCxy8PANuc46/vZR29qfR3xxPE9f3ZXV9Azjwv61tNe/ZEY3gaIXWUb+O/PSs0kWa553ufba+u/losefuDqf44/eZt3fySGtwFiV9kGfnF+tmvarht/far99trIOmqz//3MGWeK/vP5KvRHYngHPHaVbeAHr8t2zQP2yD6pwh54NeZejx0d9JUFVeqPxPAOeOwq28C2cCHL9T57eD6zor46SfTa85p7CKal9kdieAc8dpVt4NuvzHZN28ius/sjMbwDHrvKNnDWd8AH7omBOwpvA8Susg38yA2S+f2v7VLZuf2RGN4Bj11lG9geGGW95qxzO7k/EsM74LGrbAPb6NmrV7Zrrjso6E/v79T+SAzvgMeusg1s2nJEtmuaRgwPtd08Oq8/EsM74LHLw8C2QCDrdU22Fc+NM6r3Kkgz9UdieAc8dnkY+KaL8t2Jw1YcPXZzp/RHYngHPHZ5GNiOTFlzjfwM3JAdZLZgduz9kRjeAY9dHgY2fXI1iwqyasetgt5yaTXmNmvL/ZEY3gGPXV4GtuWARRm4ITti1FYu/XZRTP2RGN4Bj11eBjbZrKqiTWxae62gnz406LN3xtAfieEd8NjlaeDn75LayYBlmHjl1UwPfLe6T64lNbwDHrs8DWz6+uk+e0NvNzLozZeI/vsF/z54b38khnfAY5e3gc1AB+9TvoEbsu19bruiSv2RGN4Bj13eBja9uVRqI6KXiUWCfvhD/mcDY+AKGCI2VcHApt8tzr7ZXVZ1dQX94gm+q50kNbwNELuqYmDTHx+X2mQMTxOLBN1qRNAnnDa3k9TwNkDsqpKBGycW2iiYdcVSVq3RFfSCM8p/Wi2p4W2A2FU1Azf0w+9JbSKG92h81MGhthUuBsbA7maNycAmO0zshMP8R+OD9irvvlhSw9sAsavKBl55G9j9Rvua+JCxobYxPAbGwO6mjc3ADc2fJbrLNn4mPuv44tsqqeFtgNgVk4EbWjRH9KP7Zjt1sB2FEGq7ahbbH4nhbYDYFaOBG3ruzvo9sh12VpaJN14/29EuPfdHYngbIHbFbOCVZ3JdeY7o+zcux8TnnlZcmyU1vJMndnWCgRt6d7norZeJ7jSqWAMP7B/0z08U1R+J4Z00sauTDLyyFl4rtfnNRZn4m18qqj8SwztRYlenGrghO+93/93zN/Do7Yppt6SGd4LErk43cEN3Xi26wbr5GbhXr6C/frSI/kgM78SIXakY2GR7Y+21c34mnnd5Ef2RGN5JEbtSMrDpradF99gxHwN/4YT82y6p4Z0QMcvm96ZmYNNrD0ntlMOsbT94HwyMgR0T+fXF1TSwLWIouu02LTJr27f5IAbGwE0m3M8flNrWqLboPa8kthP+sibxkQeFXN/jXnhGfXRcOq9YAy+Zm73t6w3BwBi4h0Sz0wVmnCnat3c9aU6ekF/S3Ped7El83Mfz+T7L737vQoVRmxW7DtemQ2Zte78+GBgD93CavW3vsuqE+rtn5pPENtplTeJTJ4bMo+75k6W2+fqqn33OScXeX2e9D+7qwsAYuJvXHXYEZ3erbQYPDPri/OwJvOdO2e8Dp3wm28buq5v2aNva2ESMIsxra3vt87O0vX9fDIyBV9kjeda5UjNoT8lj281kOaX+hXvy2VDdFhG0c1tgG7o3cyrDpsOCvrEkfwO/ujB7+zdaDwNj4BUJZXsS79riYvWhg4P+6Mb2Rp8xOYy+pjuuau3adj6RnR7YyjXGjs7/fvjqadkNvN1IDJy8gf+0VPRzx9Tvp9qd0jfp6FA7c7eZxH17mdQ2asvDvCZbk9vsqDt9UvvnAo/fO799qexzNt8ke9uPGIeBkzbw3ItFNxyaj5HsKfVJE0LtyfJfnnzvdWxr1JfvE71iqtR+kuZlXrumPYTqqZ3LfiC6fQ4nL9i+WLYBfNa4n35MddcFS2p4m7Bd/eyB7A9RVie7jx4xPOjwDetGK+Ia9hCsmbbuvkN+17T7zgWz24u5/QyffGx+3+XB6/LPC0kNbyNmkY2YRRm4DH3l1OYMvHiO5L5/1d671I8JbWanSNss/pZLpfZuOa/r9+1dzHtqSQ1vE2aRLUfLY06ul1o5DGzi+OJ+adi9qE12ue4CqW06d89M0RtnSO1khUP3C7ruoPyvO3E864GTN7Al9mVn+5yPm1X287yVY0dsAYFtReP9vfPSw9cXU9QlNbxH0awyE4wb45+QrcoKT6tttZ+x3t87D+00qrXihYE72MCm3/xYdP0h/onZrGwktddf7bT1xCP8v38VH17pCklqeJsvz3nPZe5vnEUXndV+O+09dB6vlLw0oeD1z5Ia3sbLU3d9q9hXS3nIJkBkffpqvzi2+IB/W1rVsA3yXc6JgTvMwCZ7elr2kSHNymZR5bVO95cP5zuppGj171vOod+SGt6GK0L2sKdPQZMvsuiqafkvKLCn2d7tkh5kSx3vb3PyCAZO0MAmq/Z2Do938jY07eRi7v1spZFNyvBun3SjQQPaWzCCgRMegRv61SP5rNnNIvs5bxMiimynzaf+8intL+goStuPDPrSveX2uaSGt8nKWCN8zfTm1gjnLZvBZBuil9XWx28t/lyjZrTWmkGnnljslj4YOBEDr7xLx6c+Vl8+WMaoa69L7Jplt9PmNl9/gc+9ca9eQT9xQNBXFvj1s6SGt7HKlu2kYdvt/L89pLLKfsIeMra1Oc5FydYP28O8Mu6P1xkQ9JQjQ23JpXe7JTW8A+4l2zvZTsjbd7f63lFZRh3bCcS2uPnFw/7t6u5p9SVT6mbOa7KLvdO1bXptR5F3ctooIA9JangHvAqyA65tIf9XJ4kefmDQnbcOtamZNrJYstpobffQm2xUX8NrezmbYefPqm/u7v39W5GZbdGc+t5hpx1VPx1hhy1DbWMEa2OjmA3oV//3ZsNDbfsgWz1kC/Bvv7K+Ftu7HdqNJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBAoIzBJQCGIOwckNbwDjoiBYmAMTCGgECgjMElAIYg7ByQ1vAOOiIFiYAxMIaAQKCMwSUAhiDsHJDW8A46IgWJgDEwhoBBoiiMwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEg+/BceiofdqS/+vQAAAABJRU5ErkJggg==",lX="/portolioVNX/assets/nodejs-d83eb6dd.png",uX="/portolioVNX/assets/reactjs-966214a8.png",cX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAACXBIWXMAAAsTAAALEwEAmpwYAAANMUlEQVR4nO2d+48V9RXAv//Gtw/balttayOpjVZr06TPqLRJ09Q+09Yaa01sapNWKqiAqCiU+MJXfSGC+ADxQa1AK0WMogJW2L3syrIvdpcL+95ln7B7mu8Y7GaD9N7ZmXvuzPl8kvOLMXsvZ87nnLkz852vcwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsfDX7BaCHOSlBpw1tBNOkAOPwAhMI6AReCYwRUAjyHYNOGtoJ5wgBx6BEZhGQCPwTGCKgEaQ7Rpw1tBOOEEOPAIjMI2ARuCZwBQBjSDbNeCsoZ1wghx4BEZgGgGNwDOBKQIaQbZrwFlDO+EEOfAIjMA0AhqBZwJTBDSCbNeAs4Z2wgly4BEYgWkENALPBKYIaATZrgFnDe2EE+TAIzAC0whoBJ4JTBHQCLJdA84a2gknyIFHYASmEdAIPBOYIqARZLsGnDW0E06QA4/ACEwjoBF4JjBFQCPIdg04a2gnnCAHHoERmEZAI/BMYIqARpDtGnDW0E44QQ48AiMwjYBG4JnAFAGNINs14KyhnXCCHHgERmAaAY3AM4EpAhpBtmvAWUM74QQ58AiMwDQCGoFnAlMENIJs14CzhnbCCXLgERiBaQQ0As8EpghoBNmuAWcN7YQT5MAjMALTCGgEnglMEdAIsl0DzhraCSfIgUdgBKYR0Ag8E5gioBFkuwacNbQTTpADj8AITCOgEXgmMEVAI8h2DThraCecIAcegRGYRkAj8ExgioBGkO0acNbQTjhBDjwCIzCNgEbgmcAUAY0g2zXgrKGdcIIceARGYBoBjcAzgSkCGkG2a8BZQzvhBDnwCIzANAIagWcCUwQ0gmzXgLOGdsIJcuARGIFpBDQCzwSmCGgE2a4BZw3thBPkwCMwAtMIaASeCUwR0AiyXQPOGtoJJ8iBR2AEphHQCDwTmCKgEWS7Bpw1tBNOkAOPwAhMI6AReCYwRUAjyHYNOGtoJ5wgBx6BEZhGQCPwTGCKgEaQ7Rpw1tBOOEEOPALnW+Dm7jEBkYUbOiqW81mLCvKjBxrl6qcPyF83FeXJt3tk275BebdtWJq6xqJj0jt0TPqG34+uI0ej/7bv8Gj0/2ypH5BndvbKfVs7ZcGLHXLlE61y0d0N8vkFtUzgJNGWE4GrQ+ALltbL3Ofa5eXafin2j6faL/uGj8nOliFZub1b5jzbJrOXN8ip82oS+Xc4a2jLicB6Ap97a100XeuLo6LNsYnJaHqv3dUrf17XJucsrkNgBM4XSQl88fIG+fue/kiaamXVm90IjMD5YqYCn3dbnWzY3SeT1evtBzz0WhcCI3C+iCvwR+bsjk5Lh8YmJCvc9cphBEbgfBFH4NOuq4kuTGWNpZuKCIzAtgU+a1FB9rQPSxa5MebZhrOG9hXmUoL7wOULfPoNtZmVN3Dt+nYERmCbAn/8L3vk9f1HJMtc/fQBBEZgmwIv23xIss4Vq1sQGIHtCXzhXfuq+v5uqfxqRTMCI7A9gbc1DEoeuOTBRgRGYFsC/+zhJskL37unAYER2JbAm/cOVOy7tHSPyT9q+qNHHu/d2im3bSxGz1U/uK0zWoUUvktrT/xVZN++Yx8CI7Adgc++ZW+qv33D395U6JdLH2uWMxcWSpbrjPm10bLEIPiOliEp9SuG1VHcB87JfeCfPNQol61sTiX+8NSBxIo8rKZJ63uGCM8yf1iOwprbtAjPT4cGkcSxPHNhQf74zAF5s+nkt7m+HPPznDW05dSOLywsJFbobzUNqf070jh9Hj82Kb9/sjW173zB0nr527ZOOXKCZ7TDcYnzN501tAXSjjwIHB7cGBxNdqFCONX93er05PXTTrPDKXb/8LEPPj/uAn9nDW2BtCMPAn9tab0kzYo34i3n8zMUOVwQC5P/o3Pi/Q1nDW2BtCMPAoeHHpIknNKWc6HKJxxxL2CFcNbQFkg78iBwuDqdJC/u7lM/Lj5mOGtoJ1w78iDwPf8+LEnyp7Vt6sfFxwxnDe2Ea0ceBH709S5JknDbTvu4+JjhrKGdcO3Ig8BP7eiRJJkd8zFGXwXhrKGdcO3Ig8DPvtMrSfLrmCuBfBWEs4Z2wrUjDwKvfrNbkiQ8XKF9XHzMcNbQTrh25EHgIFzSOyeEV/JoHxsfI5w1tBOuHXkQOOnbSIGwF5L2sfExwllDO+HakQeBw0KHNAgbk2kfH19mOGtoJ1w78iBwWKWUFkHi8Ky19nHyJYazhnbCtSMPAoc4NHBU0mJX69BJlzL6KgpnDe2Ea0deBF6f8K2k6QyMTERrjk+5trqnsbOGdsK1Iy8Cp/U7eDphc+/wWWG/Je1j5xEYgfMi8Kfm1UjP0P/W06bN7rbhaBVUtYnsrKGdcO3Ii8Ah7t6S7KKGUgjbt1y2sjn2+l0ERmAEnrKZ2YleT1MJ6oujctWaVvUr1s4a2h1TO/I0gUOEV7tq0tw9Fu1FrHWxy1lDu+C0I28Cf3LunujtmNp09I3L9S90yCfmVlZkZw3tgtOOvAkc4uLlDdF7paqBtt7xaKfBj1Xo1NpZQ7vYtCOPAoeY+1y7VBP1xVH56UNNCIzACFyqxPe/muwqpSR4/t0+mXVTMi+JP1E4a2hPCu3I6wQ+HmGvompjYGRC5jybznu3nDW0C0w78i5weNDikYTfmZXk2y9PT3jdsbOGdoFpR94FnrpmuBo3/m7qGpPv3BlvJ0IERmAzAof4wX37pXMwvVVLcRken4i9off0cNbQLirtsCRwiHMW18n2xpPvDKjByPiE/PzhmV+ldtbQLijtsCZwiPDc8rzn22VI6bHLDyPcu/7lozOT2FlDu5i0w6LAx+PcW+vklbrktyWdCeFZ7m/e/h4CIzAClypy+P1ZODgi1UJz95h85nq2F2UCM4FLljisIpq7vj3VV/OUw+Pbu2NNYWcN7dM47bB8Cn2iCIsPwmqiorLIE5MiF91d/hYvzhraBaMdCHzivJx2XY3c/NLBir7lYzqvNRxBYARG4Jk0uPBbdMnGovQP64h84V3lPeThrKE9AbWDCVxank6fXyu3//OQDI5W9tbTk2XuEOGsoS2QdiBw+fkKq5wqtd64f/hYWS8FcNbQFkg7EDhe3r66pF42FSpzD/mSMh6zdNbQFkg7EHhm+fvNymbpPpLuFetlmw8hMAIjcFpNcNaigrz63mBqAoenxZjATGAmcIpnMqdcu0c27O5LReDGzlEERmAErsTTXBtr+xMXOFwwK3UHCGcN7d+g2sFv4GTz+bkFtan8Jj51XmnPRjtraAukHQicfE6XbT6UuMBfvLGAwAiMwJV6L3XShEbLBGYCM4ErIPCXbt6buMBh90UERmAEroDA5y+pT1Te8DK+Uj/bWaMSB7SaIw+/gc+7rS5662Slti/5fzH7nobEH6cs9bOdNbQPtnbkQeCvL3t/4r3dPDSj19EkFQs3dEiS1HaMlPzZzhraB1s78iTw8dPN8CL3M0u86JNGvHNgWJIkPCBS6mc7a2gLpB15E3jqy+Hu/Neh6L5sJb/LLx5pkqRZvuVwyZ/vrKEtkHbkVeCp+xA98GpndGEp7e9x1qKCtPeOS9L8dlULAiOwTYGnvmMqLAq49LHmkm/JlBPnL6lPZWPxycnSH+II4ayhUXDVFFYEnn56Hbb5vGJVi3z6uppE3p01mNKbOuqKpV/AQuAqEAqB0xd4KuGiV6FjRNa81RNt+fndO/eddMfAcKsqbM9y5ROt0etuwil6moTX+CAwE5gJXCZh25XwgvW9B0fk3bbhaBK29oxV7FU6x0+fwz1uBEZgBM4gbzTyWll+A/MbOLNcEmPLUWcN7d+g2mHxIlZep69HYH2hEBiBx45OyjdiPhLqrKEtkHYwgauPhRs6Yh9PZw1tgbQDgauLTYX+aANyBEZgBM4YO1uGogdDZtKQnTW0J6B2MIGrg+2NR+SM+TNfeOGsoS2QdiCwPuvf6S1r/yMERmAErgIGRiaizcSTbMjOGtoTUDvyMIG/cmtd9OhjVpiYFFm7q1fOvmVv4rlw1tAWSDvyIHCIcAr64wcb5d6tnbKjZaiizyyXSvhOz/+nT751R3qv/XHW0BZIO/Ii8PQIOxn88P79smRjUbbUD1R8Y+6p1LSPyOKXizLrpuQnLgJXQbEhcPo5CPdWw6L7yx9viXZOeGlPv9QXR2X06GTiK4hausdk3a5euWZdW9mriRCYCVxWEeR1Ape7Pej3722Qq9a0yvwXO6I1uCve6IpOd7e+NxhtHTo9Nu8diNYDh/duXf9CR7Q+ePbyBvnsDcm/7aOccNbQLh6CHHgERmAaAY3AM4EpAhpBtmvAWUM74QQ58AiMwDQCGoFnAlMENIJs14CzhnbCCXLgERiBaQQ0As8EpghoBNmuAWcN7YQT5MAjMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4bf4LtvMh68AvCz8AAAAASUVORK5CYII=",fX="/portolioVNX/assets/hotmart-8780e1a7.png",dX="/portolioVNX/assets/tivit-8ce9def8.png",hX="/portolioVNX/assets/lambda-0b6587b3.png",pX="/portolioVNX/assets/flappy-2ebcb011.jpg",mX="/portolioVNX/assets/podcast-06ab9a6e.jpg",gX="/portolioVNX/assets/apeperia-9cc1a472.jpg",yP=[{id:"about",title:"Sobre mim"},{id:"work",title:"Experincia"},{id:"tech",title:"Habilidades"},{id:"contact",title:"Contato"}],vX=[{title:"Desenvolvedor Frontend",icon:eX},{title:"Desenvolvedor Backend",icon:qJ},{title:"Desenvolvedor Flutter",icon:$J},{title:"UX/UI Designer",icon:ZJ}],yX=[{title:"Social Media Designer",company_name:"Hotmart",icon:fX,iconBg:"#383E56",date:"Maro 2020 - Janeiro 2021",points:["Por algum tempo, atuei como designer de produtos digitais, desenvolvendo flyers, banners, logotipos, entre outros.","Est experincia me proporcionou conhecimentos valiosos em design de interface e experincia do usurio (UI/UX), que foram extremamente importantes para o incio da minha carreira como desenvolvedor.","Competncias: Adobe Photoshop  Figma"]},{title:"Desenvolvedor Full Stack Jnior",company_name:"TIVIT",icon:dX,iconBg:"#E6DEDD",date:"Fevereiro 2021 - Junho 2022",points:["Aos 16 anos, entrei na TIVIT como menor aprendiz e vivenciei uma jornada de acelerao de carreira como desenvolvedor, na qual me ensinaram todos os princpios bsicos de programao.","Aps aprender o necessrio, fui includo em uma equipe completa de desenvolvimento e atuei como desenvolvedor Full Stack.","Competncias: JavaScript  React.js  TypeScript  Node.js  JQuery  HTML5  HTML  CSS  GitHub  SASS  Bootstrap"]},{title:"Desenvolvedor de software",company_name:"Lambda3",icon:hX,iconBg:"#383E56",date:"Junho 2022 - Abril 2023",points:["Aps a TIVIT adquirir a Lambda3, todas as equipes de desenvolvimento foram transferidas para a Lambda3. Atuei como desenvolvedor Full Stack em um projeto mobile, trabalhando tanto no Front-end quanto no Back-end, alm de desenvolver o design de diversas telas do projeto.","A principal linguagem utilizada no projeto foi Dart (Flutter).","Competncias: Flutter  JavaScript  MySQL  C#  HTML5  HTML  CSS  GitHub  Dart  Scrum  JIRA  Windows Azure  Adobe Photoshop"]}],xX=[{testimonial:"Possui grande facilidade e capacidade de absorver novos conhecimentos e tecnologia. Um profissional que prima pela excelncia e devido a esse objetivo, sempre est buscando novos conhecimentos para se aperfeioar.",name:"Renan Moraes",designation:"Full Stack Developer Snior | Flutter | Mobile",company:"TIVIT",image:"https://media.licdn.com/dms/image/C5603AQF1Lcxt-xSWhw/profile-displayphoto-shrink_100_100/0/1517229658924?e=1687392000&v=beta&t=6w9APDk3A0tG9GoiJJTBw0NNDlqB3pisdMO3XbI2aSs"},{testimonial:"Vincius  muito dedicado, responsvel e tem uma grande vontade de aprender! Ele  muito proativo e sempre est disposto a ajudar os outros, alm de ter um excelente trabalho em equipe. Alm disso, ele  muito criativo e tem uma grande capacidade de resolver problemas. Ele  uma tima adio para qualquer equipe.",name:"Niuslene Sales",designation:"Analista de Testes Snior | TIVIT",company:"TIVIT",image:"https://media.licdn.com/dms/image/D4D03AQHvBkM45ciNVg/profile-displayphoto-shrink_100_100/0/1674013643676?e=1687392000&v=beta&t=dD1DE6aHYtn7754XRcRHOKCZdzUhnK20aij_70WL_Vk"},{testimonial:"Atuei com o Marcos no projeto de uma grande empresa agrcola, onde ele sempre se colocou  disposio do time atuando em diversas demandas que disponibilizaram fazer entregas pontuais e com qualidade para o projeto.",name:"Marcos Lopes",designation:"Analista de Sistemas Pleno na TIVIT",company:"TIVIT",image:"https://media.licdn.com/dms/image/C4D03AQFBThywauO01Q/profile-displayphoto-shrink_100_100/0/1659384091376?e=1687392000&v=beta&t=eVkNJ5HJr698u3WhuN1M1P-gUJXiIXAerFEtxc7VIKo"},{testimonial:"Atuei com o Marcos em um grande projeto de um cliente no ramo agrcola/fertilizantes, o Marcos foi muito empenhado nas tarefas em que foram delegadas alm de sempre antecipar suas entregas com uma qualidade superior, alm do esperado.",name:"Rodrigo Barbeiro",designation:"Analista de Business Intelligence",company:"TIVIT",image:"https://media.licdn.com/dms/image/C4D03AQFeDhM4NKOCyg/profile-displayphoto-shrink_100_100/0/1582057703302?e=1687392000&v=beta&t=GyxYFR1p3_nDNpU-UgBN2O4GcX_EX4M0GLbMihKypAE"},{testimonial:"Tive a experincia gratificante de trabalhar com o Marcos em um projeto de desenvolvimento mobile utilizando Flutter, onde ele demonstrou excelentes habilidades tanto em UX design quanto na criao da estrutura frontend. Suas contribuies foram essenciais para o sucesso do projeto.",name:"Mait Savicius",designation:"Engenheira de Software",company:"Class Solutions",image:"https://media.licdn.com/dms/image/D4D03AQFmWKzco9srkA/profile-displayphoto-shrink_100_100/0/1675256591829?e=1687392000&v=beta&t=wU9z3gQAPKgqVMOybZlo8B4M5HKX9xmrOjYVBh3qPwA"}],_X=[{name:"PodCast",description:"Criei um site de podcasts, reproduzindo a estrutura e as funcionalidades de um portal dedicado  hospedagem e reproduo de contedo em udio, oferecendo aos usurios uma experincia agradvel e intuitiva.",tags:[{name:"reactjs",color:"blue-text-gradient"},{name:"typescript",color:"green-text-gradient"},{name:"nextjs",color:"pink-text-gradient"}],image:mX,source_code_link:"https://podcast-viniciusvinny233.vercel.app/"},{name:"Flappy Bird",description:"Desenvolvi um clone web completo do  Flappy Bird, recriando o famoso jogo casual de habilidade, no qual o jogador controla um pssaro que deve atravessar obstculos, proporcionando diverso e desafio.",tags:[{name:"html",color:"blue-text-gradient"},{name:"css",color:"green-text-gradient"},{name:"javascript",color:"pink-text-gradient"}],image:pX,source_code_link:"https://viniciusvinny233.github.io/flappy-bird/"},{name:"Apeperia",description:"Desenvolvi um site focado no aprendizado das normas de acessibilidade e SEO, visando aprimorar a experincia do usurio e otimizar a visibilidade nos mecanismos de busca, combinando boas prticas e tcnicas modernas.",tags:[{name:"sass",color:"blue-text-gradient"},{name:"javascript",color:"green-text-gradient"},{name:"figma",color:"pink-text-gradient"}],image:gX,source_code_link:"https://viniciusvinny233.github.io/acessibilidade/"}],AX=()=>{const[n,e]=G.useState(""),[t,i]=G.useState(!1),[r,s]=G.useState(!1);return G.useEffect(()=>{const o=()=>{window.scrollY>100?s(!0):s(!1)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),re("nav",{className:`${an.paddingX} w-full flex items-center py-5 fixed top-0 z-20 ${r?"bg-primary":"bg-transparent"}`,children:et("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[et(MN,{to:"/",className:"flex items-center gap-2",onClick:()=>{e(""),window.scrollTo(0,0)},children:[re("img",{src:QJ,alt:"logo",className:"w-9 h-9 object-contain"}),et("p",{className:"text-white text-[18px] font-bold cursor-pointer flex ",children:["VNX ",re("span",{className:"sm:block hidden",children:" | Portfolio"})]})]}),re("ul",{className:"list-none hidden sm:flex flex-row gap-10",children:yP.map(o=>re("li",{className:`${n===o.title?"text-white":"text-secondary"} hover:text-white text-[18px] font-medium cursor-pointer`,onClick:()=>e(o.title),children:re("a",{href:`#${o.id}`,children:o.title})},o.id))}),et("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[re("img",{src:t?nX:tX,alt:"menu",className:"w-[28px] h-[28px] object-contain",onClick:()=>i(!t)}),re("div",{className:`${t?"flex":"hidden"} p-6 black-gradient absolute top-20 right-0 mx-4 my-2 min-w-[140px] z-10 rounded-xl`,children:re("ul",{className:"list-none flex justify-end items-start flex-1 flex-col gap-4",children:yP.map(o=>re("li",{className:`font-poppins font-medium cursor-pointer text-[16px] ${n===o.title?"text-white":"text-secondary"}`,onClick:()=>{i(!t),e(o.title)},children:re("a",{href:`#${o.id}`,children:o.title})},o.id))})})]})]})})},$d=n=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:n}}}),Wo=(n,e,t,i)=>({hidden:{x:n==="left"?100:n==="right"?-100:0,y:n==="up"?100:n==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),xP=(n,e,t,i)=>({hidden:{x:n==="left"?"-100%":n==="right"?"100%":0,y:n==="up"||n==="down"?"100%":0},show:{x:0,y:0,transition:{type:e,delay:t,duration:i,ease:"easeOut"}}}),SX=(n,e)=>({hidden:{},show:{transition:{staggerChildren:n,delayChildren:e||0}}}),eh=(n,e)=>function(){return et(Dn.section,{variants:SX(),initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.25},className:`${an.padding} max-w-7xl mx-auto relative z-0`,children:[re("span",{className:"hash-span",id:e,children:""}),re(n,{})]})},wX=({index:n,title:e,icon:t})=>re(w0,{className:"xs:w-[250px] w-full",children:re(Dn.div,{variants:Wo("right","spring",n*.5,.75),className:"w-full green-pink-gradient p-[1px] rounded-[20px] shadow-card",children:et("div",{options:{max:45,scale:1,speed:450},className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[280px] flex justify-evenly items-center flex-col",children:[re("img",{src:t,alt:"web-development",className:"w-16 h-16 object-contain"}),re("h3",{className:"text-white text-[20px] font-bold text-center",children:e})]})})}),MX=()=>et(Dg,{children:[et(Dn.div,{variants:$d(),children:[re("p",{className:an.sectionSubText,children:"Introduo"}),re("h2",{className:an.sectionHeadText,children:"Sobre mim."})]}),re(Dn.p,{variants:Wo("","",.1,1),className:"mt-4 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"Sou um Desenvolvedor Full Stack apaixonado por tecnologia e por criar solues para problemas complexos. Tenho habilidades tanto em desenvolvimento Front-end quanto em Back-end. Minha especializao em Design me permite ajudar e entender a criao de interfaces intuitivas e agradveis ao usurio. Estou sempre em busca de novos desafios e oportunidades de aprendizado, e sou movido pela paixo de criar solues que transformam ideias em realidade."}),re("div",{className:"mt-20 flex flex-wrap gap-10",children:vX.map((n,e)=>re(wX,{index:e,...n},n.title))})]}),CX=eh(MX,"about");/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var L1=function(n,e){return L1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])},L1(n,e)};function bX(n,e){L1(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var EX=100,TX=100,_P=50,I1=50,D1=50;function AP(n){var e=n.className,t=n.counterClockwise,i=n.dashRatio,r=n.pathRadius,s=n.strokeWidth,o=n.style;return G.createElement("path",{className:e,style:Object.assign({},o,BX({pathRadius:r,dashRatio:i,counterClockwise:t})),d:PX({pathRadius:r,counterClockwise:t}),strokeWidth:s,fillOpacity:0})}function PX(n){var e=n.pathRadius,t=n.counterClockwise,i=e,r=t?1:0;return`
      M `+I1+","+D1+`
      m 0,-`+i+`
      a `+i+","+i+" "+r+" 1 1 0,"+2*i+`
      a `+i+","+i+" "+r+" 1 1 0,-"+2*i+`
    `}function BX(n){var e=n.counterClockwise,t=n.dashRatio,i=n.pathRadius,r=Math.PI*2*i,s=(1-t)*r;return{strokeDasharray:r+"px "+r+"px",strokeDashoffset:(e?-s:s)+"px"}}(function(n){bX(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},e.prototype.getPathRadius=function(){return _P-this.props.strokeWidth/2-this.getBackgroundPadding()},e.prototype.getPathRatio=function(){var t=this.props,i=t.value,r=t.minValue,s=t.maxValue,o=Math.min(Math.max(i,r),s);return(o-r)/(s-r)},e.prototype.render=function(){var t=this.props,i=t.circleRatio,r=t.className,s=t.classes,o=t.counterClockwise,a=t.styles,l=t.strokeWidth,c=t.text,d=this.getPathRadius(),h=this.getPathRatio();return G.createElement("svg",{className:s.root+" "+r,style:a.root,viewBox:"0 0 "+EX+" "+TX,"data-test-id":"CircularProgressbar"},this.props.background?G.createElement("circle",{className:s.background,style:a.background,cx:I1,cy:D1,r:_P}):null,G.createElement(AP,{className:s.trail,counterClockwise:o,dashRatio:i,pathRadius:d,strokeWidth:l,style:a.trail}),G.createElement(AP,{className:s.path,counterClockwise:o,dashRatio:h*i,pathRadius:d,strokeWidth:l,style:a.path}),c?G.createElement("text",{className:s.text,style:a.text,x:I1,y:D1},c):null)},e.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},e})(G.Component);const RX="/portolioVNX/assets/bootstrap-8e546a2c.svg",LX="/portolioVNX/assets/jquery-104e2f8c.png",IX="/portolioVNX/assets/sass-5ec55337.png",DX="/portolioVNX/assets/azure-7923db83.svg",OX="/portolioVNX/assets/photoshop-5d055a95.svg",FX="/portolioVNX/assets/dart-8dec3d6f.svg",kX="/portolioVNX/assets/flutter-c1882490.svg",NX="/portolioVNX/assets/sql-cdb91ed6.svg",dx=[{category:"Front-end",items:[{name:"HTML",icon:oX,nivel:"Senior",level:90},{name:"CSS",icon:iX,nivel:"Senior",level:80},{name:"JavaScript",icon:aX,nivel:"Senior",level:80},{name:"ReactJS",icon:uX,nivel:"Pleno",level:60},{name:"Typescript",icon:cX,nivel:"Junior",level:30},{name:"Bootstrap",icon:RX,nivel:"Pleno",level:60},{name:"jQuery",icon:LX,nivel:"Junior",level:40},{name:"SASS",icon:IX,nivel:"Pleno",level:65}]},{category:"Back-end",items:[{name:"NodeJS",icon:lX,nivel:"Pleno",level:55},{name:"MySQL",icon:NX,nivel:"Junior",level:35}]},{category:"Mobile",items:[{name:"Dart",icon:FX,nivel:"Senior",level:90},{name:"Flutter",icon:kX,nivel:"Senior",level:90}]},{category:"Ferramentas",items:[{name:"Figma",icon:rX,nivel:"Junior",level:30},{name:"Git",icon:sX,nivel:"Senior",level:90},{name:"Azure",icon:DX,nivel:"Junior",level:35},{name:"Photoshop",icon:OX,nivel:"Senior",level:90}]}],zX=({level:n})=>re("div",{className:"relative bg-gray-300 h-3 rounded-md",style:{width:"130px"},children:re("div",{className:"absolute left-0 bg-green-500 rounded-md",style:{width:`${n/100*130}px`,height:"100%"}})}),hx=({skill:n})=>re(w0,{className:"xs:w-[250px] w-full",children:re(Dn.div,{className:"w-full green-pink-gradient p-[1px] rounded-[20px] shadow-card",whileHover:{scale:1.1},transition:{type:"spring",stiffness:500},children:et("div",{className:"bg-tertiary rounded-[20px] p-6 sm:w-[250px] w-full flex flex-col items-center",children:[re("h3",{className:"text-[20px] font-bold",children:n.name}),re("img",{src:n.icon,alt:n.name,className:"w-12 h-12 mb-4"}),et("div",{className:"mt-2",children:[re("span",{className:an.sectionSubTextTech,children:n.nivel}),re("div",{className:"mt-2",children:re(zX,{level:n.level})})]})]})})}),UX=()=>et(Dg,{children:[et(Dn.div,{variants:$d(),children:[re("p",{className:an.sectionSubText,children:"Linguagens e Ferramentas."}),re("h2",{className:an.sectionHeadText,children:"Habilidades."})]}),re("div",{className:"mt-20",children:dx.map((n,e)=>n.category==="Back-end"?et("div",{className:"mb-14",children:[et("div",{className:"flex justify-around",children:[re("h3",{className:"text-[24px] font-bold text-white mb-7",children:n.category}),re("h3",{className:"text-[24px] font-bold text-white mb-7",children:dx[e+1].category})]}),et("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-7",children:[n.items.map((t,i)=>re(Dn.div,{variants:Wo("up","spring",i*.1,.5),children:re(hx,{skill:t})},i)),dx[e+1].items.map((t,i)=>re(Dn.div,{variants:Wo("up","spring",i*.1,.5),children:re(hx,{skill:t})},i))]})]},e):n.category==="Mobile"?null:et("div",{className:"mb-14",children:[re("h3",{className:"text-[24px] font-bold text-white mb-7",children:n.category}),re("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-7",children:n.items.map((t,i)=>re(Dn.div,{variants:Wo("up","spring",i*.1,.5),children:re(hx,{skill:t})},i))})]},e))})]}),GX=eh(UX,"tech");var M0={},ea={},HX={get exports(){return ea},set exports(n){ea=n}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var i=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if(o==="string"||o==="number")i.push(s);else if(Array.isArray(s)){if(s.length){var a=t.apply(null,s);a&&i.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){i.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&i.push(l)}}}return i.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(HX);M0.__esModule=!0;M0.default=void 0;var VX=hw(G),xo=hw(fg),WX=hw(ea);function hw(n){return n&&n.__esModule?n:{default:n}}const ZI=({animate:n=!0,className:e="",layout:t="2-columns",lineColor:i="#FFF",children:r})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",i),VX.default.createElement("div",{className:(0,WX.default)(e,"vertical-timeline",{"vertical-timeline--animate":n,"vertical-timeline--two-columns":t==="2-columns","vertical-timeline--one-column-left":t==="1-column"||t==="1-column-left","vertical-timeline--one-column-right":t==="1-column-right"})},r));ZI.propTypes={children:xo.default.oneOfType([xo.default.arrayOf(xo.default.node),xo.default.node]).isRequired,className:xo.default.string,animate:xo.default.bool,layout:xo.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:xo.default.string};var jX=ZI;M0.default=jX;var C0={};function O1(){return O1=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},O1.apply(this,arguments)}function JX(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,F1(n,e)}function F1(n,e){return F1=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},F1(n,e)}function XX(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var k1=new Map,lm=new WeakMap,SP=0,$I=void 0;function KX(n){$I=n}function YX(n){return n?(lm.has(n)||(SP+=1,lm.set(n,SP.toString())),lm.get(n)):"0"}function QX(n){return Object.keys(n).sort().filter(function(e){return n[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?YX(n.root):n[e])}).toString()}function qX(n){var e=QX(n),t=k1.get(e);if(!t){var i=new Map,r,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,c=a.isIntersecting&&r.some(function(d){return a.intersectionRatio>=d});n.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=i.get(a.target))==null||l.forEach(function(d){d(c,a)})})},n);r=s.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:s,elements:i},k1.set(e,t)}return t}function pw(n,e,t,i){if(t===void 0&&(t={}),i===void 0&&(i=$I),typeof window.IntersectionObserver>"u"&&i!==void 0){var r=n.getBoundingClientRect();return e(i,{isIntersecting:i,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:r,intersectionRect:r,rootBounds:r}),function(){}}var s=qX(t),o=s.id,a=s.observer,l=s.elements,c=l.get(n)||[];return l.has(n)||l.set(n,c),c.push(e),a.observe(n),function(){c.splice(c.indexOf(e),1),c.length===0&&(l.delete(n),a.unobserve(n)),l.size===0&&(a.disconnect(),k1.delete(o))}}var ZX=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function wP(n){return typeof n.children!="function"}var _g=function(n){JX(e,n);function e(i){var r;return r=n.call(this,i)||this,r.node=null,r._unobserveCb=null,r.handleNode=function(s){r.node&&(r.unobserve(),!s&&!r.props.triggerOnce&&!r.props.skip&&r.setState({inView:!!r.props.initialInView,entry:void 0})),r.node=s||null,r.observeNode()},r.handleChange=function(s,o){s&&r.props.triggerOnce&&r.unobserve(),wP(r.props)||r.setState({inView:s,entry:o}),r.props.onChange&&r.props.onChange(s,o)},r.state={inView:!!i.initialInView,entry:void 0},r}var t=e.prototype;return t.componentDidUpdate=function(r){(r.rootMargin!==this.props.rootMargin||r.root!==this.props.root||r.threshold!==this.props.threshold||r.skip!==this.props.skip||r.trackVisibility!==this.props.trackVisibility||r.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},t.componentWillUnmount=function(){this.unobserve(),this.node=null},t.observeNode=function(){if(!(!this.node||this.props.skip)){var r=this.props,s=r.threshold,o=r.root,a=r.rootMargin,l=r.trackVisibility,c=r.delay,d=r.fallbackInView;this._unobserveCb=pw(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:l,delay:c},d)}},t.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},t.render=function(){if(!wP(this.props)){var r=this.state,s=r.inView,o=r.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,l=a.children,c=a.as,d=XX(a,ZX);return G.createElement(c||"div",O1({ref:this.handleNode},d),l)},e}(G.Component);_g.displayName="InView";_g.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function $X(n){var e=n===void 0?{}:n,t=e.threshold,i=e.delay,r=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,c=e.initialInView,d=e.fallbackInView,h=G.useRef(),p=G.useState({inView:!!c}),m=p[0],y=p[1],v=G.useCallback(function(A){h.current!==void 0&&(h.current(),h.current=void 0),!l&&A&&(h.current=pw(A,function(_,w){y({inView:_,entry:w}),w.isIntersecting&&a&&h.current&&(h.current(),h.current=void 0)},{root:o,rootMargin:s,threshold:t,trackVisibility:r,delay:i},d))},[Array.isArray(t)?t.toString():t,o,s,a,l,r,d,i]);G.useEffect(function(){!h.current&&m.entry&&!a&&!l&&y({inView:!!c})});var x=[v,m.inView,m.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}const eK=Object.freeze(Object.defineProperty({__proto__:null,InView:_g,default:_g,defaultFallbackInView:KX,observe:pw,useInView:$X},Symbol.toStringTag,{value:"Module"})),tK=jP(eK);C0.__esModule=!0;C0.default=void 0;var _o=mw(G),$t=mw(fg),um=mw(ea),nK=tK;function mw(n){return n&&n.__esModule?n:{default:n}}const eD=({children:n="",className:e="",contentArrowStyle:t=null,contentStyle:i=null,date:r="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:c=null,iconStyle:d=null,id:h="",position:p="",style:m=null,textClassName:y="",intersectionObserverProps:v={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:x=!1})=>_o.default.createElement(nK.InView,v,({inView:A,ref:_})=>_o.default.createElement("div",{ref:_,id:h,className:(0,um.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":p==="left","vertical-timeline-element--right":p==="right","vertical-timeline-element--no-children":n===""}),style:m},_o.default.createElement(_o.default.Fragment,null,_o.default.createElement("span",{style:d,onClick:l,className:(0,um.default)(a,"vertical-timeline-element-icon",{"bounce-in":A||x,"is-hidden":!(A||x)})},o),_o.default.createElement("div",{style:i,onClick:c,className:(0,um.default)(y,"vertical-timeline-element-content",{"bounce-in":A||x,"is-hidden":!(A||x)})},_o.default.createElement("div",{style:t,className:"vertical-timeline-element-content-arrow"}),n,_o.default.createElement("span",{className:(0,um.default)(s,"vertical-timeline-element-date")},r)))));eD.propTypes={children:$t.default.oneOfType([$t.default.arrayOf($t.default.node),$t.default.node]),className:$t.default.string,contentArrowStyle:$t.default.shape({}),contentStyle:$t.default.shape({}),date:$t.default.node,dateClassName:$t.default.string,icon:$t.default.element,iconClassName:$t.default.string,iconStyle:$t.default.shape({}),iconOnClick:$t.default.func,onTimelineElementClick:$t.default.func,id:$t.default.string,position:$t.default.string,style:$t.default.shape({}),textClassName:$t.default.string,visible:$t.default.bool,intersectionObserverProps:$t.default.shape({root:$t.default.object,rootMargin:$t.default.string,threshold:$t.default.number,triggerOnce:$t.default.bool})};var iK=eD;C0.default=iK;var tD={VerticalTimeline:M0.default,VerticalTimelineElement:C0.default};const rK=({experience:n})=>et(tD.VerticalTimelineElement,{contentStyle:{background:"#1d1836",color:"#fff"},contentArrowStyle:{borderRight:"7px solid  #232631"},date:n.date,iconStyle:{background:n.iconBg},icon:re("div",{className:"flex justify-center items-center w-full h-full",children:re("img",{src:n.icon,alt:n.company_name,className:"w-[60%] h-[60%] object-contain"})}),children:[et("div",{children:[re("h3",{className:"text-white text-[24px] font-bold",children:n.title}),re("p",{className:"text-secondary text-[16px] font-semibold",style:{margin:0},children:n.company_name})]}),re("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:n.points.map((e,t)=>re("li",{className:"text-white-100 text-[14px] pl-1 tracking-wider",children:e},`experience-point-${t}`))})]}),sK=()=>et(Dg,{children:[et(Dn.div,{variants:$d(),children:[re("p",{className:an.sectionSubText,children:"O que eu fiz at agora"}),re("h2",{className:an.sectionHeadText,children:"Experincia."})]}),re("div",{className:"mt-20 flex flex-col",children:re(tD.VerticalTimeline,{children:yX.map((n,e)=>re(rK,{experience:n},e))})})]}),oK=eh(sK,"work"),aK=({index:n,name:e,description:t,tags:i,image:r,source_code_link:s})=>re(Dn.div,{variants:Wo("up","spring",n*.5,.75),children:et(w0,{options:{max:45,scale:1,speed:450},className:"bg-tertiary p-5 rounded-2xl sm:w-[350px] w-full",children:[et("div",{className:"relative w-full h-[230px]",children:[re("img",{src:r,alt:e,className:"w-full h-full object-cover rounded-2xl"}),re("div",{className:"absolute inset-0 flex justify-end m-3 card-img_hover",children:re("div",{onClick:()=>window.open(s,"_blank"),className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer",children:re("img",{src:qI,alt:"github",className:"w-1/2 h-1/2 object-contain",source_code_link:"https://github.com/viniciusvinny233"})})})]}),et("div",{className:"mt-5",children:[re("h3",{className:"text-white font-bold text-[24px]",children:e}),re("p",{className:"mt-2 text-secondary text-[14px]",children:t})]}),re("div",{className:"mt-4 flex flex-wrap gap-2",children:i.map(o=>et("p",{className:`text-[14px] ${o.color}`,children:["#",o.name]},o.name))})]})}),lK=()=>et(Dg,{children:[et(Dn.div,{variants:$d(),children:[re("p",{className:an.sectionSubText,children:"Meu trabalho"}),re("h2",{className:an.sectionHeadText,children:"Projetos."})]}),re("div",{className:"w-full flex",children:re(Dn.p,{variants:Wo("","",.1,1),className:"mt-3 text-secondary text-[17px] max-w-3xl leading-[30px]",children:"Os projetos a seguir destacam minhas habilidades e experincias por meio de exemplos prticos do meu trabalho. Cada projeto  brevemente descrito, com links para as demonstraes ao vivo."})}),re("div",{className:"mt-20 flex flex-wrap gap-7",children:_X.map((n,e)=>re(aK,{index:e,...n},`project-${e}`))})]}),uK=eh(lK,"");var nD={},iD={},b0={},rD={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0},t=e;n.default=t})(rD);var cK="Expected a function",MP=0/0,fK="[object Symbol]",dK=/^\s+|\s+$/g,hK=/^[-+]0x[0-9a-f]+$/i,pK=/^0b[01]+$/i,mK=/^0o[0-7]+$/i,gK=parseInt,vK=typeof Zh=="object"&&Zh&&Zh.Object===Object&&Zh,yK=typeof self=="object"&&self&&self.Object===Object&&self,xK=vK||yK||Function("return this")(),_K=Object.prototype,AK=_K.toString,SK=Math.max,wK=Math.min,px=function(){return xK.Date.now()};function MK(n,e,t){var i,r,s,o,a,l,c=0,d=!1,h=!1,p=!0;if(typeof n!="function")throw new TypeError(cK);e=CP(e)||0,N1(t)&&(d=!!t.leading,h="maxWait"in t,s=h?SK(CP(t.maxWait)||0,e):s,p="trailing"in t?!!t.trailing:p);function m(P){var R=i,b=r;return i=r=void 0,c=P,o=n.apply(b,R),o}function y(P){return c=P,a=setTimeout(A,e),d?m(P):o}function v(P){var R=P-l,b=P-c,B=e-R;return h?wK(B,s-b):B}function x(P){var R=P-l,b=P-c;return l===void 0||R>=e||R<0||h&&b>=s}function A(){var P=px();if(x(P))return _(P);a=setTimeout(A,v(P))}function _(P){return a=void 0,p&&i?m(P):(i=r=void 0,o)}function w(){a!==void 0&&clearTimeout(a),c=0,i=l=r=a=void 0}function M(){return a===void 0?o:_(px())}function E(){var P=px(),R=x(P);if(i=arguments,r=this,l=P,R){if(a===void 0)return y(l);if(h)return a=setTimeout(A,e),m(l)}return a===void 0&&(a=setTimeout(A,e)),o}return E.cancel=w,E.flush=M,E}function N1(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function CK(n){return!!n&&typeof n=="object"}function bK(n){return typeof n=="symbol"||CK(n)&&AK.call(n)==fK}function CP(n){if(typeof n=="number")return n;if(bK(n))return MP;if(N1(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=N1(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(dK,"");var t=pK.test(n);return t||mK.test(n)?gK(n.slice(2),t?2:8):hK.test(n)?MP:+n}var EK=MK,Fe={};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.checkSpecKeys=Fe.checkNavigable=Fe.changeSlide=Fe.canUseDOM=Fe.canGoNext=void 0;Fe.clamp=sD;Fe.swipeStart=Fe.swipeMove=Fe.swipeEnd=Fe.slidesOnRight=Fe.slidesOnLeft=Fe.slideHandler=Fe.siblingDirection=Fe.safePreventDefault=Fe.lazyStartIndex=Fe.lazySlidesOnRight=Fe.lazySlidesOnLeft=Fe.lazyEndIndex=Fe.keyHandler=Fe.initializedState=Fe.getWidth=Fe.getTrackLeft=Fe.getTrackCSS=Fe.getTrackAnimateCSS=Fe.getTotalSlides=Fe.getSwipeDirection=Fe.getSlideCount=Fe.getRequiredLazySlides=Fe.getPreClones=Fe.getPostClones=Fe.getOnDemandLazySlides=Fe.getNavigableIndexes=Fe.getHeight=Fe.extractObject=void 0;var TK=PK(G);function PK(n){return n&&n.__esModule?n:{default:n}}function bP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function en(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(t),!0).forEach(function(i){BK(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bP(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function BK(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sD(n,e,t){return Math.max(e,Math.min(n,t))}var rl=function(e){var t=["onTouchStart","onTouchMove","onWheel"];t.includes(e._reactName)||e.preventDefault()};Fe.safePreventDefault=rl;var gw=function(e){for(var t=[],i=vw(e),r=yw(e),s=i;s<r;s++)e.lazyLoadedList.indexOf(s)<0&&t.push(s);return t};Fe.getOnDemandLazySlides=gw;var RK=function(e){for(var t=[],i=vw(e),r=yw(e),s=i;s<r;s++)t.push(s);return t};Fe.getRequiredLazySlides=RK;var vw=function(e){return e.currentSlide-oD(e)};Fe.lazyStartIndex=vw;var yw=function(e){return e.currentSlide+aD(e)};Fe.lazyEndIndex=yw;var oD=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};Fe.lazySlidesOnLeft=oD;var aD=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};Fe.lazySlidesOnRight=aD;var Ag=function(e){return e&&e.offsetWidth||0};Fe.getWidth=Ag;var xw=function(e){return e&&e.offsetHeight||0};Fe.getHeight=xw;var _w=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i,r,s,o;return i=e.startX-e.curX,r=e.startY-e.curY,s=Math.atan2(r,i),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":t===!0?o>=35&&o<=135?"up":"down":"vertical"};Fe.getSwipeDirection=_w;var Aw=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};Fe.canGoNext=Aw;var LK=function(e,t){var i={};return t.forEach(function(r){return i[r]=e[r]}),i};Fe.extractObject=LK;var IK=function(e){var t=TK.default.Children.count(e.children),i=e.listRef,r=Math.ceil(Ag(i)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(Ag(s)),a;if(e.vertical)a=r;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=r/100),a=Math.ceil((r-l)/e.slidesToShow)}var c=i&&xw(i.querySelector('[data-index="0"]')),d=c*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=t-1-e.initialSlide);var p=e.lazyLoadedList||[],m=gw(en(en({},e),{},{currentSlide:h,lazyLoadedList:p}));p=p.concat(m);var y={slideCount:t,slideWidth:a,listWidth:r,trackWidth:o,currentSlide:h,slideHeight:c,listHeight:d,lazyLoadedList:p};return e.autoplaying===null&&e.autoplay&&(y.autoplaying="playing"),y};Fe.initializedState=IK;var DK=function(e){var t=e.waitForAnimate,i=e.animating,r=e.fade,s=e.infinite,o=e.index,a=e.slideCount,l=e.lazyLoad,c=e.currentSlide,d=e.centerMode,h=e.slidesToScroll,p=e.slidesToShow,m=e.useCSS,y=e.lazyLoadedList;if(t&&i)return{};var v=o,x,A,_,w={},M={},E=s?o:sD(o,0,a-1);if(r){if(!s&&(o<0||o>=a))return{};o<0?v=o+a:o>=a&&(v=o-a),l&&y.indexOf(v)<0&&(y=y.concat(v)),w={animating:!0,currentSlide:v,lazyLoadedList:y,targetSlide:v},M={animating:!1,targetSlide:v}}else x=v,v<0?(x=v+a,s?a%h!==0&&(x=a-a%h):x=0):!Aw(e)&&v>c?v=x=c:d&&v>=a?(v=s?a:a-1,x=s?0:a-1):v>=a&&(x=v-a,s?a%h!==0&&(x=0):x=a-p),!s&&v+p>=a&&(x=a-p),A=xd(en(en({},e),{},{slideIndex:v})),_=xd(en(en({},e),{},{slideIndex:x})),s||(A===_&&(v=x),A=_),l&&(y=y.concat(gw(en(en({},e),{},{currentSlide:v})))),m?(w={animating:!0,currentSlide:x,trackStyle:Sw(en(en({},e),{},{left:A})),lazyLoadedList:y,targetSlide:E},M={animating:!1,currentSlide:x,trackStyle:yd(en(en({},e),{},{left:_})),swipeLeft:null,targetSlide:E}):w={currentSlide:x,trackStyle:yd(en(en({},e),{},{left:_})),lazyLoadedList:y,targetSlide:E};return{state:w,nextState:M}};Fe.slideHandler=DK;var OK=function(e,t){var i,r,s,o,a,l=e.slidesToScroll,c=e.slidesToShow,d=e.slideCount,h=e.currentSlide,p=e.targetSlide,m=e.lazyLoad,y=e.infinite;if(o=d%l!==0,i=o?0:(d-h)%l,t.message==="previous")s=i===0?l:c-i,a=h-s,m&&!y&&(r=h-s,a=r===-1?d-1:r),y||(a=p-l);else if(t.message==="next")s=i===0?l:i,a=h+s,m&&!y&&(a=(h+l)%d+i),y||(a=p+l);else if(t.message==="dots")a=t.index*t.slidesToScroll;else if(t.message==="children"){if(a=t.index,y){var v=fD(en(en({},e),{},{targetSlide:a}));a>t.currentSlide&&v==="left"?a=a-d:a<t.currentSlide&&v==="right"&&(a=a+d)}}else t.message==="index"&&(a=Number(t.index));return a};Fe.changeSlide=OK;var FK=function(e,t,i){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":e.keyCode===37?i?"next":"previous":e.keyCode===39?i?"previous":"next":""};Fe.keyHandler=FK;var kK=function(e,t,i){return e.target.tagName==="IMG"&&rl(e),!t||!i&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};Fe.swipeStart=kK;var NK=function(e,t){var i=t.scrolling,r=t.animating,s=t.vertical,o=t.swipeToSlide,a=t.verticalSwiping,l=t.rtl,c=t.currentSlide,d=t.edgeFriction,h=t.edgeDragged,p=t.onEdge,m=t.swiped,y=t.swiping,v=t.slideCount,x=t.slidesToScroll,A=t.infinite,_=t.touchObject,w=t.swipeEvent,M=t.listHeight,E=t.listWidth;if(!i){if(r)return rl(e);s&&o&&a&&rl(e);var P,R={},b=xd(t);_.curX=e.touches?e.touches[0].pageX:e.clientX,_.curY=e.touches?e.touches[0].pageY:e.clientY,_.swipeLength=Math.round(Math.sqrt(Math.pow(_.curX-_.startX,2)));var B=Math.round(Math.sqrt(Math.pow(_.curY-_.startY,2)));if(!a&&!y&&B>10)return{scrolling:!0};a&&(_.swipeLength=B);var L=(l?-1:1)*(_.curX>_.startX?1:-1);a&&(L=_.curY>_.startY?1:-1);var O=Math.ceil(v/x),H=_w(t.touchObject,a),U=_.swipeLength;return A||(c===0&&(H==="right"||H==="down")||c+1>=O&&(H==="left"||H==="up")||!Aw(t)&&(H==="left"||H==="up"))&&(U=_.swipeLength*d,h===!1&&p&&(p(H),R.edgeDragged=!0)),!m&&w&&(w(H),R.swiped=!0),s?P=b+U*(M/E)*L:l?P=b-U*L:P=b+U*L,a&&(P=b+U*L),R=en(en({},R),{},{touchObject:_,swipeLeft:P,trackStyle:yd(en(en({},t),{},{left:P}))}),Math.abs(_.curX-_.startX)<Math.abs(_.curY-_.startY)*.8||_.swipeLength>10&&(R.swiping=!0,rl(e)),R}};Fe.swipeMove=NK;var zK=function(e,t){var i=t.dragging,r=t.swipe,s=t.touchObject,o=t.listWidth,a=t.touchThreshold,l=t.verticalSwiping,c=t.listHeight,d=t.swipeToSlide,h=t.scrolling,p=t.onSwipe,m=t.targetSlide,y=t.currentSlide,v=t.infinite;if(!i)return r&&rl(e),{};var x=l?c/a:o/a,A=_w(s,l),_={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!s.swipeLength)return _;if(s.swipeLength>x){rl(e),p&&p(A);var w,M,E=v?y:m;switch(A){case"left":case"up":M=E+U1(t),w=d?z1(t,M):M,_.currentDirection=0;break;case"right":case"down":M=E-U1(t),w=d?z1(t,M):M,_.currentDirection=1;break;default:w=E}_.triggerSlideHandler=w}else{var P=xd(t);_.trackStyle=Sw(en(en({},t),{},{left:P}))}return _};Fe.swipeEnd=zK;var lD=function(e){for(var t=e.infinite?e.slideCount*2:e.slideCount,i=e.infinite?e.slidesToShow*-1:0,r=e.infinite?e.slidesToShow*-1:0,s=[];i<t;)s.push(i),i=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return s};Fe.getNavigableIndexes=lD;var z1=function(e,t){var i=lD(e),r=0;if(t>i[i.length-1])t=i[i.length-1];else for(var s in i){if(t<i[s]){t=r;break}r=i[s]}return t};Fe.checkNavigable=z1;var U1=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var i,r=e.listRef,s=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(l){if(e.vertical){if(l.offsetTop+xw(l)/2>e.swipeLeft*-1)return i=l,!1}else if(l.offsetLeft-t+Ag(l)/2>e.swipeLeft*-1)return i=l,!1;return!0}),!i)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(i.dataset.index-o)||1;return a}else return e.slidesToScroll};Fe.getSlideCount=U1;var E0=function(e,t){return t.reduce(function(i,r){return i&&e.hasOwnProperty(r)},!0)?null:console.error("Keys Missing:",e)};Fe.checkSpecKeys=E0;var yd=function(e){E0(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var t,i,r=e.slideCount+2*e.slidesToShow;e.vertical?i=r*e.slideHeight:t=cD(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=en(en({},s),{},{WebkitTransform:o,transform:a,msTransform:l})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),t&&(s.width=t),i&&(s.height=i),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s};Fe.getTrackCSS=yd;var Sw=function(e){E0(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=yd(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t};Fe.getTrackAnimateCSS=Sw;var xd=function(e){if(e.unslick)return 0;E0(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t=e.slideIndex,i=e.trackRef,r=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,c=e.slideWidth,d=e.listWidth,h=e.variableWidth,p=e.slideHeight,m=e.fade,y=e.vertical,v=0,x,A,_=0;if(m||e.slideCount===1)return 0;var w=0;if(r?(w=-Lf(e),o%l!==0&&t+l>o&&(w=-(t>o?a-(t-o):o%l)),s&&(w+=parseInt(a/2))):(o%l!==0&&t+l>o&&(w=a-o%l),s&&(w=parseInt(a/2))),v=w*c,_=w*p,y?x=t*p*-1+_:x=t*c*-1+v,h===!0){var M,E=i&&i.node;if(M=t+Lf(e),A=E&&E.childNodes[M],x=A?A.offsetLeft*-1:0,s===!0){M=r?t+Lf(e):t,A=E&&E.children[M],x=0;for(var P=0;P<M;P++)x-=E&&E.children[P]&&E.children[P].offsetWidth;x-=parseInt(e.centerPadding),x+=A&&(d-A.offsetWidth)/2}}return x};Fe.getTrackLeft=xd;var Lf=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};Fe.getPreClones=Lf;var uD=function(e){return e.unslick||!e.infinite?0:e.slideCount};Fe.getPostClones=uD;var cD=function(e){return e.slideCount===1?1:Lf(e)+e.slideCount+uD(e)};Fe.getTotalSlides=cD;var fD=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+dD(e)?"left":"right":e.targetSlide<e.currentSlide-hD(e)?"right":"left"};Fe.siblingDirection=fD;var dD=function(e){var t=e.slidesToShow,i=e.centerMode,r=e.rtl,s=e.centerPadding;if(i){var o=(t-1)/2+1;return parseInt(s)>0&&(o+=1),r&&t%2===0&&(o+=1),o}return r?0:t-1};Fe.slidesOnRight=dD;var hD=function(e){var t=e.slidesToShow,i=e.centerMode,r=e.rtl,s=e.centerPadding;if(i){var o=(t-1)/2+1;return parseInt(s)>0&&(o+=1),!r&&t%2===0&&(o+=1),o}return r?t-1:0};Fe.slidesOnLeft=hD;var UK=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};Fe.canUseDOM=UK;var T0={};function G1(n){return G1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G1(n)}Object.defineProperty(T0,"__esModule",{value:!0});T0.Track=void 0;var bo=pD(G),mx=pD(ea),gx=Fe;function pD(n){return n&&n.__esModule?n:{default:n}}function H1(){return H1=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},H1.apply(this,arguments)}function GK(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function EP(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function HK(n,e,t){return e&&EP(n.prototype,e),t&&EP(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function VK(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&V1(n,e)}function V1(n,e){return V1=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},V1(n,e)}function WK(n){var e=JK();return function(){var i=Sg(n),r;if(e){var s=Sg(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return jK(this,r)}}function jK(n,e){if(e&&(G1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W1(n)}function W1(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function JK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sg(n){return Sg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Sg(n)}function TP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ti(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(t),!0).forEach(function(i){j1(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):TP(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function j1(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var vx=function(e){var t,i,r,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,r=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),i=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(t=!0)):t=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=o===a;return{"slick-slide":!0,"slick-active":t,"slick-center":i,"slick-cloned":r,"slick-current":l}},XK=function(e){var t={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t},yx=function(e,t){return e.key||t},KK=function(e){var t,i=[],r=[],s=[],o=bo.default.Children.count(e.children),a=(0,gx.lazyStartIndex)(e),l=(0,gx.lazyEndIndex)(e);return bo.default.Children.forEach(e.children,function(c,d){var h,p={message:"children",index:d,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(d)>=0?h=c:h=bo.default.createElement("div",null);var m=XK(Ti(Ti({},e),{},{index:d})),y=h.props.className||"",v=vx(Ti(Ti({},e),{},{index:d}));if(i.push(bo.default.cloneElement(h,{key:"original"+yx(h,d),"data-index":d,className:(0,mx.default)(v,y),tabIndex:"-1","aria-hidden":!v["slick-active"],style:Ti(Ti({outline:"none"},h.props.style||{}),m),onClick:function(_){h.props&&h.props.onClick&&h.props.onClick(_),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&e.fade===!1){var x=o-d;x<=(0,gx.getPreClones)(e)&&o!==e.slidesToShow&&(t=-x,t>=a&&(h=c),v=vx(Ti(Ti({},e),{},{index:t})),r.push(bo.default.cloneElement(h,{key:"precloned"+yx(h,t),"data-index":t,tabIndex:"-1",className:(0,mx.default)(v,y),"aria-hidden":!v["slick-active"],style:Ti(Ti({},h.props.style||{}),m),onClick:function(_){h.props&&h.props.onClick&&h.props.onClick(_),e.focusOnSelect&&e.focusOnSelect(p)}}))),o!==e.slidesToShow&&(t=o+d,t<l&&(h=c),v=vx(Ti(Ti({},e),{},{index:t})),s.push(bo.default.cloneElement(h,{key:"postcloned"+yx(h,t),"data-index":t,tabIndex:"-1",className:(0,mx.default)(v,y),"aria-hidden":!v["slick-active"],style:Ti(Ti({},h.props.style||{}),m),onClick:function(_){h.props&&h.props.onClick&&h.props.onClick(_),e.focusOnSelect&&e.focusOnSelect(p)}})))}}),e.rtl?r.concat(i,s).reverse():r.concat(i,s)},YK=function(n){VK(t,n);var e=WK(t);function t(){var i;GK(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=e.call.apply(e,[this].concat(s)),j1(W1(i),"node",null),j1(W1(i),"handleRef",function(a){i.node=a}),i}return HK(t,[{key:"render",value:function(){var r=KK(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,l=s.onMouseLeave,c={onMouseEnter:o,onMouseOver:a,onMouseLeave:l};return bo.default.createElement("div",H1({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},c),r)}}]),t}(bo.default.PureComponent);T0.Track=YK;var P0={};function J1(n){return J1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J1(n)}Object.defineProperty(P0,"__esModule",{value:!0});P0.Dots=void 0;var cm=mD(G),QK=mD(ea),PP=Fe;function mD(n){return n&&n.__esModule?n:{default:n}}function BP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function qK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(t),!0).forEach(function(i){ZK(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):BP(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ZK(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $K(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function RP(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function eY(n,e,t){return e&&RP(n.prototype,e),t&&RP(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function tY(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&X1(n,e)}function X1(n,e){return X1=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},X1(n,e)}function nY(n){var e=sY();return function(){var i=wg(n),r;if(e){var s=wg(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return iY(this,r)}}function iY(n,e){if(e&&(J1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rY(n)}function rY(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function sY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wg(n){return wg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wg(n)}var oY=function(e){var t;return e.infinite?t=Math.ceil(e.slideCount/e.slidesToScroll):t=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,t},aY=function(n){tY(t,n);var e=nY(t);function t(){return $K(this,t),e.apply(this,arguments)}return eY(t,[{key:"clickHandler",value:function(r,s){s.preventDefault(),this.props.clickHandler(r)}},{key:"render",value:function(){for(var r=this.props,s=r.onMouseEnter,o=r.onMouseOver,a=r.onMouseLeave,l=r.infinite,c=r.slidesToScroll,d=r.slidesToShow,h=r.slideCount,p=r.currentSlide,m=oY({slideCount:h,slidesToScroll:c,slidesToShow:d,infinite:l}),y={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},v=[],x=0;x<m;x++){var A=(x+1)*c-1,_=l?A:(0,PP.clamp)(A,0,h-1),w=_-(c-1),M=l?w:(0,PP.clamp)(w,0,h-1),E=(0,QK.default)({"slick-active":l?p>=M&&p<=_:p===M}),P={message:"dots",index:x,slidesToScroll:c,currentSlide:p},R=this.clickHandler.bind(this,P);v=v.concat(cm.default.createElement("li",{key:x,className:E},cm.default.cloneElement(this.props.customPaging(x),{onClick:R})))}return cm.default.cloneElement(this.props.appendDots(v),qK({className:this.props.dotsClass},y))}}]),t}(cm.default.PureComponent);P0.Dots=aY;var qu={};function K1(n){return K1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K1(n)}Object.defineProperty(qu,"__esModule",{value:!0});qu.PrevArrow=qu.NextArrow=void 0;var Ru=vD(G),gD=vD(ea),lY=Fe;function vD(n){return n&&n.__esModule?n:{default:n}}function Mg(){return Mg=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Mg.apply(this,arguments)}function LP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Cg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(t),!0).forEach(function(i){uY(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):LP(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function uY(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function yD(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function IP(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function xD(n,e,t){return e&&IP(n.prototype,e),t&&IP(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function _D(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Y1(n,e)}function Y1(n,e){return Y1=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Y1(n,e)}function AD(n){var e=dY();return function(){var i=bg(n),r;if(e){var s=bg(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return cY(this,r)}}function cY(n,e){if(e&&(K1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fY(n)}function fY(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function dY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bg(n){return bg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bg(n)}var hY=function(n){_D(t,n);var e=AD(t);function t(){return yD(this,t),e.apply(this,arguments)}return xD(t,[{key:"clickHandler",value:function(r,s){s&&s.preventDefault(),this.props.clickHandler(r,s)}},{key:"render",value:function(){var r={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(r["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,gD.default)(r),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=Ru.default.cloneElement(this.props.prevArrow,Cg(Cg({},o),a)):l=Ru.default.createElement("button",Mg({key:"0",type:"button"},o)," ","Previous"),l}}]),t}(Ru.default.PureComponent);qu.PrevArrow=hY;var pY=function(n){_D(t,n);var e=AD(t);function t(){return yD(this,t),e.apply(this,arguments)}return xD(t,[{key:"clickHandler",value:function(r,s){s&&s.preventDefault(),this.props.clickHandler(r,s)}},{key:"render",value:function(){var r={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,lY.canGoNext)(this.props)||(r["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,gD.default)(r),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=Ru.default.cloneElement(this.props.nextArrow,Cg(Cg({},o),a)):l=Ru.default.createElement("button",Mg({key:"1",type:"button"},o)," ","Next"),l}}]),t}(Ru.default.PureComponent);qu.NextArrow=pY;var SD=function(){if(typeof Map<"u")return Map;function n(e,t){var i=-1;return e.some(function(r,s){return r[0]===t?(i=s,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var i=n(this.__entries__,t),r=this.__entries__[i];return r&&r[1]},e.prototype.set=function(t,i){var r=n(this.__entries__,t);~r?this.__entries__[r][1]=i:this.__entries__.push([t,i])},e.prototype.delete=function(t){var i=this.__entries__,r=n(i,t);~r&&i.splice(r,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,i){i===void 0&&(i=null);for(var r=0,s=this.__entries__;r<s.length;r++){var o=s[r];t.call(i,o[1],o[0])}},e}()}(),Q1=typeof window<"u"&&typeof document<"u"&&window.document===document,Eg=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),mY=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Eg):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),gY=2;function vY(n,e){var t=!1,i=!1,r=0;function s(){t&&(t=!1,n()),i&&a()}function o(){mY(s)}function a(){var l=Date.now();if(t){if(l-r<gY)return;i=!0}else t=!0,i=!1,setTimeout(o,e);r=l}return a}var yY=20,xY=["top","right","bottom","left","width","height","size","weight"],_Y=typeof MutationObserver<"u",AY=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=vY(this.refresh.bind(this),yY)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!Q1||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),_Y?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!Q1||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=t===void 0?"":t,r=xY.some(function(s){return!!~i.indexOf(s)});r&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),wD=function(n,e){for(var t=0,i=Object.keys(e);t<i.length;t++){var r=i[t];Object.defineProperty(n,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return n},Zu=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||Eg},MD=B0(0,0,0,0);function Tg(n){return parseFloat(n)||0}function DP(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(i,r){var s=n["border-"+r+"-width"];return i+Tg(s)},0)}function SY(n){for(var e=["top","right","bottom","left"],t={},i=0,r=e;i<r.length;i++){var s=r[i],o=n["padding-"+s];t[s]=Tg(o)}return t}function wY(n){var e=n.getBBox();return B0(0,0,e.width,e.height)}function MY(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return MD;var i=Zu(n).getComputedStyle(n),r=SY(i),s=r.left+r.right,o=r.top+r.bottom,a=Tg(i.width),l=Tg(i.height);if(i.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=DP(i,"left","right")+s),Math.round(l+o)!==t&&(l-=DP(i,"top","bottom")+o)),!bY(n)){var c=Math.round(a+s)-e,d=Math.round(l+o)-t;Math.abs(c)!==1&&(a-=c),Math.abs(d)!==1&&(l-=d)}return B0(r.left,r.top,a,l)}var CY=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof Zu(n).SVGGraphicsElement}:function(n){return n instanceof Zu(n).SVGElement&&typeof n.getBBox=="function"}}();function bY(n){return n===Zu(n).document.documentElement}function EY(n){return Q1?CY(n)?wY(n):MY(n):MD}function TY(n){var e=n.x,t=n.y,i=n.width,r=n.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return wD(o,{x:e,y:t,width:i,height:r,top:t,right:e+i,bottom:r+t,left:e}),o}function B0(n,e,t,i){return{x:n,y:e,width:t,height:i}}var PY=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=B0(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=EY(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),BY=function(){function n(e,t){var i=TY(t);wD(this,{target:e,contentRect:i})}return n}(),RY=function(){function n(e,t,i){if(this.activeObservations_=[],this.observations_=new SD,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Zu(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new PY(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Zu(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(i){return new BY(i.target,i.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),CD=typeof WeakMap<"u"?new WeakMap:new SD,bD=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=AY.getInstance(),i=new RY(e,t,this);CD.set(this,i)}return n}();["observe","unobserve","disconnect"].forEach(function(n){bD.prototype[n]=function(){var e;return(e=CD.get(this))[n].apply(e,arguments)}});var LY=function(){return typeof Eg.ResizeObserver<"u"?Eg.ResizeObserver:bD}();const IY=Object.freeze(Object.defineProperty({__proto__:null,default:LY},Symbol.toStringTag,{value:"Module"})),DY=jP(IY);Object.defineProperty(b0,"__esModule",{value:!0});b0.InnerSlider=void 0;var hi=th(G),OY=th(rD),FY=th(EK),kY=th(ea),sn=Fe,NY=T0,zY=P0,OP=qu,UY=th(DY);function th(n){return n&&n.__esModule?n:{default:n}}function Pg(n){return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(n)}function Bg(){return Bg=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Bg.apply(this,arguments)}function GY(n,e){if(n==null)return{};var t=HY(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function HY(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function FP(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function it(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(t),!0).forEach(function(i){St(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):FP(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function VY(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function kP(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function WY(n,e,t){return e&&kP(n.prototype,e),t&&kP(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function jY(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&q1(n,e)}function q1(n,e){return q1=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},q1(n,e)}function JY(n){var e=KY();return function(){var i=Rg(n),r;if(e){var s=Rg(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return XY(this,r)}}function XY(n,e){if(e&&(Pg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return At(n)}function At(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function KY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rg(n){return Rg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Rg(n)}function St(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var YY=function(n){jY(t,n);var e=JY(t);function t(i){var r;VY(this,t),r=e.call(this,i),St(At(r),"listRefHandler",function(o){return r.list=o}),St(At(r),"trackRefHandler",function(o){return r.track=o}),St(At(r),"adaptHeight",function(){if(r.props.adaptiveHeight&&r.list){var o=r.list.querySelector('[data-index="'.concat(r.state.currentSlide,'"]'));r.list.style.height=(0,sn.getHeight)(o)+"px"}}),St(At(r),"componentDidMount",function(){if(r.props.onInit&&r.props.onInit(),r.props.lazyLoad){var o=(0,sn.getOnDemandLazySlides)(it(it({},r.props),r.state));o.length>0&&(r.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(o)}}),r.props.onLazyLoad&&r.props.onLazyLoad(o))}var a=it({listRef:r.list,trackRef:r.track},r.props);r.updateState(a,!0,function(){r.adaptHeight(),r.props.autoplay&&r.autoPlay("update")}),r.props.lazyLoad==="progressive"&&(r.lazyLoadTimer=setInterval(r.progressiveLazyLoad,1e3)),r.ro=new UY.default(function(){r.state.animating?(r.onWindowResized(!1),r.callbackTimers.push(setTimeout(function(){return r.onWindowResized()},r.props.speed))):r.onWindowResized()}),r.ro.observe(r.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=r.props.pauseOnFocus?r.onSlideFocus:null,l.onblur=r.props.pauseOnFocus?r.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",r.onWindowResized):window.attachEvent("onresize",r.onWindowResized)}),St(At(r),"componentWillUnmount",function(){r.animationEndCallback&&clearTimeout(r.animationEndCallback),r.lazyLoadTimer&&clearInterval(r.lazyLoadTimer),r.callbackTimers.length&&(r.callbackTimers.forEach(function(o){return clearTimeout(o)}),r.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",r.onWindowResized):window.detachEvent("onresize",r.onWindowResized),r.autoplayTimer&&clearInterval(r.autoplayTimer),r.ro.disconnect()}),St(At(r),"componentDidUpdate",function(o){if(r.checkImagesLoad(),r.props.onReInit&&r.props.onReInit(),r.props.lazyLoad){var a=(0,sn.getOnDemandLazySlides)(it(it({},r.props),r.state));a.length>0&&(r.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(a)}}),r.props.onLazyLoad&&r.props.onLazyLoad(a))}r.adaptHeight();var l=it(it({listRef:r.list,trackRef:r.track},r.props),r.state),c=r.didPropsChange(o);c&&r.updateState(l,c,function(){r.state.currentSlide>=hi.default.Children.count(r.props.children)&&r.changeSlide({message:"index",index:hi.default.Children.count(r.props.children)-r.props.slidesToShow,currentSlide:r.state.currentSlide}),r.props.autoplay?r.autoPlay("update"):r.pause("paused")})}),St(At(r),"onWindowResized",function(o){r.debouncedResize&&r.debouncedResize.cancel(),r.debouncedResize=(0,FY.default)(function(){return r.resizeWindow(o)},50),r.debouncedResize()}),St(At(r),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(r.track&&r.track.node);if(a){var l=it(it({listRef:r.list,trackRef:r.track},r.props),r.state);r.updateState(l,o,function(){r.props.autoplay?r.autoPlay("update"):r.pause("paused")}),r.setState({animating:!1}),clearTimeout(r.animationEndCallback),delete r.animationEndCallback}}),St(At(r),"updateState",function(o,a,l){var c=(0,sn.initializedState)(o);o=it(it(it({},o),c),{},{slideIndex:c.currentSlide});var d=(0,sn.getTrackLeft)(o);o=it(it({},o),{},{left:d});var h=(0,sn.getTrackCSS)(o);(a||hi.default.Children.count(r.props.children)!==hi.default.Children.count(o.children))&&(c.trackStyle=h),r.setState(c,l)}),St(At(r),"ssrInit",function(){if(r.props.variableWidth){var o=0,a=0,l=[],c=(0,sn.getPreClones)(it(it(it({},r.props),r.state),{},{slideCount:r.props.children.length})),d=(0,sn.getPostClones)(it(it(it({},r.props),r.state),{},{slideCount:r.props.children.length}));r.props.children.forEach(function(R){l.push(R.props.style.width),o+=R.props.style.width});for(var h=0;h<c;h++)a+=l[l.length-1-h],o+=l[l.length-1-h];for(var p=0;p<d;p++)o+=l[p];for(var m=0;m<r.state.currentSlide;m++)a+=l[m];var y={width:o+"px",left:-a+"px"};if(r.props.centerMode){var v="".concat(l[r.state.currentSlide],"px");y.left="calc(".concat(y.left," + (100% - ").concat(v,") / 2 ) ")}return{trackStyle:y}}var x=hi.default.Children.count(r.props.children),A=it(it(it({},r.props),r.state),{},{slideCount:x}),_=(0,sn.getPreClones)(A)+(0,sn.getPostClones)(A)+x,w=100/r.props.slidesToShow*_,M=100/_,E=-M*((0,sn.getPreClones)(A)+r.state.currentSlide)*w/100;r.props.centerMode&&(E+=(100-M*w/100)/2);var P={width:w+"%",left:E+"%"};return{slideWidth:M+"%",trackStyle:P}}),St(At(r),"checkImagesLoad",function(){var o=r.list&&r.list.querySelectorAll&&r.list.querySelectorAll(".slick-slide img")||[],a=o.length,l=0;Array.prototype.forEach.call(o,function(c){var d=function(){return++l&&l>=a&&r.onWindowResized()};if(!c.onclick)c.onclick=function(){return c.parentNode.focus()};else{var h=c.onclick;c.onclick=function(){h(),c.parentNode.focus()}}c.onload||(r.props.lazyLoad?c.onload=function(){r.adaptHeight(),r.callbackTimers.push(setTimeout(r.onWindowResized,r.props.speed))}:(c.onload=d,c.onerror=function(){d(),r.props.onLazyLoadError&&r.props.onLazyLoadError()}))})}),St(At(r),"progressiveLazyLoad",function(){for(var o=[],a=it(it({},r.props),r.state),l=r.state.currentSlide;l<r.state.slideCount+(0,sn.getPostClones)(a);l++)if(r.state.lazyLoadedList.indexOf(l)<0){o.push(l);break}for(var c=r.state.currentSlide-1;c>=-(0,sn.getPreClones)(a);c--)if(r.state.lazyLoadedList.indexOf(c)<0){o.push(c);break}o.length>0?(r.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(o)}}),r.props.onLazyLoad&&r.props.onLazyLoad(o)):r.lazyLoadTimer&&(clearInterval(r.lazyLoadTimer),delete r.lazyLoadTimer)}),St(At(r),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=r.props,c=l.asNavFor,d=l.beforeChange,h=l.onLazyLoad,p=l.speed,m=l.afterChange,y=r.state.currentSlide,v=(0,sn.slideHandler)(it(it(it({index:o},r.props),r.state),{},{trackRef:r.track,useCSS:r.props.useCSS&&!a})),x=v.state,A=v.nextState;if(x){d&&d(y,x.currentSlide);var _=x.lazyLoadedList.filter(function(w){return r.state.lazyLoadedList.indexOf(w)<0});h&&_.length>0&&h(_),!r.props.waitForAnimate&&r.animationEndCallback&&(clearTimeout(r.animationEndCallback),m&&m(y),delete r.animationEndCallback),r.setState(x,function(){c&&r.asNavForIndex!==o&&(r.asNavForIndex=o,c.innerSlider.slideHandler(o)),A&&(r.animationEndCallback=setTimeout(function(){var w=A.animating,M=GY(A,["animating"]);r.setState(M,function(){r.callbackTimers.push(setTimeout(function(){return r.setState({animating:w})},10)),m&&m(x.currentSlide),delete r.animationEndCallback})},p))})}}),St(At(r),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=it(it({},r.props),r.state),c=(0,sn.changeSlide)(l,o);if(!(c!==0&&!c)&&(a===!0?r.slideHandler(c,a):r.slideHandler(c),r.props.autoplay&&r.autoPlay("update"),r.props.focusOnSelect)){var d=r.list.querySelectorAll(".slick-current");d[0]&&d[0].focus()}}),St(At(r),"clickHandler",function(o){r.clickable===!1&&(o.stopPropagation(),o.preventDefault()),r.clickable=!0}),St(At(r),"keyHandler",function(o){var a=(0,sn.keyHandler)(o,r.props.accessibility,r.props.rtl);a!==""&&r.changeSlide({message:a})}),St(At(r),"selectHandler",function(o){r.changeSlide(o)}),St(At(r),"disableBodyScroll",function(){var o=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=o}),St(At(r),"enableBodyScroll",function(){window.ontouchmove=null}),St(At(r),"swipeStart",function(o){r.props.verticalSwiping&&r.disableBodyScroll();var a=(0,sn.swipeStart)(o,r.props.swipe,r.props.draggable);a!==""&&r.setState(a)}),St(At(r),"swipeMove",function(o){var a=(0,sn.swipeMove)(o,it(it(it({},r.props),r.state),{},{trackRef:r.track,listRef:r.list,slideIndex:r.state.currentSlide}));a&&(a.swiping&&(r.clickable=!1),r.setState(a))}),St(At(r),"swipeEnd",function(o){var a=(0,sn.swipeEnd)(o,it(it(it({},r.props),r.state),{},{trackRef:r.track,listRef:r.list,slideIndex:r.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,r.setState(a),l!==void 0&&(r.slideHandler(l),r.props.verticalSwiping&&r.enableBodyScroll())}}),St(At(r),"touchEnd",function(o){r.swipeEnd(o),r.clickable=!0}),St(At(r),"slickPrev",function(){r.callbackTimers.push(setTimeout(function(){return r.changeSlide({message:"previous"})},0))}),St(At(r),"slickNext",function(){r.callbackTimers.push(setTimeout(function(){return r.changeSlide({message:"next"})},0))}),St(At(r),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";r.callbackTimers.push(setTimeout(function(){return r.changeSlide({message:"index",index:o,currentSlide:r.state.currentSlide},a)},0))}),St(At(r),"play",function(){var o;if(r.props.rtl)o=r.state.currentSlide-r.props.slidesToScroll;else if((0,sn.canGoNext)(it(it({},r.props),r.state)))o=r.state.currentSlide+r.props.slidesToScroll;else return!1;r.slideHandler(o)}),St(At(r),"autoPlay",function(o){r.autoplayTimer&&clearInterval(r.autoplayTimer);var a=r.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;r.autoplayTimer=setInterval(r.play,r.props.autoplaySpeed+50),r.setState({autoplaying:"playing"})}),St(At(r),"pause",function(o){r.autoplayTimer&&(clearInterval(r.autoplayTimer),r.autoplayTimer=null);var a=r.state.autoplaying;o==="paused"?r.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&r.setState({autoplaying:"focused"}):a==="playing"&&r.setState({autoplaying:"hovered"})}),St(At(r),"onDotsOver",function(){return r.props.autoplay&&r.pause("hovered")}),St(At(r),"onDotsLeave",function(){return r.props.autoplay&&r.state.autoplaying==="hovered"&&r.autoPlay("leave")}),St(At(r),"onTrackOver",function(){return r.props.autoplay&&r.pause("hovered")}),St(At(r),"onTrackLeave",function(){return r.props.autoplay&&r.state.autoplaying==="hovered"&&r.autoPlay("leave")}),St(At(r),"onSlideFocus",function(){return r.props.autoplay&&r.pause("focused")}),St(At(r),"onSlideBlur",function(){return r.props.autoplay&&r.state.autoplaying==="focused"&&r.autoPlay("blur")}),St(At(r),"render",function(){var o=(0,kY.default)("slick-slider",r.props.className,{"slick-vertical":r.props.vertical,"slick-initialized":!0}),a=it(it({},r.props),r.state),l=(0,sn.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),c=r.props.pauseOnHover;l=it(it({},l),{},{onMouseEnter:c?r.onTrackOver:null,onMouseLeave:c?r.onTrackLeave:null,onMouseOver:c?r.onTrackOver:null,focusOnSelect:r.props.focusOnSelect&&r.clickable?r.selectHandler:null});var d;if(r.props.dots===!0&&r.state.slideCount>=r.props.slidesToShow){var h=(0,sn.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),p=r.props.pauseOnDotsHover;h=it(it({},h),{},{clickHandler:r.changeSlide,onMouseEnter:p?r.onDotsLeave:null,onMouseOver:p?r.onDotsOver:null,onMouseLeave:p?r.onDotsLeave:null}),d=hi.default.createElement(zY.Dots,h)}var m,y,v=(0,sn.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);v.clickHandler=r.changeSlide,r.props.arrows&&(m=hi.default.createElement(OP.PrevArrow,v),y=hi.default.createElement(OP.NextArrow,v));var x=null;r.props.vertical&&(x={height:r.state.listHeight});var A=null;r.props.vertical===!1?r.props.centerMode===!0&&(A={padding:"0px "+r.props.centerPadding}):r.props.centerMode===!0&&(A={padding:r.props.centerPadding+" 0px"});var _=it(it({},x),A),w=r.props.touchMove,M={className:"slick-list",style:_,onClick:r.clickHandler,onMouseDown:w?r.swipeStart:null,onMouseMove:r.state.dragging&&w?r.swipeMove:null,onMouseUp:w?r.swipeEnd:null,onMouseLeave:r.state.dragging&&w?r.swipeEnd:null,onTouchStart:w?r.swipeStart:null,onTouchMove:r.state.dragging&&w?r.swipeMove:null,onTouchEnd:w?r.touchEnd:null,onTouchCancel:r.state.dragging&&w?r.swipeEnd:null,onKeyDown:r.props.accessibility?r.keyHandler:null},E={className:o,dir:"ltr",style:r.props.style};return r.props.unslick&&(M={className:"slick-list"},E={className:o}),hi.default.createElement("div",E,r.props.unslick?"":m,hi.default.createElement("div",Bg({ref:r.listRefHandler},M),hi.default.createElement(NY.Track,Bg({ref:r.trackRefHandler},l),r.props.children)),r.props.unslick?"":y,r.props.unslick?"":d)}),r.list=null,r.track=null,r.state=it(it({},OY.default),{},{currentSlide:r.props.initialSlide,slideCount:hi.default.Children.count(r.props.children)}),r.callbackTimers=[],r.clickable=!0,r.debouncedResize=null;var s=r.ssrInit();return r.state=it(it({},r.state),s),r}return WY(t,[{key:"didPropsChange",value:function(r){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var l=a[o];if(!r.hasOwnProperty(l)){s=!0;break}if(!(Pg(r[l])==="object"||typeof r[l]=="function")&&r[l]!==this.props[l]){s=!0;break}}return s||hi.default.Children.count(this.props.children)!==hi.default.Children.count(r.children)}}]),t}(hi.default.Component);b0.InnerSlider=YY;var QY=function(n){return n.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},qY=QY,ZY=qY,$Y=function(n){var e=/[height|width]$/;return e.test(n)},NP=function(n){var e="",t=Object.keys(n);return t.forEach(function(i,r){var s=n[i];i=ZY(i),$Y(i)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=i:s===!1?e+="not "+i:e+="("+i+": "+s+")",r<t.length-1&&(e+=" and ")}),e},eQ=function(n){var e="";return typeof n=="string"?n:n instanceof Array?(n.forEach(function(t,i){e+=NP(t),i<n.length-1&&(e+=", ")}),e):NP(n)},tQ=eQ,ED={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(G);function t(s){return s&&s.__esModule?s:{default:s}}var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},r=i;n.default=r})(ED);var xx,zP;function nQ(){if(zP)return xx;zP=1;function n(e){this.options=e,!e.deferSetup&&this.setup()}return n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},xx=n,xx}var _x,UP;function TD(){if(UP)return _x;UP=1;function n(i,r){var s=0,o=i.length,a;for(s;s<o&&(a=r(i[s],s),a!==!1);s++);}function e(i){return Object.prototype.toString.apply(i)==="[object Array]"}function t(i){return typeof i=="function"}return _x={isFunction:t,isArray:e,each:n},_x}var Ax,GP;function iQ(){if(GP)return Ax;GP=1;var n=nQ(),e=TD().each;function t(i,r){this.query=i,this.isUnconditional=r,this.handlers=[],this.mql=window.matchMedia(i);var s=this;this.listener=function(o){s.mql=o.currentTarget||o,s.assess()},this.mql.addListener(this.listener)}return t.prototype={constuctor:t,addHandler:function(i){var r=new n(i);this.handlers.push(r),this.matches()&&r.on()},removeHandler:function(i){var r=this.handlers;e(r,function(s,o){if(s.equals(i))return s.destroy(),!r.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(i){i.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var i=this.matches()?"on":"off";e(this.handlers,function(r){r[i]()})}},Ax=t,Ax}var Sx,HP;function rQ(){if(HP)return Sx;HP=1;var n=iQ(),e=TD(),t=e.each,i=e.isFunction,r=e.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(o,a,l){var c=this.queries,d=l&&this.browserIsIncapable;return c[o]||(c[o]=new n(o,d)),i(a)&&(a={match:a}),r(a)||(a=[a]),t(a,function(h){i(h)&&(h={match:h}),c[o].addHandler(h)}),this},unregister:function(o,a){var l=this.queries[o];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[o])),this}},Sx=s,Sx}var wx,VP;function sQ(){if(VP)return wx;VP=1;var n=rQ();return wx=new n,wx}(function(n){function e(b){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},e(b)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=a(G),i=b0,r=a(tQ),s=a(ED),o=Fe;function a(b){return b&&b.__esModule?b:{default:b}}function l(){return l=Object.assign||function(b){for(var B=1;B<arguments.length;B++){var L=arguments[B];for(var O in L)Object.prototype.hasOwnProperty.call(L,O)&&(b[O]=L[O])}return b},l.apply(this,arguments)}function c(b,B){var L=Object.keys(b);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(b);B&&(O=O.filter(function(H){return Object.getOwnPropertyDescriptor(b,H).enumerable})),L.push.apply(L,O)}return L}function d(b){for(var B=1;B<arguments.length;B++){var L=arguments[B]!=null?arguments[B]:{};B%2?c(Object(L),!0).forEach(function(O){E(b,O,L[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(L)):c(Object(L)).forEach(function(O){Object.defineProperty(b,O,Object.getOwnPropertyDescriptor(L,O))})}return b}function h(b,B){if(!(b instanceof B))throw new TypeError("Cannot call a class as a function")}function p(b,B){for(var L=0;L<B.length;L++){var O=B[L];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(b,O.key,O)}}function m(b,B,L){return B&&p(b.prototype,B),L&&p(b,L),Object.defineProperty(b,"prototype",{writable:!1}),b}function y(b,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(B&&B.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),B&&v(b,B)}function v(b,B){return v=Object.setPrototypeOf||function(O,H){return O.__proto__=H,O},v(b,B)}function x(b){var B=w();return function(){var O=M(b),H;if(B){var U=M(this).constructor;H=Reflect.construct(O,arguments,U)}else H=O.apply(this,arguments);return A(this,H)}}function A(b,B){if(B&&(e(B)==="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(b)}function _(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function M(b){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(L){return L.__proto__||Object.getPrototypeOf(L)},M(b)}function E(b,B,L){return B in b?Object.defineProperty(b,B,{value:L,enumerable:!0,configurable:!0,writable:!0}):b[B]=L,b}var P=(0,o.canUseDOM)()&&sQ(),R=function(b){y(L,b);var B=x(L);function L(O){var H;return h(this,L),H=B.call(this,O),E(_(H),"innerSliderRefHandler",function(U){return H.innerSlider=U}),E(_(H),"slickPrev",function(){return H.innerSlider.slickPrev()}),E(_(H),"slickNext",function(){return H.innerSlider.slickNext()}),E(_(H),"slickGoTo",function(U){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return H.innerSlider.slickGoTo(U,W)}),E(_(H),"slickPause",function(){return H.innerSlider.pause("paused")}),E(_(H),"slickPlay",function(){return H.innerSlider.autoPlay("play")}),H.state={breakpoint:null},H._responsiveMediaHandlers=[],H}return m(L,[{key:"media",value:function(H,U){P.register(H,U),this._responsiveMediaHandlers.push({query:H,handler:U})}},{key:"componentDidMount",value:function(){var H=this;if(this.props.responsive){var U=this.props.responsive.map(function(J){return J.breakpoint});U.sort(function(J,ee){return J-ee}),U.forEach(function(J,ee){var ie;ee===0?ie=(0,r.default)({minWidth:0,maxWidth:J}):ie=(0,r.default)({minWidth:U[ee-1]+1,maxWidth:J}),(0,o.canUseDOM)()&&H.media(ie,function(){H.setState({breakpoint:J})})});var W=(0,r.default)({minWidth:U.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(W,function(){H.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(H){P.unregister(H.query,H.handler)})}},{key:"render",value:function(){var H=this,U,W;this.state.breakpoint?(W=this.props.responsive.filter(function(pe){return pe.breakpoint===H.state.breakpoint}),U=W[0].settings==="unslick"?"unslick":d(d(d({},s.default),this.props),W[0].settings)):U=d(d({},s.default),this.props),U.centerMode&&(U.slidesToScroll>1,U.slidesToScroll=1),U.fade&&(U.slidesToShow>1,U.slidesToScroll>1,U.slidesToShow=1,U.slidesToScroll=1);var J=t.default.Children.toArray(this.props.children);J=J.filter(function(pe){return typeof pe=="string"?!!pe.trim():!!pe}),U.variableWidth&&(U.rows>1||U.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),U.variableWidth=!1);for(var ee=[],ie=null,k=0;k<J.length;k+=U.rows*U.slidesPerRow){for(var X=[],K=k;K<k+U.rows*U.slidesPerRow;K+=U.slidesPerRow){for(var ae=[],V=K;V<K+U.slidesPerRow&&(U.variableWidth&&J[V].props.style&&(ie=J[V].props.style.width),!(V>=J.length));V+=1)ae.push(t.default.cloneElement(J[V],{key:100*k+10*K+V,tabIndex:-1,style:{width:"".concat(100/U.slidesPerRow,"%"),display:"inline-block"}}));X.push(t.default.createElement("div",{key:10*k+K},ae))}U.variableWidth?ee.push(t.default.createElement("div",{key:k,style:{width:ie}},X)):ee.push(t.default.createElement("div",{key:k},X))}if(U==="unslick"){var se="regular slider "+(this.props.className||"");return t.default.createElement("div",{className:se},J)}else ee.length<=U.slidesToShow&&(U.unslick=!0);return t.default.createElement(i.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},U),ee)}}]),L}(t.default.Component);n.default=R})(iD);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(iD);function t(r){return r&&r.__esModule?r:{default:r}}var i=e.default;n.default=i})(nD);const oQ=Z1(nD);const aQ=({index:n,testimonial:e,name:t,designation:i,company:r,image:s})=>et(Dn.div,{variants:Wo("","spring",n*.5,.75),className:"bg-black-200 p-10 rounded-3xl xs:w-[400px] w-full",children:[re("p",{className:"text-white font-black text-[48px]",children:'"'}),et("div",{children:[re("p",{className:"text-white tracking-wider text-[0.8rem]",children:e}),et("div",{className:"mt-7 flex justify-between items-center gap-1",children:[et("div",{className:"flex-1 flex flex-col",children:[et("p",{className:"text-white font-medium text-[16px]",children:[re("span",{className:"blue-text-gradient",children:"@"})," ",t]}),et("p",{className:"mt-1 text-secondary text-[12px]",children:[i," of ",r]})]}),re("img",{src:s,alt:`feedback_by-${t}`,className:"w-10 h-10 rounded-full object-cover"})]})]})]}),lQ=n=>{const{onClick:e}=n;return re("div",{className:"slick-next text-white text-1xl p-2 rounded-full bg-gray-600 bg-opacity-70 hover:bg-opacity-100 transition-all duration-200",onClick:e,children:""})},uQ=n=>{const{onClick:e}=n;return re("div",{className:"slick-prev text-white text-1xl p-2 rounded-full bg-gray-600 bg-opacity-70 hover:bg-opacity-100 transition-all duration-200",onClick:e,children:""})},cQ=()=>{const n={dots:!0,infinite:!0,speed:800,slidesToShow:3,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,nextArrow:re(lQ,{}),prevArrow:re(uQ,{}),responsive:[{breakpoint:1600,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:1200,settings:{dots:!1,slidesToShow:1,slidesToScroll:1}}]};return et("div",{className:"mt-12 bg-black-100 rounded-[20px] ",children:[re("div",{className:`${an.padding} bg-tertiary rounded-2xl min-h-[300px]`,children:re("div",{className:`${an.paddingSlider}`,children:et(Dn.div,{variants:$d(),children:[re("p",{className:an.sectionSubText,children:"recomendaes do linkedin"}),re("h2",{className:an.sectionHeadText,children:"Feedbacks."})]})})}),re("div",{className:`${an.paddingSlider} -mt-20 pb-7`,children:re("div",{className:`${an.paddingSlider} -mt-20 pb-7`,children:re(oQ,{...n,className:`slider-container ${an.paddingSlider} mx-auto`,children:xX.map((e,t)=>re("div",{className:"",children:re(aQ,{index:t,...e})},e.name))})})})]})},_d={_origin:"https://api.emailjs.com"},fQ=(n,e="https://api.emailjs.com")=>{_d._userID=n,_d._origin=e},PD=(n,e,t)=>{if(!n)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class WP{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const BD=(n,e,t={})=>new Promise((i,r)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new WP(o);a.status===200||a.text==="OK"?i(a):r(a)}),s.addEventListener("error",({target:o})=>{r(new WP(o))}),s.open("POST",_d._origin+n,!0),Object.keys(t).forEach(o=>{s.setRequestHeader(o,t[o])}),s.send(e)}),dQ=(n,e,t,i)=>{const r=i||_d._userID;return PD(r,n,e),BD("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:r,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"})},hQ=n=>{let e;if(typeof n=="string"?e=document.querySelector(n):e=n,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},pQ=(n,e,t,i)=>{const r=i||_d._userID,s=hQ(t);PD(r,n,e);const o=new FormData(s);return o.append("lib_version","3.11.0"),o.append("service_id",n),o.append("template_id",e),o.append("user_id",r),BD("/api/v1.0/email/send-form",o)},mQ={init:fQ,send:dQ,sendForm:pQ},gQ=()=>{const n=G.useRef(),[e,t]=G.useState({name:"",email:"",message:""}),[i,r]=G.useState(!1),s=a=>{const{name:l,value:c}=a.target;t({...e,[l]:c})},o=a=>{a.preventDefault(),r(!0),mQ.send("service_2keiygq","template_c2xrrxh",{form_name:e.name,to_name:"Marcos",from_email:e.email,to_email:"viniciusvinny@gmail.com",message:e.message},"9pvzUbBuV8F-1r_um").then(()=>{r(!1),alert("Obrigado. Eu entrarei em contato com voc o mais breve possvel."),t({name:"",email:"",message:""})},l=>{r(!1),console.log(l),alert("Alguma coisa de errado aconteceu, entre em contato comigo pelo Linkedin.")})};return et("div",{className:"xl:mt-6 flex xl:flex-row flex-col-reverse gap-10 overflow-hidden",children:[et(Dn.div,{variants:xP("left","tween",.2,1),className:"flex-[1] bg-black-100 p-8 rounded-2xl",children:[re("p",{className:an.sectionSubText,children:"ENTRE EM CONTATO"}),re("h3",{className:an.sectionHeadText,children:"Contato."}),et("form",{ref:n,onSubmit:o,className:"mt-12 flex flex-col gap-8",children:[et("label",{className:"flex flex-col",children:[re("span",{className:"text-white font-medium mb-4",children:"Seu nome"}),re("input",{type:"text",name:"name",value:e.name,onChange:s,placeholder:"Qual  o seu nome ?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium",required:!0})]}),et("label",{className:"flex flex-col",children:[re("span",{className:"text-white font-medium mb-4",children:"Seu email"}),re("input",{type:"email",name:"email",value:e.email,onChange:s,placeholder:"Qual  o seu email ?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium",required:!0})]}),et("label",{className:"flex flex-col",children:[re("span",{className:"text-white font-medium mb-4",children:"Sua mensagem"}),re("textarea",{rows:7,name:"message",value:e.message,onChange:s,placeholder:"O que voc quer falar ?",className:"bg-tertiary py-4 px-6 placeholder:text-secondary text-white rounded-lg outline-none border-none font-medium",required:!0})]}),et("div",{className:"flex justify-between",children:[re("button",{type:"submit",className:"bg-tertiary py-3 px-8 rounded-xl outline-none w-fit text-white font-bold shadow-md shadow-primary",children:i?"Enviando...":"Enviar"}),et("div",{className:"flex grid-row",children:[re("div",{className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer mr-5",onClick:()=>window.open("https://github.com/viniciusvinny233","_blank"),children:re("img",{src:qI,alt:"github",className:"w-7 object-contain"})}),re("div",{className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer mr-5",onClick:()=>window.open("https://www.linkedin.com/in/marcosvinicius-developer/","_blank"),children:re("img",{src:"/src/assets/tech/linkedin.png",alt:"Linkedin",className:"w-1/2 h-1/2 object-contain"})}),re("div",{className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer",onClick:()=>window.open("https://www.discordapp.com/users/354444801917059073","_blank"),children:re("img",{src:"/src/assets/tech/discord.png",alt:"Discord",id:"iconContato",className:"w-10 h-1/2 object-contain"})})]})]})]})]}),re(Dn.div,{variants:xP("right","tween",.2,1),className:"xl:flex-1 xl:h-auto md:h-[550px] h-[350px]",children:re(T6,{})})]})},vQ=eh(gQ,"contact"),yQ=()=>re(AN,{children:et("div",{className:"relative z-0 bg-primary",children:[et("div",{className:"bg-hero-pattern bg-cover bg-no-repeat bg-center",children:[re(AX,{}),re(YJ,{})]}),re(CX,{}),re(oK,{}),re(GX,{}),re(uK,{}),re(cQ,{}),et("div",{className:"relative z-0",children:[re(vQ,{}),re(B6,{})]})]})});Cx.createRoot(document.getElementById("root")).render(re(Ig.StrictMode,{children:re(yQ,{})}));
